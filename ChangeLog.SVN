------------------------------------------------------------------------
r3508 | mtabachenko | 2010-04-08 05:11:24 +0800 (四, 08  4月 2010) | 2 lines

- again ADC/SBC :(

------------------------------------------------------------------------
r3507 | yabause | 2010-04-08 04:57:51 +0800 (四, 08  4月 2010) | 2 lines

Added missing agg flags.

------------------------------------------------------------------------
r3506 | luigi__ | 2010-04-08 00:54:12 +0800 (四, 08  4月 2010) | 2 lines

Add more TODO, and nuke the useless OP_LDR_M_IMM_OFF_POSTIND2.

------------------------------------------------------------------------
r3505 | riccardom | 2010-04-08 00:53:54 +0800 (四, 08  4月 2010) | 2 lines

Switch hud related switches to proper widget too.

------------------------------------------------------------------------
r3504 | luigi__ | 2010-04-08 00:36:09 +0800 (四, 08  4月 2010) | 3 lines

ARM: Add more missing opcodes to the table (it should be fine now).
Also, more clean formatting, each line has got its index shown in binary to help looking for one particular opcode...

------------------------------------------------------------------------
r3503 | riccardom | 2010-04-08 00:27:30 +0800 (四, 08  4月 2010) | 2 lines

Correct menu layers widgets to be checked check item.

------------------------------------------------------------------------
r3502 | riccardom | 2010-04-08 00:18:06 +0800 (四, 08  4月 2010) | 2 lines

Update wx frontend per GPU changes.

------------------------------------------------------------------------
r3501 | riccardom | 2010-04-07 20:51:47 +0800 (三, 07  4月 2010) | 8 lines

Move cli frontend event processing to process_ctrls_event

Unify the switch Instead of evaluating sdl events both
in ctrlsdl and cli frontend.

With this change now ctrlsdl gets in touch with both
GPU_osd and fake mic code.

------------------------------------------------------------------------
r3500 | mtabachenko | 2010-04-07 05:28:14 +0800 (三, 07  4月 2010) | 2 lines

- fix CPSR flags in ADC/SBC :P

------------------------------------------------------------------------
r3499 | zeromus | 2010-04-07 05:10:11 +0800 (三, 07  4月 2010) | 2 lines

win32: make layer toggling not so glitchy when switching roms or loading states, and fix a spu related crash when opening a new rom

------------------------------------------------------------------------
r3498 | zeromus | 2010-04-07 02:41:19 +0800 (三, 07  4月 2010) | 2 lines

spu: fix crash in loadstate with sound enabled

------------------------------------------------------------------------
r3496 | mtabachenko | 2010-04-07 01:24:31 +0800 (三, 07  4月 2010) | 3 lines

THUMB:
- fix Carry & Negative flags in ADC, SBC opcodes;

------------------------------------------------------------------------
r3495 | normmatt234 | 2010-04-07 00:20:48 +0800 (三, 07  4月 2010) | 3 lines

fix a couple of thumb opcode regressions.
allow ds, ds/dsi hybrid and dsi only nds files to be opened.

------------------------------------------------------------------------
r3494 | mtabachenko | 2010-04-06 23:44:03 +0800 (二, 06  4月 2010) | 7 lines

core:
- fix CP15 register 1 (control register);
- fix CP15 register 2 (TCM size);
- remove CP15 from ARM7;
- fix some CPU bugs in THUMB mode (added comments from official reference);
- added loops for HLE BIOS exceptions;

------------------------------------------------------------------------
r3493 | zeromus | 2010-04-06 06:47:46 +0800 (二, 06  4月 2010) | 2 lines

and lo, the lies were abated and the untruth receded from the land

------------------------------------------------------------------------
r3492 | riccardom | 2010-04-06 01:03:06 +0800 (二, 06  4月 2010) | 4 lines

Move initialization stuff not strictly related with the
wx frontend in DesmumeFrame::NDSInitialize(). While at
it add dummy firmware.

------------------------------------------------------------------------
r3491 | riccardom | 2010-04-06 00:33:24 +0800 (二, 06  4月 2010) | 3 lines

No need to include wx/isql.h (!) for a typedef. Brown
paper bag for me.

------------------------------------------------------------------------
r3490 | riccardom | 2010-04-06 00:11:29 +0800 (二, 06  4月 2010) | 3 lines

Cleanup the code a bit wrt, unused functions and functions
that can be declared static.

------------------------------------------------------------------------
r3489 | riccardom | 2010-04-05 23:16:37 +0800 (一, 05  4月 2010) | 2 lines

Make our stub code for not shipping lua a bit less lame.

------------------------------------------------------------------------
r3488 | riccardom | 2010-04-05 23:03:51 +0800 (一, 05  4月 2010) | 4 lines

Reorder initialization order of some classes to shut up
gcc warnings about having them in a different order
where defined.

------------------------------------------------------------------------
r3487 | riccardom | 2010-04-05 22:40:08 +0800 (一, 05  4月 2010) | 6 lines

Remember to destroy the 3d dialog

If we don't call Destroy() on close event callback i'm not
able to quit fully from wx frontend if i've previously
launched the 3d viewer.

------------------------------------------------------------------------
r3486 | riccardom | 2010-04-05 22:30:46 +0800 (一, 05  4月 2010) | 5 lines

Remove wx integration demo from gtk frontend

It works but since we have the 3d viewer available in the
wx frontend it does little sense to keep this here.

------------------------------------------------------------------------
r3485 | riccardom | 2010-04-05 21:07:30 +0800 (一, 05  4月 2010) | 5 lines

Does this FASTCALL definition helps? how much? in the mean
time just don't enable it for clang since it breaks
arm_instruction.cpp compilation with that. clang finally
compiles desmume \o/

------------------------------------------------------------------------
r3484 | riccardom | 2010-04-05 21:00:51 +0800 (一, 05  4月 2010) | 2 lines

Add missing cast.

------------------------------------------------------------------------
r3483 | zeromus | 2010-04-05 14:24:12 +0800 (一, 05  4月 2010) | 2 lines

spu: fix regression in some sound capture cases and support reverb better

------------------------------------------------------------------------
r3482 | zeromus | 2010-04-04 17:23:53 +0800 (日, 04  4月 2010) | 2 lines

dont checkin debug code

------------------------------------------------------------------------
r3481 | gocha | 2010-04-04 17:12:55 +0800 (日, 04  4月 2010) | 2 lines

Do not memcpy the destination itself

------------------------------------------------------------------------
r3480 | zeromus | 2010-04-04 17:06:29 +0800 (日, 04  4月 2010) | 2 lines

add soundview toys

------------------------------------------------------------------------
r3479 | gocha | 2010-04-04 16:43:32 +0800 (日, 04  4月 2010) | 2 lines

Give movies firmware settings as well as bios settings. (For now, it's write only!)

------------------------------------------------------------------------
r3478 | zeromus | 2010-04-04 16:25:42 +0800 (日, 04  4月 2010) | 2 lines

oops typo

------------------------------------------------------------------------
r3477 | zeromus | 2010-04-04 15:28:00 +0800 (日, 04  4月 2010) | 2 lines

tweak boot from card flag

------------------------------------------------------------------------
r3476 | gocha | 2010-04-04 11:59:10 +0800 (日, 04  4月 2010) | 2 lines

Add dirty dirty() calls for clearing Lua drawings even when no HUD parts are displayed.

------------------------------------------------------------------------
r3475 | gocha | 2010-04-04 07:11:48 +0800 (日, 04  4月 2010) | 2 lines

Fix toBCD(), RTC read date should work right again.

------------------------------------------------------------------------
r3474 | luigi__ | 2010-04-04 03:14:44 +0800 (日, 04  4月 2010) | 3 lines

ARM: fix a bug in the instruction table.
Fixes issue #2977277 (undefined instruction 0x54F13001).

------------------------------------------------------------------------
r3473 | gocha | 2010-04-03 23:18:57 +0800 (六, 03  4月 2010) | 2 lines

Add RTC display for movie recording, and small modifications.

------------------------------------------------------------------------
r3472 | riccardom | 2010-04-03 21:04:55 +0800 (六, 03  4月 2010) | 2 lines

Fixup movie.cpp compilation.

------------------------------------------------------------------------
r3471 | gocha | 2010-04-03 15:11:29 +0800 (六, 03  4月 2010) | 3 lines

Add new field 'rtcStart' to the movie. It specifies the time of RTC at the beginning of the movie. (needs more test!)
TODO: record firmware settings as well.

------------------------------------------------------------------------
r3470 | zeromus | 2010-04-03 03:38:15 +0800 (六, 03  4月 2010) | 2 lines

win32: why wasnt the debug key enabled?

------------------------------------------------------------------------
r3469 | zeromus | 2010-04-03 02:06:21 +0800 (六, 03  4月 2010) | 2 lines

add --advanced-timing for nonwindows users

------------------------------------------------------------------------
r3468 | riccardom | 2010-04-02 21:49:57 +0800 (五, 02  4月 2010) | 4 lines

Shutdown the machine before exiting, otherwise we can
segfault if a rom is playing. It also cleanups valgrind
output when looking for leaks.

------------------------------------------------------------------------
r3467 | riccardom | 2010-04-02 21:45:54 +0800 (五, 02  4月 2010) | 4 lines

ROMfullName is already zero'ed before, no need to do it
for each entry.
I swear, i was looking there for another issue.

------------------------------------------------------------------------
r3466 | riccardom | 2010-04-02 01:01:29 +0800 (五, 02  4月 2010) | 3 lines

...So there's no need to call NDSInitialize everytime
we load a rom.

------------------------------------------------------------------------
r3465 | riccardom | 2010-04-02 00:54:26 +0800 (五, 02  4月 2010) | 2 lines

Standardize on WIN32 for preprocessor directives.

------------------------------------------------------------------------
r3464 | riccardom | 2010-04-02 00:52:00 +0800 (五, 02  4月 2010) | 2 lines

Pause the SPU when closing rom to avoid annoying sound loop

------------------------------------------------------------------------
r3463 | riccardom | 2010-04-02 00:47:07 +0800 (五, 02  4月 2010) | 7 lines

Add recent menu to wx frontend

Apply patch 2 series 2 from yar-tour, #2969484

rm: The fact that we need to call NDSInitialize on rom
    open is silly.

------------------------------------------------------------------------
r3462 | riccardom | 2010-04-02 00:35:00 +0800 (五, 02  4月 2010) | 8 lines

Use WxConfig for config file

No need to rewrite the handling of a ini-like config
file when wxwidgets have already one available.

These are patches 1 and 3 from yar-tour second series,
at #2969484

------------------------------------------------------------------------
r3461 | zeromus | 2010-04-01 12:57:08 +0800 (四, 01  4月 2010) | 2 lines

remove alternate flush mode reminder label; add option for advanced bus timing and add to emuconfig dialog; unhook 3d viewer temporarily since it doesn't work yet

------------------------------------------------------------------------
r3460 | zeromus | 2010-04-01 07:51:47 +0800 (四, 01  4月 2010) | 2 lines

block 8bit vram writes (except from arm7 which gbatek says works)

------------------------------------------------------------------------
r3459 | zeromus | 2010-04-01 05:51:51 +0800 (四, 01  4月 2010) | 2 lines

changelog needed 2 months of updates

------------------------------------------------------------------------
r3458 | zeromus | 2010-04-01 05:49:56 +0800 (四, 01  4月 2010) | 2 lines

default to soft rasterizer

------------------------------------------------------------------------
r3457 | zeromus | 2010-04-01 05:31:30 +0800 (四, 01  4月 2010) | 2 lines

win32: add arm9 load average to ctrl+prtscr

------------------------------------------------------------------------
r3456 | zeromus | 2010-04-01 03:19:39 +0800 (四, 01  4月 2010) | 2 lines

gfx3d: fiddle with poly sorting. break some things, fix more things. broken things I think are due to floating point gfx3d math

------------------------------------------------------------------------
r3455 | zeromus | 2010-03-31 14:58:14 +0800 (三, 31  3月 2010) | 2 lines

make swap_buffers parameter take effect for subsequent frame, instead of previous frame, contrary to intuition and good sense. fixes some dual screen games which have been w/z broken for ages

------------------------------------------------------------------------
r3454 | zeromus | 2010-03-30 16:43:42 +0800 (二, 30  3月 2010) | 2 lines

oops i did that wrong

------------------------------------------------------------------------
r3453 | zeromus | 2010-03-30 16:34:01 +0800 (二, 30  3月 2010) | 2 lines

add emulation for spi power management device system power-off and add power management device to savestates

------------------------------------------------------------------------
r3452 | zeromus | 2010-03-30 14:34:08 +0800 (二, 30  3月 2010) | 2 lines

fix interrupt handling to respond immediately when CPSR.I is changed; also double buffer 3d configuration so that the settings in place at the time of flush get used for rendering (important for dual screen 3d games that use different settings for each screen); and handle 3d clear color register more thoroughly

------------------------------------------------------------------------
r3451 | zeromus | 2010-03-30 10:11:04 +0800 (二, 30  3月 2010) | 2 lines

continue tweaking scanline render timing (fix some parallax regressions)

------------------------------------------------------------------------
r3450 | mtabachenko | 2010-03-29 04:20:29 +0800 (一, 29  3月 2010) | 2 lines

oops :(

------------------------------------------------------------------------
r3449 | mtabachenko | 2010-03-29 04:18:49 +0800 (一, 29  3月 2010) | 8 lines

core:
- add support for 16Mbit, 32Mbit, 64Mbit, 128Mbit, 256Mbit, 512Mbit flash memory card :) (NAND not implemented yet);
- fix a "div by zero" flag;

winport:
- now savetypes in menu create dynamically;
- fix x64 build;

------------------------------------------------------------------------
r3448 | zeromus | 2010-03-28 03:18:57 +0800 (日, 28  3月 2010) | 2 lines

fix fog tables more correctly by throwing away top bit and making write-only. add a new test for register tests

------------------------------------------------------------------------
r3447 | zeromus | 2010-03-27 02:53:54 +0800 (六, 27  3月 2010) | 2 lines

dont checkin  suo

------------------------------------------------------------------------
r3446 | yoshihiropsp | 2010-03-27 02:51:37 +0800 (六, 27  3月 2010) | 2 lines

Xbox Project

------------------------------------------------------------------------
r3445 | zeromus | 2010-03-27 02:22:46 +0800 (六, 27  3月 2010) | 2 lines

check in all the xbox compile fixes after tweaking some things. looks benign. need to test compilation in nix still

------------------------------------------------------------------------
r3444 | yoshihiropsp | 2010-03-26 23:38:56 +0800 (五, 26  3月 2010) | 2 lines

#undef min max and fix forceinline for XBOX360

------------------------------------------------------------------------
r3443 | yoshihiropsp | 2010-03-26 23:37:25 +0800 (五, 26  3月 2010) | 2 lines

Added XBOX include

------------------------------------------------------------------------
r3442 | yoshihiropsp | 2010-03-26 23:36:22 +0800 (五, 26  3月 2010) | 2 lines

Added Forceinline fix on XBOX360 cannot be used with static

------------------------------------------------------------------------
r3441 | yoshihiropsp | 2010-03-26 23:33:46 +0800 (五, 26  3月 2010) | 2 lines

Fixed GFX3D reset on xbox hardware #define _XBOX

------------------------------------------------------------------------
r3440 | yoshihiropsp | 2010-03-26 23:32:15 +0800 (五, 26  3月 2010) | 2 lines

#undef min max for XBOX360

------------------------------------------------------------------------
r3439 | yoshihiropsp | 2010-03-26 23:30:35 +0800 (五, 26  3月 2010) | 2 lines

Add _XBOX undefined

------------------------------------------------------------------------
r3438 | yoshihiropsp | 2010-03-26 23:27:39 +0800 (五, 26  3月 2010) | 2 lines

Added XBOX360 support for compactflash

------------------------------------------------------------------------
r3437 | yabause | 2010-03-26 22:48:19 +0800 (五, 26  3月 2010) | 3 lines

Reverting the whole tree to revision 3423, please test to
make sure everything is back :)

------------------------------------------------------------------------
r3436 | yoshihiropsp | 2010-03-26 22:09:25 +0800 (五, 26  3月 2010) | 2 lines

Big endian argb

------------------------------------------------------------------------
r3435 | yoshihiropsp | 2010-03-26 22:07:31 +0800 (五, 26  3月 2010) | 1 line

------------------------------------------------------------------------
r3434 | yoshihiropsp | 2010-03-26 22:05:31 +0800 (五, 26  3月 2010) | 2 lines

Version string fixed for XBox360 new def

------------------------------------------------------------------------
r3433 | yoshihiropsp | 2010-03-26 22:03:43 +0800 (五, 26  3月 2010) | 1 line

------------------------------------------------------------------------
r3432 | yoshihiropsp | 2010-03-26 22:01:24 +0800 (五, 26  3月 2010) | 2 lines

Added some define for the xbox360 support

------------------------------------------------------------------------
r3431 | yoshihiropsp | 2010-03-26 22:00:06 +0800 (五, 26  3月 2010) | 1 line

------------------------------------------------------------------------
r3430 | yoshihiropsp | 2010-03-26 21:53:21 +0800 (五, 26  3月 2010) | 2 lines

Added xbox360 support to desmume Yoshihiro

------------------------------------------------------------------------
r3429 | yoshihiropsp | 2010-03-26 21:50:14 +0800 (五, 26  3月 2010) | 1 line

------------------------------------------------------------------------
r3428 | yoshihiropsp | 2010-03-26 21:48:41 +0800 (五, 26  3月 2010) | 1 line

------------------------------------------------------------------------
r3427 | yoshihiropsp | 2010-03-26 21:47:15 +0800 (五, 26  3月 2010) | 2 lines

Added xbox360 support on desmume

------------------------------------------------------------------------
r3426 | mtabachenko | 2010-03-26 21:45:24 +0800 (五, 26  3月 2010) | 2 lines

- move xbox360 stuff to new directory;

------------------------------------------------------------------------
r3425 | mtabachenko | 2010-03-26 21:42:46 +0800 (五, 26  3月 2010) | 2 lines

- x360 port directory;

------------------------------------------------------------------------
r3424 | yoshihiropsp | 2010-03-26 21:26:31 +0800 (五, 26  3月 2010) | 2 lines

Added xbox360 support by Yoshihiro

------------------------------------------------------------------------
r3423 | zeromus | 2010-03-25 11:10:11 +0800 (四, 25  3月 2010) | 2 lines

fix dualscreen 3d frameskip screen cloning/flickering regression from r3422

------------------------------------------------------------------------
r3422 | zeromus | 2010-03-25 07:13:36 +0800 (四, 25  3月 2010) | 2 lines

tweak around lcd line timing: make 3d vblank more generous (is still unrealistically brutal since all the rendering happens instantaneously, unlike real HW); give scanlines more time to render (render at end of scanline instead of hblank begin); execute an additional hblank dma on vcount=262 (speculative; fixes jittery nsmb split-parallax clouds)

------------------------------------------------------------------------
r3421 | zeromus | 2010-03-24 05:56:24 +0800 (三, 24  3月 2010) | 2 lines

rasterize: fix fog densities > 127

------------------------------------------------------------------------
r3420 | mtabachenko | 2010-03-24 02:56:10 +0800 (三, 24  3月 2010) | 6 lines

core:
- fix overflow in matrices, NDS using only 24 bits for fixed-point numbers (fixed minigame with carrot :) and dialogs with star in "M&L Bowser Inside Story");

tools:
- add matrix stack test;

------------------------------------------------------------------------
r3419 | zeromus | 2010-03-19 06:19:31 +0800 (五, 19  3月 2010) | 2 lines

fix swi 0x0E (crc16); your dawn of sorrow savefiles are invalidated.

------------------------------------------------------------------------
r3418 | zeromus | 2010-03-19 02:57:36 +0800 (五, 19  3月 2010) | 2 lines

debug: get rid of excessive "Reading beyond end of cart" messages

------------------------------------------------------------------------
r3417 | zeromus | 2010-03-18 06:45:33 +0800 (四, 18  3月 2010) | 2 lines

debug: add no$ message support

------------------------------------------------------------------------
r3416 | zeromus | 2010-03-18 05:25:11 +0800 (四, 18  3月 2010) | 2 lines

gpu: fix 3d blending color effects being applied when they shouldnt be

------------------------------------------------------------------------
r3415 | zeromus | 2010-03-18 03:25:33 +0800 (四, 18  3月 2010) | 2 lines

win32: add menu items for obj display toggle

------------------------------------------------------------------------
r3414 | mtabachenko | 2010-03-17 22:04:50 +0800 (三, 17  3月 2010) | 3 lines

winport:
- fix input feedback support;

------------------------------------------------------------------------
r3413 | mtabachenko | 2010-03-17 21:10:15 +0800 (三, 17  3月 2010) | 4 lines

core:
- fix matrix stack for Projection & Texture mode (fix bug #2910405);
- fix some typos;

------------------------------------------------------------------------
r3412 | riccardom | 2010-03-17 04:33:47 +0800 (三, 17  3月 2010) | 10 lines

Add gap and resize support to wx frontend

This patch adds gap up to 90px when the user resize
vertically the window.

Speaking of sizes we are losing the last entry in the menu
because it does not fit in the 256 px limit.

Patch #5 by yar-tour from #2969484

------------------------------------------------------------------------
r3411 | riccardom | 2010-03-17 01:34:53 +0800 (三, 17  3月 2010) | 14 lines

Add rotation to wxwidgets frontend

Add rotation to wxwidgets frontend, code derived from
gtk frontend.

rm: my changes are mostly cosmetics (how can you read
multiple statements in one line? a mistery to me :)
and some tidy up for gpu_screen_to_rgb. Let me left
this quote in my defense:
"If you want to go somewhere, goto is the best way to
 get there."

Patch #4 by yar-tour from #2969484

------------------------------------------------------------------------
r3410 | riccardom | 2010-03-16 22:43:26 +0800 (二, 16  3月 2010) | 7 lines

Add audio to wxfrontend on !win32

I've verified that calling the SPU_* functions without
SPU_ChangeSoundCore() does not harm here.

Based on patch #3 by yar-tour in #2969484.

------------------------------------------------------------------------
r3409 | riccardom | 2010-03-16 22:23:27 +0800 (二, 16  3月 2010) | 6 lines

Cleanup load / save states menu

This cleanup the load and save states menu by using
EVT_MENU_RANGE.
Slightly edited from patch #2 of yar-tour in bug #2969484

------------------------------------------------------------------------
r3408 | riccardom | 2010-03-16 22:01:08 +0800 (二, 16  3月 2010) | 9 lines

Fixup event enum

Using straight standard wx defintion as values in the
enum for events is wrong because we end up reusing the
already defined standard values. Use the wx definitions
directly in the code so we start from 0 in the enum.
This fix the funny random icons in the menu.
Slightly edited from patch #1 by yar-tour in bug #2969484

------------------------------------------------------------------------
r3407 | riccardom | 2010-03-15 18:38:30 +0800 (一, 15  3月 2010) | 3 lines

Use Destroy() instead of Close() to exit from the controls
dialog.

------------------------------------------------------------------------
r3406 | riccardom | 2010-03-15 07:17:21 +0800 (一, 15  3月 2010) | 3 lines

Let the wx frontend build without libagg, based on a
patch by Yar-Tour in bug #2969484.

------------------------------------------------------------------------
r3405 | mtabachenko | 2010-03-14 16:26:41 +0800 (日, 14  3月 2010) | 3 lines

core:
- handle 32bit divnumer & divdenom (fix "Sonic Classic Collection");

------------------------------------------------------------------------
r3404 | riccardom | 2010-03-12 22:57:43 +0800 (五, 12  3月 2010) | 2 lines

Move unused functions under #if 0.

------------------------------------------------------------------------
r3403 | riccardom | 2010-03-12 22:48:18 +0800 (五, 12  3月 2010) | 2 lines

colorAlpha is not used anymore.

------------------------------------------------------------------------
r3402 | riccardom | 2010-03-12 22:47:15 +0800 (五, 12  3月 2010) | 3 lines

Remove unused variable and fix signed vs unsigned
comparison warning.

------------------------------------------------------------------------
r3401 | riccardom | 2010-03-12 22:46:44 +0800 (五, 12  3月 2010) | 2 lines

Move declaration of nds_debug_* functions in header.

------------------------------------------------------------------------
r3400 | riccardom | 2010-03-12 22:37:33 +0800 (五, 12  3月 2010) | 2 lines

We can make validateIF_arm9 static.

------------------------------------------------------------------------
r3399 | riccardom | 2010-03-12 22:33:58 +0800 (五, 12  3月 2010) | 3 lines

Make acl_check_access static and comment a variabile which
is used only in commented code.

------------------------------------------------------------------------
r3398 | mtabachenko | 2010-03-12 05:53:23 +0800 (五, 12  3月 2010) | 3 lines

win32:
- sorry, I`m ignored last commit from zeromus :)

------------------------------------------------------------------------
r3397 | mtabachenko | 2010-03-12 05:21:44 +0800 (五, 12  3月 2010) | 3 lines

win32:
- fix some bugs in OAM viewer and add scale thumb viewer;

------------------------------------------------------------------------
r3396 | mtabachenko | 2010-03-12 05:18:33 +0800 (五, 12  3月 2010) | 3 lines

core:
- fix timings in THUMB CPU mode (fix bug #2879374 and break SW: CW JA intro :(, maybe mistake in WiFi emulation);

------------------------------------------------------------------------
r3395 | zeromus | 2010-03-11 02:03:11 +0800 (四, 11  3月 2010) | 2 lines

win32: straighten out the save slot 0 / F10 business

------------------------------------------------------------------------
r3394 | wntrmute | 2010-03-06 04:42:35 +0800 (六, 06  3月 2010) | 2 lines

use correct address for argv

------------------------------------------------------------------------
r3393 | riccardom | 2010-03-05 22:13:43 +0800 (五, 05  3月 2010) | 6 lines

Cleanup resize code with opengl 2d

Based on a patch submitted at #2839785 by ramarren
simplifies a lot the code. It removes so much lines it
can't be wrong :)

------------------------------------------------------------------------
r3392 | riccardom | 2010-03-05 21:43:41 +0800 (五, 05  3月 2010) | 7 lines

Fixup cflash handling in cli frontend, bug #2955684

The code is c&p from gtk frontend to handle some addons
stuff properly. Should fix #2955684.

[insert a rant here on patches without reporter feeedback]

------------------------------------------------------------------------
r3391 | riccardom | 2010-03-05 21:31:56 +0800 (五, 05  3月 2010) | 2 lines

Whitespace fixup.

------------------------------------------------------------------------
r3390 | riccardom | 2010-03-03 00:47:49 +0800 (三, 03  3月 2010) | 2 lines

Simply fps calculation.

------------------------------------------------------------------------
r3389 | riccardom | 2010-03-03 00:46:28 +0800 (三, 03  3月 2010) | 3 lines

Temporary workaround for forcing the cli keyboard mapping
instead of the gtk one.

------------------------------------------------------------------------
r3388 | zeromus | 2010-02-28 08:07:11 +0800 (日, 28  2月 2010) | 2 lines

screw around with some debugging features and the win32 disassembler windows

------------------------------------------------------------------------
r3387 | riccardom | 2010-02-20 21:57:06 +0800 (六, 20  2月 2010) | 3 lines

Add a note about the libagg now optional for linux
frontends.

------------------------------------------------------------------------
r3386 | mtabachenko | 2010-02-20 03:25:07 +0800 (六, 20  2月 2010) | 3 lines

core:
- add 32bits BLDY register write (fix fading in GTA);

------------------------------------------------------------------------
r3385 | riccardom | 2010-02-18 05:40:30 +0800 (四, 18  2月 2010) | 2 lines

Whitespace cleanup.

------------------------------------------------------------------------
r3384 | riccardom | 2010-02-17 22:36:51 +0800 (三, 17  2月 2010) | 4 lines

Don't build the wx frontend if antigrain is not available

I don't want to clutter the source code with ifdef :)

------------------------------------------------------------------------
r3383 | riccardom | 2010-02-17 22:06:00 +0800 (三, 17  2月 2010) | 6 lines

Let desmume build without libagg

libagg is used only by the HUD but the usage of it
outside windows is pretty small. So just in case it is
not available we can live without it.

------------------------------------------------------------------------
r3382 | riccardom | 2010-02-17 18:49:02 +0800 (三, 17  2月 2010) | 2 lines

GPU_osd.h is not needed here.

------------------------------------------------------------------------
r3381 | zeromus | 2010-02-15 19:02:49 +0800 (一, 15  2月 2010) | 2 lines

stop letting roms read off the end of the cart and crash the emulator.

------------------------------------------------------------------------
r3380 | riccardom | 2010-02-13 00:57:39 +0800 (六, 13  2月 2010) | 2 lines

We can make CLZ_TAB const.

------------------------------------------------------------------------
r3379 | zeromus | 2010-02-10 03:33:03 +0800 (三, 10  2月 2010) | 2 lines

don't print mandatory \n in ideaslog

------------------------------------------------------------------------
r3378 | mtabachenko | 2010-02-08 20:27:12 +0800 (一, 08  2月 2010) | 3 lines

winport:
- removed EXPERIMENTAL_WIFI_COMM definition from VS2008 x86 project (use userconfig.h for definitions);

------------------------------------------------------------------------
r3377 | zeromus | 2010-02-06 23:51:04 +0800 (六, 06  2月 2010) | 2 lines

fix another typo. this is why i said I dont have a code pattern i like yet

------------------------------------------------------------------------
r3376 | zeromus | 2010-02-06 23:37:30 +0800 (六, 06  2月 2010) | 2 lines

fix typo in powcnt1

------------------------------------------------------------------------
r3375 | zeromus | 2010-02-06 02:48:44 +0800 (六, 06  2月 2010) | 3 lines

fix powcnt1 better (fixes manicminer homebrew)
note that 90% of all remaining desmume bugs can probably be fixed by more correct register emulation in a way done like this checkin. however I have not yet established a code pattern that I like for it so I am not sweeping through and changing them all at once yet.

------------------------------------------------------------------------
r3374 | mtabachenko | 2010-02-06 00:41:15 +0800 (六, 06  2月 2010) | 3 lines

OpenGL:
- rewrite shaders, optimized & fixed some bugs (fixed dark donuts in Garfield, bosses in Nanostray 2);

------------------------------------------------------------------------
r3373 | riccardom | 2010-02-05 22:24:07 +0800 (五, 05  2月 2010) | 3 lines

Dont include lua cflags unconditionally especially since
we don't compile lua stuff.

------------------------------------------------------------------------
r3372 | wntrmute | 2010-02-05 09:52:20 +0800 (五, 05  2月 2010) | 2 lines

build with gdb stub

------------------------------------------------------------------------
r3371 | zeromus | 2010-02-04 14:22:54 +0800 (四, 04  2月 2010) | 2 lines

wx port vcproj

------------------------------------------------------------------------
r3370 | wntrmute | 2010-02-04 11:11:08 +0800 (四, 04  2月 2010) | 2 lines

fix about dialog

------------------------------------------------------------------------
r3369 | wntrmute | 2010-02-04 09:16:08 +0800 (四, 04  2月 2010) | 2 lines

emulate 8bit REG_AUXSPIDATA writes

------------------------------------------------------------------------
r3368 | wntrmute | 2010-02-04 06:30:00 +0800 (四, 04  2月 2010) | 2 lines

fix type error on OSX

------------------------------------------------------------------------
r3367 | wntrmute | 2010-02-04 06:14:09 +0800 (四, 04  2月 2010) | 2 lines

use --enable-wxwidgets for wx build as per help text

------------------------------------------------------------------------
r3366 | wntrmute | 2010-02-04 05:55:22 +0800 (四, 04  2月 2010) | 2 lines

use __APPLE__ for OSX specifics

------------------------------------------------------------------------
r3365 | riccardom | 2010-02-04 05:29:51 +0800 (四, 04  2月 2010) | 3 lines

Now that it build we can add the wx frontend, beware it
will hurt your kittens if you try to run it.

------------------------------------------------------------------------
r3364 | riccardom | 2010-02-04 05:28:09 +0800 (四, 04  2月 2010) | 2 lines

Oops, missed icon and desktop file.

------------------------------------------------------------------------
r3363 | riccardom | 2010-02-04 05:27:00 +0800 (四, 04  2月 2010) | 3 lines

Rename binary to wxdesume to avoid name clash with gtk
frontend. Add icon and desktop file.

------------------------------------------------------------------------
r3362 | riccardom | 2010-02-04 04:58:41 +0800 (四, 04  2月 2010) | 2 lines

Fixup includes and add missing pieces needed for linkage.

------------------------------------------------------------------------
r3361 | riccardom | 2010-02-04 04:57:56 +0800 (四, 04  2月 2010) | 2 lines

Add missing files to wx build.

------------------------------------------------------------------------
r3360 | riccardom | 2010-02-04 04:28:52 +0800 (四, 04  2月 2010) | 2 lines

More string fixup.

------------------------------------------------------------------------
r3359 | riccardom | 2010-02-04 04:16:32 +0800 (四, 04  2月 2010) | 3 lines

Correctly use _T() to convert const char * to wxString
instead of a simple cast.

------------------------------------------------------------------------
r3358 | riccardom | 2010-02-04 03:49:33 +0800 (四, 04  2月 2010) | 2 lines

A few more const char * to wxChar * cast.

------------------------------------------------------------------------
r3357 | riccardom | 2010-02-04 00:03:43 +0800 (四, 04  2月 2010) | 2 lines

Rename switch and description for wxwidgets.

------------------------------------------------------------------------
r3356 | riccardom | 2010-02-03 23:35:46 +0800 (三, 03  2月 2010) | 6 lines

Add a makefile for wx frontend

The frontend will not build automatically from top dir,
you have to type make inside wx until it starts to compile
fine.

------------------------------------------------------------------------
r3355 | riccardom | 2010-02-03 23:32:39 +0800 (三, 03  2月 2010) | 6 lines

Tentative fix for "conversion from const char *  to const Wstring ambiguos" error, please review.

While at it define lstrlen as strlen which is not available
on !WIN32. Pretty sure it will not handle unicode chars
correctly but we can fix that issue later.

------------------------------------------------------------------------
r3354 | riccardom | 2010-02-03 22:19:10 +0800 (三, 03  2月 2010) | 6 lines

First batch to have wx stuff compiling

This is mostyle missing includes, includes with the wrong
case and wrong path, also there is that PanicAlert
function that is not defined.

------------------------------------------------------------------------
r3353 | riccardom | 2010-02-03 21:43:42 +0800 (三, 03  2月 2010) | 2 lines

Show the view3d stuff and move it under tools.

------------------------------------------------------------------------
r3352 | riccardom | 2010-02-03 21:21:23 +0800 (三, 03  2月 2010) | 7 lines

Avoid to link wxlibs with frontends that does not use them

The only frontend that may use wxwidgets library is the
gtk one so there is no need to link the others against
a tons of wxwidgets libs when calling configure with
--enable-wxwidgets.

------------------------------------------------------------------------
r3351 | riccardom | 2010-02-03 01:06:55 +0800 (三, 03  2月 2010) | 2 lines

Use memset to initialize data instead of a loop.

------------------------------------------------------------------------
r3350 | riccardom | 2010-02-03 00:58:32 +0800 (三, 03  2月 2010) | 2 lines

Plug file pointer leak, spotted by cppcheck.

------------------------------------------------------------------------
r3349 | riccardom | 2010-02-03 00:46:44 +0800 (三, 03  2月 2010) | 3 lines

Fix a memory leak on error path, spottend by cppcheck.
While at it cleanup a static vs const misuse.

------------------------------------------------------------------------
r3348 | riccardom | 2010-02-02 23:52:15 +0800 (二, 02  2月 2010) | 2 lines

Fix allocation / deallocation mismatch, found by cppcheck.

------------------------------------------------------------------------
r3347 | riccardom | 2010-02-02 23:47:42 +0800 (二, 02  2月 2010) | 2 lines

Fix allocator / deallocator mismatch, found by cppcheck.

------------------------------------------------------------------------
r3346 | riccardom | 2010-02-02 21:53:36 +0800 (二, 02  2月 2010) | 3 lines

Remove some missing bits of disable limiter and sound in
cli frontend.

------------------------------------------------------------------------
r3345 | riccardom | 2010-02-02 17:14:41 +0800 (二, 02  2月 2010) | 3 lines

Move disable sound and disable limiter switches to common
code.

------------------------------------------------------------------------
r3344 | zeromus | 2010-02-02 13:38:35 +0800 (二, 02  2月 2010) | 2 lines

win32: fix x64 zlib link error

------------------------------------------------------------------------
r3343 | riccardom | 2010-02-02 04:46:04 +0800 (二, 02  2月 2010) | 2 lines

Does not need GTK_CFLAGS here.

------------------------------------------------------------------------
r3342 | riccardom | 2010-02-02 04:22:30 +0800 (二, 02  2月 2010) | 4 lines

Don't link unconditionally against libosmesa

fix cli frontend --opengl-2d when libosmesa is available.

------------------------------------------------------------------------
r3341 | zeromus | 2010-02-02 02:47:35 +0800 (二, 02  2月 2010) | 2 lines

gpu: fix broken bg regression

------------------------------------------------------------------------
r3340 | riccardom | 2010-02-02 01:05:23 +0800 (二, 02  2月 2010) | 2 lines

SDL_GL_DOUBLEBUFFER is not a valid SDL_SetVideoMode flag.

------------------------------------------------------------------------
r3339 | riccardom | 2010-02-01 23:57:03 +0800 (一, 01  2月 2010) | 2 lines

Whitespace cleanup.

------------------------------------------------------------------------
r3338 | riccardom | 2010-02-01 23:55:15 +0800 (一, 01  2月 2010) | 2 lines

Convert cli frontend to common command line handling.

------------------------------------------------------------------------
r3337 | riccardom | 2010-02-01 23:03:58 +0800 (一, 01  2月 2010) | 2 lines

Cflash image file is handled by common code, remove unused variables.

------------------------------------------------------------------------
r3336 | riccardom | 2010-02-01 22:51:46 +0800 (一, 01  2月 2010) | 2 lines

Fix indentation.

------------------------------------------------------------------------
r3335 | mtabachenko | 2010-02-01 22:47:01 +0800 (一, 01  2月 2010) | 3 lines

core:
- add support for patched firmwares;

------------------------------------------------------------------------
r3334 | zeromus | 2010-02-01 14:37:47 +0800 (一, 01  2月 2010) | 2 lines

win32: use faster zlib with asm optimizations

------------------------------------------------------------------------
r3333 | zeromus | 2010-02-01 13:34:43 +0800 (一, 01  2月 2010) | 2 lines

forgot to checkin a file. also, add some little gpu speedups

------------------------------------------------------------------------
r3332 | zeromus | 2010-02-01 13:23:20 +0800 (一, 01  2月 2010) | 2 lines

core: don't execute builtin SWI when intvec is relocated to an abnormal location

------------------------------------------------------------------------
r3331 | gocha | 2010-01-31 19:18:27 +0800 (日, 31  1月 2010) | 2 lines

add lua51.dll and lib

------------------------------------------------------------------------
r3330 | riccardom | 2010-01-31 03:59:47 +0800 (日, 31  1月 2010) | 2 lines

Handle the B button again, fix bug #2942776.

------------------------------------------------------------------------
r3329 | riccardom | 2010-01-31 02:07:01 +0800 (日, 31  1月 2010) | 5 lines

Mode desmume_config.* in common dir

Move desmume_config.* in src/ since we are now using it
in three frontends.

------------------------------------------------------------------------
r3328 | riccardom | 2010-01-31 02:03:33 +0800 (日, 31  1月 2010) | 2 lines

Revert previous commit, should take a rest indeed.

------------------------------------------------------------------------
r3327 | riccardom | 2010-01-31 01:22:09 +0800 (日, 31  1月 2010) | 3 lines

Oops, write config file in gtk-glade frontend instead of
reading it again.

------------------------------------------------------------------------
r3326 | zeromus | 2010-01-30 04:04:38 +0800 (六, 30  1月 2010) | 2 lines

gpu: fix some (all?) sprite priority regressions

------------------------------------------------------------------------
r3325 | riccardom | 2010-01-29 21:43:14 +0800 (五, 29  1月 2010) | 2 lines

SoftAP_RXHandler may be static.

------------------------------------------------------------------------
r3324 | riccardom | 2010-01-29 19:14:35 +0800 (五, 29  1月 2010) | 3 lines

Iniatilize _spu_advanced othwerise we read uninitialized
memory as reported by valgrind.

------------------------------------------------------------------------
r3323 | riccardom | 2010-01-29 18:59:41 +0800 (五, 29  1月 2010) | 3 lines

Add a note about using a common place for config and
saves. While at it give credits to OpenAL patch author.

------------------------------------------------------------------------
r3322 | riccardom | 2010-01-29 18:52:53 +0800 (五, 29  1月 2010) | 9 lines

Store config and save*s in user specific config directory

Apply patch #2936906 from Jan Steffens to save config,
saves and savestates in a common dir instead of having
them in the current dir.

The config file is moved automagically but you need to move
the saves and savestates inside ~/.config/desmume/ by hand.

------------------------------------------------------------------------
r3321 | riccardom | 2010-01-29 18:45:38 +0800 (五, 29  1月 2010) | 2 lines

Convert gtk-glade frontend to gtk config machinery

------------------------------------------------------------------------
r3320 | riccardom | 2010-01-29 00:45:56 +0800 (五, 29  1月 2010) | 2 lines

Add an entry about the OpenAL microphone support

------------------------------------------------------------------------
r3319 | riccardom | 2010-01-29 00:34:56 +0800 (五, 29  1月 2010) | 2 lines

Use DoQuit() when exiting.

------------------------------------------------------------------------
r3318 | riccardom | 2010-01-29 00:33:17 +0800 (五, 29  1月 2010) | 2 lines

gtk / cli frontends update.

------------------------------------------------------------------------
r3317 | riccardom | 2010-01-29 00:28:31 +0800 (五, 29  1月 2010) | 4 lines

Add joystick configuration gui for the gtk frontend

There's no reason why we can't have one too :)

------------------------------------------------------------------------
r3316 | riccardom | 2010-01-29 00:19:20 +0800 (五, 29  1月 2010) | 5 lines

Implement set_get_joy_key(), set_get_joy_axis() as wrapper
around a get only version of the same. These will be used
in the gtk frontend where we want to have the luxury of
discarding changes.

------------------------------------------------------------------------
r3315 | zeromus | 2010-01-28 12:30:58 +0800 (四, 28  1月 2010) | 2 lines

gpu: fix sprite rendering order to be front to back

------------------------------------------------------------------------
r3314 | riccardom | 2010-01-27 04:47:36 +0800 (三, 27  1月 2010) | 11 lines

Cleanup ALSA mic initialization

ALSA microphone code still suck but now a little bit less.
Cleanup the initialization:
- use default device
- don't force a buffer size and a period which some drivers
can't support, instead query the driver for them

The next step would be to add use interrupt driven capturing
on a separathe thread but ALSA is a bitch...

------------------------------------------------------------------------
r3313 | zeromus | 2010-01-27 01:52:18 +0800 (三, 27  1月 2010) | 2 lines

win32: fix background pause menuitem

------------------------------------------------------------------------
r3312 | zeromus | 2010-01-27 01:47:56 +0800 (三, 27  1月 2010) | 2 lines

win32: fix occasional race condition crash in subsequent rom loads

------------------------------------------------------------------------
r3311 | riccardom | 2010-01-27 00:20:24 +0800 (三, 27  1月 2010) | 2 lines

Whitespace fixup.

------------------------------------------------------------------------
r3310 | riccardom | 2010-01-26 23:35:25 +0800 (二, 26  1月 2010) | 4 lines

Remove path for local includes

We have src/ in our path so no need all these ../

------------------------------------------------------------------------
r3309 | riccardom | 2010-01-26 23:33:45 +0800 (二, 26  1月 2010) | 6 lines

Read configuration from ini file

Use gtk frontend desmume_config.* machinery to read the ini
file. This should fixup joystick not working correctly as
reported in #2897620.

------------------------------------------------------------------------
r3308 | riccardom | 2010-01-26 23:31:33 +0800 (二, 26  1月 2010) | 5 lines

Make desmume_config.* frontend agnostic

Remvoe references to gdk and gtk frontend specific
configurations.

------------------------------------------------------------------------
r3307 | riccardom | 2010-01-26 22:38:24 +0800 (二, 26  1月 2010) | 4 lines

Init glib threads

We actually does not use them but there's a plan to do so.

------------------------------------------------------------------------
r3306 | zeromus | 2010-01-26 17:10:21 +0800 (二, 26  1月 2010) | 2 lines

wifi: fix bugs in winpcap init; gdb: don't emulate hardware while stalled

------------------------------------------------------------------------
r3305 | zeromus | 2010-01-26 04:59:42 +0800 (二, 26  1月 2010) | 2 lines

win32: fix default command in pathconfig dialog to be OK instead of Cancel

------------------------------------------------------------------------
r3304 | zeromus | 2010-01-25 15:23:54 +0800 (一, 25  1月 2010) | 2 lines

add capture registers to soundview; emulate remainder of spu mixing functionality; add "advanced spu" sound configuration and --spu-advanced=1 to unlock new features, since they are running a little slow right now.

------------------------------------------------------------------------
r3303 | zeromus | 2010-01-24 02:13:28 +0800 (日, 24  1月 2010) | 2 lines

core: change uninitialized save data to be 0xFF like it is supposed to be

------------------------------------------------------------------------
r3302 | zeromus | 2010-01-24 01:33:10 +0800 (日, 24  1月 2010) | 2 lines

spu: fix new bug in some sequenced music

------------------------------------------------------------------------
r3301 | zeromus | 2010-01-23 18:21:46 +0800 (六, 23  1月 2010) | 2 lines

spu: proof of concept of sound capture. works in starfy and maxmod; not yet in nsmb.

------------------------------------------------------------------------
r3300 |  | 2010-01-23 03:52:50 +0800 (六, 23  1月 2010) | 2 lines

Wifi: some cleanup/code refactoring. Nothing exciting.

------------------------------------------------------------------------
r3299 |  | 2010-01-22 16:59:09 +0800 (五, 22  1月 2010) | 2 lines

spu: overhaul register emulation; fixes a bunch of maxmod bugs

------------------------------------------------------------------------
r3298 |  | 2010-01-22 07:29:00 +0800 (五, 22  1月 2010) | 3 lines

core:
- some fixes in PU and cleanup MMU;

------------------------------------------------------------------------
r3297 | mtabachenko | 2010-01-21 23:00:50 +0800 (四, 21  1月 2010) | 3 lines

core:
- add PU for ARM7 BIOS region (fixed #2598209, #2596062);

------------------------------------------------------------------------
r3296 | luigi__ | 2010-01-21 05:04:33 +0800 (四, 21  1月 2010) | 3 lines

Luigi__ is stupid stupid stupid stupid stupid stupid
pcap_open without the promiscuous flag!!!

------------------------------------------------------------------------
r3295 | luigi__ | 2010-01-21 01:58:44 +0800 (四, 21  1月 2010) | 2 lines

Wifi: a few optimizations.

------------------------------------------------------------------------
r3294 | luigi__ | 2010-01-21 01:40:24 +0800 (四, 21  1月 2010) | 2 lines

Oops.

------------------------------------------------------------------------
r3293 | luigi__ | 2010-01-21 01:31:51 +0800 (四, 21  1月 2010) | 3 lines

Wifi: put PCap functions in the platform driver.
Load WinPCap symbols through GetProcAddress(), remove linking against WinPCap, more graceful failing at GUI side when PCap is missing.

------------------------------------------------------------------------
r3292 | luigi__ | 2010-01-20 23:48:19 +0800 (三, 20  1月 2010) | 4 lines

Wifi: rewrite SoftAP's packet receiver so that it can now receive up to 64 packets per millisecond. Use nonblocking mode (speedup).

Connections to the internet are still wonky. Are packets still being missed? Dunno.

------------------------------------------------------------------------
r3291 | zeromus | 2010-01-20 14:54:57 +0800 (三, 20  1月 2010) | 2 lines

sdlports: fix bizarre occasional touchpad failure

------------------------------------------------------------------------
r3290 | zeromus | 2010-01-20 14:22:42 +0800 (三, 20  1月 2010) | 2 lines

fix some valground bugs

------------------------------------------------------------------------
r3285 | luigi__ | 2010-01-19 05:19:41 +0800 (二, 19  1月 2010) | 4 lines

Wifi: some bugxifing. After that I've been able to use ClIRC (IRC client for DS) and chat on #dolphin-emu! But I couldn't connect to freenode.net for some reason.

Also, I readded the WFC profile for SoftAP, which would be needed by some homebrew. But I made the connection ID field empty. Anyway WFC doesn't work, remember.

------------------------------------------------------------------------
r3284 | luigi__ | 2010-01-16 09:10:28 +0800 (六, 16  1月 2010) | 2 lines

Wifi: fix a bug due to the new POWCNT1/2 implementation.

------------------------------------------------------------------------
r3283 | luigi__ | 2010-01-15 05:35:14 +0800 (五, 15  1月 2010) | 2 lines

ARM: fix execution time for MUL/MLA opcodes.

------------------------------------------------------------------------
r3282 | luigi__ | 2010-01-15 02:55:45 +0800 (五, 15  1月 2010) | 3 lines

Add an option to patch the DelayLoop SWI when loading BIOS images (speed hack).
Will work ONLY with Nintendo BIOS dumps! (the addresses that are overwritten are hardcoded).

------------------------------------------------------------------------
r3279 | riccardom | 2010-01-13 19:21:48 +0800 (三, 13  1月 2010) | 5 lines

Fix OpenAL on Mac OS X (hopefully)

Unfortunately we are not able to check if OpenAL is
available or not on mac os x so add it as requirement.

------------------------------------------------------------------------
r3278 | riccardom | 2010-01-13 18:48:18 +0800 (三, 13  1月 2010) | 2 lines

Cleanup the openal microphone code a bit.

------------------------------------------------------------------------
r3277 | zeromus | 2010-01-13 13:15:21 +0800 (三, 13  1月 2010) | 2 lines

core: properly emulate POWCNT1 and POWCNT2 (fix picross bootup)

------------------------------------------------------------------------
r3276 | riccardom | 2010-01-12 00:11:11 +0800 (二, 12  1月 2010) | 2 lines

Whitespace cleanup.

------------------------------------------------------------------------
r3275 | zeromus | 2010-01-10 15:41:14 +0800 (日, 10  1月 2010) | 2 lines

win32: apply patch [2925555] to stop emu from crashing when no sound device is available

------------------------------------------------------------------------
r3274 | zeromus | 2010-01-10 04:41:23 +0800 (日, 10  1月 2010) | 2 lines

add a note about how to execute ideas printf

------------------------------------------------------------------------
r3273 | zeromus | 2010-01-09 16:40:57 +0800 (六, 09  1月 2010) | 2 lines

gfx3d: fix a bug in vectest?

------------------------------------------------------------------------
r3268 | mtabachenko | 2010-01-08 21:07:30 +0800 (五, 08  1月 2010) | 3 lines

winport:
- fix VS2008 x64 builds;

------------------------------------------------------------------------
r3267 | riccardom | 2010-01-07 22:35:00 +0800 (四, 07  1月 2010) | 2 lines

Updated Traditional Chinese translation from Ronmi Ren #2922635.

------------------------------------------------------------------------
r3266 | zeromus | 2010-01-01 17:03:00 +0800 (五, 01  1月 2010) | 2 lines

fix some warnings, move alignment masks ahead of other logic in the main mmu routines (fixes potential crashes when accessing totally terrible addresses), crudely emulate OP_BKPT

------------------------------------------------------------------------
r3265 | gocha | 2010-01-01 10:02:21 +0800 (五, 01  1月 2010) | 2 lines

windows: fix some obvious weird errors of Japanese translation, add some new items from the English resource, and add a few of new translations.

------------------------------------------------------------------------
r3264 | zeromus | 2009-12-29 14:18:32 +0800 (二, 29 12月 2009) | 2 lines

win32: fix non-checked language menu items

------------------------------------------------------------------------
r3263 | zeromus | 2009-12-29 14:08:19 +0800 (二, 29 12月 2009) | 2 lines

win32: fix vs2008 x64 builds

------------------------------------------------------------------------
r3262 | zeromus | 2009-12-29 01:17:40 +0800 (二, 29 12月 2009) | 2 lines

win32: fix compile error

------------------------------------------------------------------------
r3261 | riccardom | 2009-12-28 22:38:20 +0800 (一, 28 12月 2009) | 2 lines

Update desmume.pot, sorry translators.

------------------------------------------------------------------------
r3260 | riccardom | 2009-12-28 22:08:01 +0800 (一, 28 12月 2009) | 5 lines

Move _NOSSE_MatrixMultVec4x4 declaration in matrix.h
instead of inside a function in gfx3d.cpp. The _ suggests
it was meant to be in someway private but it's already
used outside matrix.cpp.

------------------------------------------------------------------------
r3259 | riccardom | 2009-12-28 21:48:40 +0800 (一, 28 12月 2009) | 4 lines

Remove unused variable in gbagame addon and sort
initialization order in firmware class to shut up
gcc warnings.

------------------------------------------------------------------------
r3258 | riccardom | 2009-12-28 21:42:37 +0800 (一, 28 12月 2009) | 2 lines

Shut up declaration vs initialization order gcc warnings.

------------------------------------------------------------------------
r3257 | riccardom | 2009-12-28 21:35:51 +0800 (一, 28 12月 2009) | 3 lines

Correct EXPERIMENTAL_WIFI_COMM ifdef position to avoid
compiling unused stuff.

------------------------------------------------------------------------
r3256 | riccardom | 2009-12-28 21:24:40 +0800 (一, 28 12月 2009) | 2 lines

Remove unused vars.

------------------------------------------------------------------------
r3255 | riccardom | 2009-12-28 21:22:49 +0800 (一, 28 12月 2009) | 3 lines

Check fgets return code and shut up signed vs unsigned
integer comparison gcc warning.

------------------------------------------------------------------------
r3254 | riccardom | 2009-12-28 21:12:23 +0800 (一, 28 12月 2009) | 3 lines

Make logo_dataconst and shut up gcc warning about signed
vs unsigned integer comparison.

------------------------------------------------------------------------
r3253 | riccardom | 2009-12-28 21:07:59 +0800 (一, 28 12月 2009) | 2 lines

Add missing parens.

------------------------------------------------------------------------
r3252 | riccardom | 2009-12-28 21:06:06 +0800 (一, 28 12月 2009) | 2 lines

extern is not needed in this declarations.

------------------------------------------------------------------------
r3251 | riccardom | 2009-12-28 21:05:31 +0800 (一, 28 12月 2009) | 3 lines

Remove duplicated NDS_CreateDummyFirmware declaration,
already available in firmware.h

------------------------------------------------------------------------
r3250 | riccardom | 2009-12-28 21:00:32 +0800 (一, 28 12月 2009) | 3 lines

Add default case to switch to shut up gcc warnings about
missing handling of possible enum values.

------------------------------------------------------------------------
r3249 | riccardom | 2009-12-28 20:54:54 +0800 (一, 28 12月 2009) | 2 lines

Remove unused vars.

------------------------------------------------------------------------
r3248 | riccardom | 2009-12-28 20:52:46 +0800 (一, 28 12月 2009) | 2 lines

Make some functions static.

------------------------------------------------------------------------
r3247 | riccardom | 2009-12-28 20:43:58 +0800 (一, 28 12月 2009) | 2 lines

Fix includes for version.cpp

------------------------------------------------------------------------
r3246 | riccardom | 2009-12-28 20:34:35 +0800 (一, 28 12月 2009) | 3 lines

Move class members initialization so that gcc stops bitching
about their order.

------------------------------------------------------------------------
r3245 | riccardom | 2009-12-28 19:27:23 +0800 (一, 28 12月 2009) | 2 lines

The declaration should be under ifdef too.

------------------------------------------------------------------------
r3244 | riccardom | 2009-12-28 19:25:13 +0800 (一, 28 12月 2009) | 3 lines

Move wx specific code inside proper ifdef and fixup wx
related menu code indentation.

------------------------------------------------------------------------
r3243 | riccardom | 2009-12-28 19:20:15 +0800 (一, 28 12月 2009) | 2 lines

Remove some commented code and fixup a comment indentation while at it.

------------------------------------------------------------------------
r3242 | riccardom | 2009-12-28 19:16:37 +0800 (一, 28 12月 2009) | 2 lines

Remove unused but computed baseaddr variable.

------------------------------------------------------------------------
r3241 | riccardom | 2009-12-28 19:15:37 +0800 (一, 28 12月 2009) | 10 lines

Add a simple auto frameskip to the gtk frontend

Add a simple auto frameskip method based on effective fps
ratio (fps / 60). If the ratio is too low add more frameskip,
if the ratio is too high or we are skipping too much do
the opposite. The proposed patch that led to this one is
available in bug #2862131.
While at it shorten the number of frameskip values
available since they skip too much to be playable.

------------------------------------------------------------------------
r3240 | riccardom | 2009-12-28 19:04:34 +0800 (一, 28 12月 2009) | 2 lines

Shut up signed vs unsigned integer comparison warning by gcc.

------------------------------------------------------------------------
r3239 | riccardom | 2009-12-28 18:46:24 +0800 (一, 28 12月 2009) | 2 lines

Add zh_TW localization from Ronmi Re, #2921906.

------------------------------------------------------------------------
r3238 | zeromus | 2009-12-28 03:12:10 +0800 (一, 28 12月 2009) | 2 lines

win32: apply patch: validation an add/edit cheat [2921008]

------------------------------------------------------------------------
r3237 | zeromus | 2009-12-28 02:57:10 +0800 (一, 28 12月 2009) | 2 lines

fix crash/freeze when adding internal cheats [2921845]

------------------------------------------------------------------------
r3236 | luigi__ | 2009-12-27 05:15:34 +0800 (日, 27 12月 2009) | 4 lines

VS2008 project: Release Fastbuild is now Dev+ build.
Reason for that is that some things, like breakpoint support, will likely cause a slowdown. They can't be left in the normal build.
Now you don't have to modify your project file in order to build a Dev+ desmume when dev'ing.

------------------------------------------------------------------------
r3235 | zeromus | 2009-12-27 01:31:19 +0800 (日, 27 12月 2009) | 2 lines

win32: fox bogus string loading function

------------------------------------------------------------------------
r3234 | mtabachenko | 2009-12-26 18:10:55 +0800 (六, 26 12月 2009) | 4 lines

winport:
- fix load a settings of GuitarGrip;
- add saving a status of cheats (disabled/enabled);

------------------------------------------------------------------------
r3233 | zeromus | 2009-12-26 01:18:20 +0800 (六, 26 12月 2009) | 2 lines

more screwing around with languages

------------------------------------------------------------------------
r3232 | riccardom | 2009-12-25 23:14:58 +0800 (五, 25 12月 2009) | 2 lines

No need to define HAVE_OPENAL here.

------------------------------------------------------------------------
r3231 | mtabachenko | 2009-12-25 02:49:50 +0800 (五, 25 12月 2009) | 2 lines

- add check for bounds of internal cheats;

------------------------------------------------------------------------
r3230 | mtabachenko | 2009-12-25 02:16:21 +0800 (五, 25 12月 2009) | 2 lines

- fix load/save of cheats;

------------------------------------------------------------------------
r3229 | zeromus | 2009-12-25 01:40:06 +0800 (五, 25 12月 2009) | 2 lines

win32: checkin some chinese junk

------------------------------------------------------------------------
r3228 | riccardom | 2009-12-24 23:05:13 +0800 (四, 24 12月 2009) | 2 lines

Write message error when something fails in alsa microphone init().

------------------------------------------------------------------------
r3227 | mtabachenko | 2009-12-23 22:58:21 +0800 (三, 23 12月 2009) | 2 lines

typo fix in cheats :) sorry

------------------------------------------------------------------------
r3225 | mtabachenko | 2009-12-23 22:42:46 +0800 (三, 23 12月 2009) | 3 lines

winport:
- fix ddraw backbuffer for filters;

------------------------------------------------------------------------
r3224 | mtabachenko | 2009-12-23 21:45:09 +0800 (三, 23 12月 2009) | 3 lines

winport:
- rewrite DirectDraw implementation (now it correctly works in Win7 HW mode);

------------------------------------------------------------------------
r3223 | nitsuja | 2009-12-23 20:10:25 +0800 (三, 23 12月 2009) | 7 lines

- fix some window size bugs regarding interaction between toolbar/lockdown/maximize/rotation/gap/layout
- make close rom clear the screen
- disable auto-unpause-on-reset if a movie is active
- prevent menu display from lingering over toolbar sometimes
- switch cw/ccw toolbar buttons (because the previous order was really confusing)
- fix crash in DD_DoDisplay

------------------------------------------------------------------------
r3222 | luigi__ | 2009-12-23 08:11:50 +0800 (三, 23 12月 2009) | 2 lines

Add some rotate buttons to the toolbar, fix the black/random line under the toolbar and remove useless code.

------------------------------------------------------------------------
r3221 | zeromus | 2009-12-23 06:11:14 +0800 (三, 23 12月 2009) | 2 lines

win32: add directdraw software-forcer (config > display method), to fix some systems with broken directdraw as well as block the bilinear filtering in winxp

------------------------------------------------------------------------
r3220 | luigi__ | 2009-12-23 03:08:34 +0800 (三, 23 12月 2009) | 2 lines

Fix a bug with the touchscreen when the toolbar is enabled.

------------------------------------------------------------------------
r3219 | luigi__ | 2009-12-23 02:52:47 +0800 (三, 23 12月 2009) | 3 lines

Windows port: make the toolbar optional as zeromus suggested.
Also took the liberty of clarifying the View menu a bit.

------------------------------------------------------------------------
r3218 | luigi__ | 2009-12-23 02:03:04 +0800 (三, 23 12月 2009) | 2 lines

Fix a sizing bug when changing screen layout.

------------------------------------------------------------------------
r3217 | zeromus | 2009-12-23 01:51:47 +0800 (三, 23 12月 2009) | 2 lines

it no longer lets WM_COMMAND fall through to WM_NOTIFY

------------------------------------------------------------------------
r3216 | luigi__ | 2009-12-23 01:44:07 +0800 (三, 23 12月 2009) | 2 lines

Last commit messed up includes. Fixed.

------------------------------------------------------------------------
r3215 | luigi__ | 2009-12-23 01:40:57 +0800 (三, 23 12月 2009) | 2 lines

Fix compilation errors.

------------------------------------------------------------------------
r3214 | luigi__ | 2009-12-23 01:25:32 +0800 (三, 23 12月 2009) | 3 lines

Windows port: Add a toolbar to the main window.
Unfinished, lacks some tooltips and some other buttons. But atleast the big part is here.

------------------------------------------------------------------------
r3213 | mtabachenko | 2009-12-22 23:00:15 +0800 (二, 22 12月 2009) | 3 lines

RTC:
- fix "Select Out" low mode (fix bug #2919073);

------------------------------------------------------------------------
r3212 | mtabachenko | 2009-12-22 07:42:14 +0800 (二, 22 12月 2009) | 3 lines

core:
- fix bug in RTC;

------------------------------------------------------------------------
r3211 | riccardom | 2009-12-22 05:17:56 +0800 (二, 22 12月 2009) | 3 lines

Remove c&p error in configure.ac that broke alsa as default
mic implementation.

------------------------------------------------------------------------
r3210 | zeromus | 2009-12-22 05:09:37 +0800 (二, 22 12月 2009) | 2 lines

speculative fix for some failure-to-wake problems: maybe any irq should wake up arm7, and it is supposed to set up reasonable irq enables before going to sleep.

------------------------------------------------------------------------
r3209 | zeromus | 2009-12-22 04:33:22 +0800 (二, 22 12月 2009) | 2 lines

add card eject emulation

------------------------------------------------------------------------
r3208 | normmatt234 | 2009-12-22 04:09:25 +0800 (二, 22 12月 2009) | 2 lines

make carts think they are booted from card. (firmware sets this value).

------------------------------------------------------------------------
r3207 | mtabachenko | 2009-12-22 03:41:52 +0800 (二, 22 12月 2009) | 2 lines

- add FLASH 8mbit save type support and fix import backup memory;

------------------------------------------------------------------------
r3206 | riccardom | 2009-12-22 02:36:40 +0800 (二, 22 12月 2009) | 9 lines

Add experimental OpenAL microphone support (patch #2918507)

Add OpenAL microphone support as provided by ncalexan.
[rm: cleaned up the patch a bit using debug macros instead
     of plain printf and cleaning autotools stuff a bit.
     Not so sure it still builds on macos x so please raise
     your hand :)
]

------------------------------------------------------------------------
r3205 | zeromus | 2009-12-22 02:10:19 +0800 (二, 22 12月 2009) | 2 lines

win32: what you dont like my debug printfs?

------------------------------------------------------------------------
r3204 | zeromus | 2009-12-22 01:56:53 +0800 (二, 22 12月 2009) | 2 lines

win32: minimally handle lcd layouts in fullscreen

------------------------------------------------------------------------
r3203 | zeromus | 2009-12-22 01:33:16 +0800 (二, 22 12月 2009) | 2 lines

win32: fix fullscreen stylus coords

------------------------------------------------------------------------
r3202 | mtabachenko | 2009-12-21 22:06:04 +0800 (一, 21 12月 2009) | 3 lines

core:
- the type of ROM serial code is changed (now NTR-****-***)

------------------------------------------------------------------------
r3201 | zeromus | 2009-12-21 16:09:10 +0800 (一, 21 12月 2009) | 2 lines

win32: might as well add the maximize button now

------------------------------------------------------------------------
r3200 | zeromus | 2009-12-21 16:00:39 +0800 (一, 21 12月 2009) | 2 lines

win32: add alt+enter hotkey to delete all your pokemons

------------------------------------------------------------------------
r3199 | mtabachenko | 2009-12-21 08:19:35 +0800 (一, 21 12月 2009) | 3 lines

winport:
- add to new custom printscreen code 3D render info;

------------------------------------------------------------------------
r3198 | zeromus | 2009-12-21 04:56:44 +0800 (一, 21 12月 2009) | 2 lines

win32: dont screensave while using gamepad

------------------------------------------------------------------------
r3197 | zeromus | 2009-12-21 01:19:32 +0800 (一, 21 12月 2009) | 2 lines

win32: fix newlines in action replay cheats edit, and fix sticky pause condition when resetting or loading games

------------------------------------------------------------------------
r3196 | riccardom | 2009-12-20 22:43:30 +0800 (日, 20 12月 2009) | 2 lines

Add missing header for memset and declare strings as const char.

------------------------------------------------------------------------
r3195 | mtabachenko | 2009-12-20 22:40:27 +0800 (日, 20 12月 2009) | 2 lines

- another fix :)

------------------------------------------------------------------------
r3194 | mtabachenko | 2009-12-20 22:36:43 +0800 (日, 20 12月 2009) | 2 lines

- fix for non WIN32 compilers;

------------------------------------------------------------------------
r3193 | mtabachenko | 2009-12-20 21:53:46 +0800 (日, 20 12月 2009) | 2 lines

oops, typo fix, sorry

------------------------------------------------------------------------
r3192 | mtabachenko | 2009-12-20 21:46:46 +0800 (日, 20 12月 2009) | 3 lines

cheats:
- fix EXXXXXXX code;

------------------------------------------------------------------------
r3191 | mtabachenko | 2009-12-20 09:31:58 +0800 (日, 20 12月 2009) | 7 lines

cheats:
- cleanup & add classes;
- new cheat file format;

tools:
- add 'cheat file format converter' (.dct) from old versions (console);

------------------------------------------------------------------------
r3190 | zeromus | 2009-12-20 08:06:45 +0800 (日, 20 12月 2009) | 2 lines

win32: a bunch of cleanup and fix recent roms not saving when emulator crashes

------------------------------------------------------------------------
r3189 | zeromus | 2009-12-20 07:29:28 +0800 (日, 20 12月 2009) | 2 lines

win32: try another tablet disabling tactic

------------------------------------------------------------------------
r3188 | zeromus | 2009-12-20 05:58:15 +0800 (日, 20 12月 2009) | 2 lines

win32: disable wacky stylus stuff for main window

------------------------------------------------------------------------
r3187 | zeromus | 2009-12-20 03:23:37 +0800 (日, 20 12月 2009) | 2 lines

win32: still fencing with the resizing

------------------------------------------------------------------------
r3186 | zeromus | 2009-12-20 02:47:01 +0800 (日, 20 12月 2009) | 2 lines

fix non-compiling wxdlg code in linux

------------------------------------------------------------------------
r3185 | zeromus | 2009-12-20 02:42:33 +0800 (日, 20 12月 2009) | 2 lines

win32: put the new custom printscreen code behind ctrl+printscreen because it is obnoxious to interfere with standard printscreen that way

------------------------------------------------------------------------
r3184 | zeromus | 2009-12-20 02:31:29 +0800 (日, 20 12月 2009) | 2 lines

smack around window sizing code a little more

------------------------------------------------------------------------
r3182 | zeromus | 2009-12-18 07:49:11 +0800 (五, 18 12月 2009) | 2 lines

try fixing some window size flakiness

------------------------------------------------------------------------
r3181 | mtabachenko | 2009-12-17 15:59:05 +0800 (四, 17 12月 2009) | 2 lines

- revert flag logic introduced by r3176 (fix #2916033, #2915937);

------------------------------------------------------------------------
r3180 | zeromus | 2009-12-17 14:36:40 +0800 (四, 17 12月 2009) | 2 lines

win32: fix window size creep when using various features while lockdown mode enabled

------------------------------------------------------------------------
r3178 | gocha | 2009-12-17 10:13:12 +0800 (四, 17 12月 2009) | 2 lines

enhance gui.gdoverlay(), the new one can overlay a part of image and load indexed image.

------------------------------------------------------------------------
r3177 | mtabachenko | 2009-12-17 07:00:12 +0800 (四, 17 12月 2009) | 2 lines

typo fix (nothing important)

------------------------------------------------------------------------
r3176 | mtabachenko | 2009-12-17 06:30:16 +0800 (四, 17 12月 2009) | 3 lines

core:
- another fix CPU emulation :)

------------------------------------------------------------------------
r3175 | mtabachenko | 2009-12-17 05:50:42 +0800 (四, 17 12月 2009) | 3 lines

core:
- fix some bugs in CPU emulation on ARM mode (need to test);

------------------------------------------------------------------------
r3174 | mtabachenko | 2009-12-16 19:33:28 +0800 (三, 16 12月 2009) | 3 lines

texcache:
- add 'size' variable initialization in MemSpan class (fix emu crash, ex.Metal Slug 7);

------------------------------------------------------------------------
r3173 | zeromus | 2009-12-16 16:52:03 +0800 (三, 16 12月 2009) | 2 lines

misc 3dviewer work. still not worth using

------------------------------------------------------------------------
r3172 | zeromus | 2009-12-16 15:51:55 +0800 (三, 16 12月 2009) | 2 lines

fix new bug in texture cache which wouldve caused corrupted textures to appear

------------------------------------------------------------------------
r3171 | zeromus | 2009-12-16 13:47:09 +0800 (三, 16 12月 2009) | 2 lines

i doubt everyone wants a hacky debug print to appear every frame

------------------------------------------------------------------------
r3170 | zeromus | 2009-12-16 13:41:59 +0800 (三, 16 12月 2009) | 2 lines

core: fix an old shortcoming in texcache where games that burned through sprites memory with lots of tiny sprites could use gigabytes of texcache buffers (metal slug)

------------------------------------------------------------------------
r3169 | zeromus | 2009-12-16 13:11:32 +0800 (三, 16 12月 2009) | 2 lines

win32: i doubt everyone wants a hacky test dialog to appear when they boot the emu

------------------------------------------------------------------------
r3168 | zeromus | 2009-12-16 13:07:38 +0800 (三, 16 12月 2009) | 2 lines

win32: fix always on top inifile saving and add "lockdown" option to keep mouse from breaking the window during fast stylus action

------------------------------------------------------------------------
r3167 | p989 | 2009-12-16 12:59:39 +0800 (三, 16 12月 2009) | 2 lines

wx: ini file and control config saving

------------------------------------------------------------------------
r3166 | p989 | 2009-12-16 05:49:39 +0800 (三, 16 12月 2009) | 2 lines

wx: input configuration

------------------------------------------------------------------------
r3165 | p989 | 2009-12-15 16:50:30 +0800 (二, 15 12月 2009) | 2 lines

wx: savestate menu items

------------------------------------------------------------------------
r3164 | p989 | 2009-12-15 14:37:49 +0800 (二, 15 12月 2009) | 2 lines

wx: lua window

------------------------------------------------------------------------
r3163 | zeromus | 2009-12-15 12:42:11 +0800 (二, 15 12月 2009) | 2 lines

win32: fix build. 3dview is broken for a bit while it is renovated

------------------------------------------------------------------------
r3162 | zeromus | 2009-12-15 11:47:22 +0800 (二, 15 12月 2009) | 2 lines

add wx dialog to gtk port as demonstration, but you can't see it because i can't figure out how to add a gtk menu item. anyway, my work here is done: concept proved.

------------------------------------------------------------------------
r3161 | p989 | 2009-12-15 11:06:47 +0800 (二, 15 12月 2009) | 2 lines

preliminary wx port

------------------------------------------------------------------------
r3160 | gocha | 2009-12-15 09:39:35 +0800 (二, 15 12月 2009) | 2 lines

hopefully fix awful movie handle leaks

------------------------------------------------------------------------
r3158 | yabause | 2009-12-15 04:37:21 +0800 (二, 15 12月 2009) | 5 lines

Added a check to detect wx installation.
For now, it's disabled by default and you need to use
the configure flag --enable-wxwidget to enable it.
If wx is found, -DHAVE_WX=1 is added to compilation options.

------------------------------------------------------------------------
r3157 | zeromus | 2009-12-15 01:53:38 +0800 (二, 15 12月 2009) | 2 lines

win32: fix error in 2005 vcproj

------------------------------------------------------------------------
r3156 | zeromus | 2009-12-14 16:54:15 +0800 (一, 14 12月 2009) | 2 lines

win32: add wx, and preliminary 3d viewer work. i am not necessarily committed to wx yet, the bulk of the work is still refactoring in the core emulator. (also slow down release fastbuilds by improving gpu.cpp build speed)

------------------------------------------------------------------------
r3155 | zeromus | 2009-12-14 05:42:55 +0800 (一, 14 12月 2009) | 2 lines

linux: add --nojoy=1 to skip joystick initialization (for folks with laptops that have accelerometers for joysticks)

------------------------------------------------------------------------
r3154 | zeromus | 2009-12-14 01:59:45 +0800 (一, 14 12月 2009) | 2 lines

fix --num-cores commandline in linux

------------------------------------------------------------------------
r3153 | nitsuja | 2009-12-13 19:30:52 +0800 (日, 13 12月 2009) | 2 lines

add more 1.5x render filters, fix the EPX 1.5x filter, fix loading of frameskip=0 setting

------------------------------------------------------------------------
r3152 | luigi__ | 2009-12-13 09:21:18 +0800 (日, 13 12月 2009) | 2 lines

Maybe I should delete those objects once printscreen is done...

------------------------------------------------------------------------
r3151 | nitsuja | 2009-12-13 09:18:59 +0800 (日, 13 12月 2009) | 2 lines

fix cheat add sometimes cutting off a digit

------------------------------------------------------------------------
r3150 | luigi__ | 2009-12-13 09:10:52 +0800 (日, 13 12月 2009) | 3 lines

Window port: add some NO$GBA-like printscreen function:
when pressing Printscreen, a copy of DeSmuME's screens is sent to the clipboard, with extra data (desmume version, game title/code, framerate/status) appended at the bottom.

------------------------------------------------------------------------
r3149 | nitsuja | 2009-12-13 06:52:01 +0800 (日, 13 12月 2009) | 2 lines

fix a glaring desync that would happen if you load a savestate while the lid is closed

------------------------------------------------------------------------
r3148 | zeromus | 2009-12-13 06:12:26 +0800 (日, 13 12月 2009) | 2 lines

win32: fix build configuration for zlib

------------------------------------------------------------------------
r3147 | zeromus | 2009-12-13 01:36:05 +0800 (日, 13 12月 2009) | 2 lines

win32: oop fix 2008 32bit release build

------------------------------------------------------------------------
r3146 | riccardom | 2009-12-13 00:30:55 +0800 (日, 13 12月 2009) | 7 lines

Correct SSE2 instructions ifdef, bug #2911655

prompt366 reports that linux build on his athlon (SSE but no
SSE2) is broken because of missing __m128i. Compiler is right
that instructions is from SSE2. Fix the ifdef to match the
code as suggested by prompt366.

------------------------------------------------------------------------
r3145 | nitsuja | 2009-12-12 18:34:06 +0800 (六, 12 12月 2009) | 2 lines

enable "add cheat" button in ram search and ram watch, and fix some cheat add/edit dialog bugs/limitations

------------------------------------------------------------------------
r3144 | zeromus | 2009-12-12 16:19:38 +0800 (六, 12 12月 2009) | 2 lines

win32: give the same treatment to the other large libs

------------------------------------------------------------------------
r3143 | luigi__ | 2009-12-12 06:05:32 +0800 (六, 12 12月 2009) | 2 lines

Remove that useless bitmap.

------------------------------------------------------------------------
r3142 | mtabachenko | 2009-12-12 03:16:15 +0800 (六, 12 12月 2009) | 3 lines

core:
- fix MMU crashes;

------------------------------------------------------------------------
r3141 | zeromus | 2009-12-11 23:43:44 +0800 (五, 11 12月 2009) | 2 lines

win32: now that is seriously lame. the 7z.exe depends on 7z.dll I think

------------------------------------------------------------------------
r3140 | zeromus | 2009-12-11 16:46:44 +0800 (五, 11 12月 2009) | 2 lines

win32: testing a strange idea. 7z the static libs we use and dearchive them to .libs as part of the build process. this will shrink a 30MB wx lib down to 3MB. let me know what you think (let me know asap if it breaks your build)

------------------------------------------------------------------------
r3139 | nitsuja | 2009-12-11 16:43:20 +0800 (五, 11 12月 2009) | 2 lines

sprinkling some W's around. maybe it will fix some title bars or something, either way it probably can't hurt anything

------------------------------------------------------------------------
r3138 | nitsuja | 2009-12-11 14:23:42 +0800 (五, 11 12月 2009) | 2 lines

fix touchscreen crash

------------------------------------------------------------------------
r3137 | zeromus | 2009-12-11 14:11:58 +0800 (五, 11 12月 2009) | 2 lines

win32: fix 2008 vcproj

------------------------------------------------------------------------
r3136 | zeromus | 2009-12-11 13:22:46 +0800 (五, 11 12月 2009) | 2 lines

win32: use tastools lua

------------------------------------------------------------------------
r3135 | mtabachenko | 2009-12-11 06:49:47 +0800 (五, 11 12月 2009) | 7 lines

core:
- fix support calibrating the stylus with firmware;
- some cleanup MMU;

addons:
- fix return value for blank memory (change to 0xFF);

------------------------------------------------------------------------
r3134 | luigi__ | 2009-12-11 01:15:31 +0800 (五, 11 12月 2009) | 2 lines

Also remove the code for Danish translation.

------------------------------------------------------------------------
r3133 | luigi__ | 2009-12-11 01:12:21 +0800 (五, 11 12月 2009) | 2 lines

Removed the Danish option from the language menu.

------------------------------------------------------------------------
r3132 | luigi__ | 2009-12-11 01:06:58 +0800 (五, 11 12月 2009) | 2 lines

This goes with r3131.

------------------------------------------------------------------------
r3131 | luigi__ | 2009-12-11 01:03:26 +0800 (五, 11 12月 2009) | 3 lines

Added all the missing French dialogs. Phew.
Also removed the remaining Danish dialogs - I highly doubt we'll see that thomas-2007 again.

------------------------------------------------------------------------
r3130 | luigi__ | 2009-12-10 06:34:22 +0800 (四, 10 12月 2009) | 6 lines

Resource file: First try at applying the coding rules for resource file.
- Add missing Chinese dialogs (those are just copies of the English ones. The translation job is for zeromus or whoever made this translation.)
- Fix a few quirks.
- The Danish translation is desperately out of date. If we can't contact the person who made it, it'll get removed.
- The French translation is too. However, if I find some time...

------------------------------------------------------------------------
r3129 | zeromus | 2009-12-09 04:25:09 +0800 (三, 09 12月 2009) | 2 lines

fix linux compilation

------------------------------------------------------------------------
r3128 | zeromus | 2009-12-09 01:53:17 +0800 (三, 09 12月 2009) | 2 lines

fix a bunch of games which were broken by r3123

------------------------------------------------------------------------
r3127 | mtabachenko | 2009-12-09 01:33:18 +0800 (三, 09 12月 2009) | 3 lines

core:
- rewrite firmware support. added support patched firmware (bugged and default disabled);

------------------------------------------------------------------------
r3126 | nitsuja | 2009-12-09 01:15:44 +0800 (三, 09 12月 2009) | 2 lines

fix possible crash on minimizing app

------------------------------------------------------------------------
r3125 | zeromus | 2009-12-08 23:45:45 +0800 (二, 08 12月 2009) | 2 lines

core: handle 32bit divcnt and sqrtcnt

------------------------------------------------------------------------
r3124 | zeromus | 2009-12-08 15:50:58 +0800 (二, 08 12月 2009) | 2 lines

win32: fix the most egregious cheats bugs for large cheat values

------------------------------------------------------------------------
r3123 | zeromus | 2009-12-08 14:48:56 +0800 (二, 08 12月 2009) | 2 lines

add another kind of debug print which may be useful to some people

------------------------------------------------------------------------
r3122 | zeromus | 2009-12-08 04:55:39 +0800 (二, 08 12月 2009) | 2 lines

win32: fix view registers tool

------------------------------------------------------------------------
r3120 | gocha | 2009-12-07 14:50:44 +0800 (一, 07 12月 2009) | 2 lines

Lua: fix gui.gdoverlay

------------------------------------------------------------------------
r3119 | nitsuja | 2009-12-07 03:20:50 +0800 (一, 07 12月 2009) | 4 lines

lots of emulator features were missing from the french/danish/chinese menus... added them (untranslated)
fix missing accent marks and broken chinese characters resulting from the recent japanese language patch
fix UpdateHotkeyAssignment not working for many hotkeys and possibly breaking chinese/japanese menu items

------------------------------------------------------------------------
r3118 | zeromus | 2009-12-07 02:31:24 +0800 (一, 07 12月 2009) | 4 lines

fix bigendian compiling in saves.cpp.

someone ought to test savestate portability between big endian and little endian. to test this easily on little endian only systems we could setup the save system somehow so that it can write in either big or little endian.

------------------------------------------------------------------------
r3117 | zeromus | 2009-12-06 05:21:33 +0800 (日, 06 12月 2009) | 2 lines

win32: fix virtual from constructor random crash bug in tool windows; fix some more finicky cflash configuration; core: add devkitpro argv support; add --gbaslot-rom commandline

------------------------------------------------------------------------
r3116 | zeromus | 2009-12-06 02:34:42 +0800 (日, 06 12月 2009) | 2 lines

win32: change chonese to chinese

------------------------------------------------------------------------
r3115 | zeromus | 2009-12-06 00:38:32 +0800 (日, 06 12月 2009) | 2 lines

win32: add japanese language patch

------------------------------------------------------------------------
r3114 | zeromus | 2009-12-05 14:41:06 +0800 (六, 05 12月 2009) | 2 lines

fix vectest

------------------------------------------------------------------------
r3113 | mtabachenko | 2009-12-04 19:46:32 +0800 (五, 04 12月 2009) | 2 lines

fix VS2008 project;

------------------------------------------------------------------------
r3112 | zeromus | 2009-12-04 14:49:24 +0800 (五, 04 12月 2009) | 2 lines

try to rebuild fewer files when svn version changes

------------------------------------------------------------------------
r3111 | zeromus | 2009-12-04 13:44:56 +0800 (五, 04 12月 2009) | 2 lines

fix some multi-gamepad bugs

------------------------------------------------------------------------
r3110 | nitsuja | 2009-12-03 16:41:34 +0800 (四, 03 12月 2009) | 2 lines

simplify the frameskip menu (combining the submenus)

------------------------------------------------------------------------
r3109 | zeromus | 2009-11-30 13:35:29 +0800 (一, 30 11月 2009) | 2 lines

core: fix a bug in sqrt (and probably div) control register emulation which permitted user to overwrite busy flag. fixes games with sensitivities to div/sqrt timing which would sometimes break when interrupted during their math busy wait loop (sm64)

------------------------------------------------------------------------
r3108 | zeromus | 2009-11-30 09:58:05 +0800 (一, 30 11月 2009) | 2 lines

win32: cleanup gbaslot configuration dialog

------------------------------------------------------------------------
r3107 | nitsuja | 2009-11-30 02:03:34 +0800 (一, 30 11月 2009) | 2 lines

fix some bug with the triggerDma loop unrolling

------------------------------------------------------------------------
r3106 | zeromus | 2009-11-29 14:53:46 +0800 (日, 29 11月 2009) | 2 lines

core: a tiny speedup by unrolling a loop which was intended to unroll

------------------------------------------------------------------------
r3105 | nitsuja | 2009-11-29 14:17:32 +0800 (日, 29 11月 2009) | 4 lines

-add EPX magnification filter
-add EPX1.5x filter (something I made up just now for 1.5x scaling)
-fix screen gap size not scaling properly when using magnification filters

------------------------------------------------------------------------
r3104 | nitsuja | 2009-11-29 07:52:12 +0800 (日, 29 11月 2009) | 2 lines

fix for a small bug added in r3102

------------------------------------------------------------------------
r3103 | nitsuja | 2009-11-29 07:30:55 +0800 (日, 29 11月 2009) | 2 lines

switching the renderer to SoftRasterizer instead of None in the case that the OpenGL renderer fails

------------------------------------------------------------------------
r3102 | nitsuja | 2009-11-29 06:24:20 +0800 (日, 29 11月 2009) | 3 lines

-fix 16-bit display depth final output (and 15- and 24-bit)
-handle display depth changes that happen while desmume is running

------------------------------------------------------------------------
r3101 | zeromus | 2009-11-28 13:31:46 +0800 (六, 28 11月 2009) | 2 lines

include file format specs with dist and always define HAVE_LUA for developer builds

------------------------------------------------------------------------
r3100 | zeromus | 2009-11-27 05:43:20 +0800 (五, 27 11月 2009) | 1 line

------------------------------------------------------------------------
r3099 | zeromus | 2009-11-27 05:08:02 +0800 (五, 27 11月 2009) | 2 lines

update build scripts in trunk

------------------------------------------------------------------------
r3096 | zeromus | 2009-11-27 00:47:35 +0800 (五, 27 11月 2009) | 2 lines

odds and ends

------------------------------------------------------------------------
r3095 | zeromus | 2009-11-23 09:39:27 +0800 (一, 23 11月 2009) | 2 lines

cocoa: might as well add the norwegian translation sinc ewe have it

------------------------------------------------------------------------
r3094 | zeromus | 2009-11-23 08:53:46 +0800 (一, 23 11月 2009) | 2 lines

gpu: clean up use of scroll registers to make sure that the correct &0x1FF is done everywhere

------------------------------------------------------------------------
r3092 | zeromus | 2009-11-23 06:33:24 +0800 (一, 23 11月 2009) | 2 lines

this file is out of date

------------------------------------------------------------------------
r3091 | zeromus | 2009-11-23 06:29:28 +0800 (一, 23 11月 2009) | 2 lines

win32: update readme.win and add italian language patch

------------------------------------------------------------------------
r3090 | zeromus | 2009-11-22 14:59:34 +0800 (日, 22 11月 2009) | 2 lines

oops, remove a hack

------------------------------------------------------------------------
r3089 | zeromus | 2009-11-22 14:57:58 +0800 (日, 22 11月 2009) | 2 lines

dont go on a grand tour of unallocated memory when closing a rom (fixes 2900956)

------------------------------------------------------------------------
r3088 | zeromus | 2009-11-22 14:11:07 +0800 (日, 22 11月 2009) | 2 lines

fix dma address reloading (fixes contra4 classic modes)

------------------------------------------------------------------------
r3087 | zeromus | 2009-11-22 08:07:24 +0800 (日, 22 11月 2009) | 2 lines

gpu: dont render an obj window in one of N cases remaining where that happens accidentally and add a note about a failing save autodetection

------------------------------------------------------------------------
r3086 | zeromus | 2009-11-22 04:24:53 +0800 (日, 22 11月 2009) | 2 lines

win32: fix horribly broken sound for some users

------------------------------------------------------------------------
r3085 | mtabachenko | 2009-11-21 02:38:33 +0800 (六, 21 11月 2009) | 3 lines

core:
- fix dma (fix bug #2867258);

------------------------------------------------------------------------
r3084 | mtabachenko | 2009-11-19 19:43:05 +0800 (四, 19 11月 2009) | 3 lines

core:
- add handling keypad interrupt (demo http://www.double.co.nz/nintendo_ds/nds_develop8.html)

------------------------------------------------------------------------
r3083 | mtabachenko | 2009-11-19 19:40:34 +0800 (四, 19 11月 2009) | 4 lines

core:
- fix bug #2900169;
- fix background scroll register;

------------------------------------------------------------------------
r3082 | nitsuja | 2009-11-19 16:01:55 +0800 (四, 19 11月 2009) | 2 lines

fix for sudden exit if passing bad arguments into a lua gui at a time when it must be deferred

------------------------------------------------------------------------
r3081 | nitsuja | 2009-11-19 15:31:14 +0800 (四, 19 11月 2009) | 2 lines

fix lua aggdraw crash (maybe not the best way), and add script stopped message to lua console

------------------------------------------------------------------------
r3079 | yabause | 2009-11-19 06:27:55 +0800 (四, 19 11月 2009) | 6 lines

Removed the PO_FILES(_IN) variables as they were getting in
the way of make dist(check)
If someone knows what were their use and feels I did something
wrong by removing them, bring them back... but make sure to
not break make dist by doing so :)

------------------------------------------------------------------------
r3077 | yabause | 2009-11-19 06:04:40 +0800 (四, 19 11月 2009) | 3 lines

s/$LUAPC/lua/ as LUAPC was not defined and lua sounds like
a sensible value. This was also breaking make dist.

------------------------------------------------------------------------
r3074 | nitsuja | 2009-11-18 13:25:09 +0800 (三, 18 11月 2009) | 2 lines

win32: giving "clear recent ROMs" a confirm dialog

------------------------------------------------------------------------
r3073 | zeromus | 2009-11-16 04:23:00 +0800 (一, 16 11月 2009) | 2 lines

add someones romanian cocoa translation, because the cocoa port is so great that it should be translated into every language

------------------------------------------------------------------------
r3072 | zeromus | 2009-11-16 03:42:07 +0800 (一, 16 11月 2009) | 2 lines

remove LTCG from zlib to fix release builds in 2008

------------------------------------------------------------------------
r3071 | zeromus | 2009-11-16 02:40:45 +0800 (一, 16 11月 2009) | 2 lines

try to fix a bug from r3047 in intrWaitARM

------------------------------------------------------------------------
r3070 | zeromus | 2009-11-15 14:44:03 +0800 (日, 15 11月 2009) | 2 lines

might as well zero that toon table while we're at it

------------------------------------------------------------------------
r3069 | zeromus | 2009-11-15 14:35:30 +0800 (日, 15 11月 2009) | 2 lines

fix 32bit toon table writes

------------------------------------------------------------------------
r3068 | zeromus | 2009-11-15 14:00:09 +0800 (日, 15 11月 2009) | 2 lines

fix a build configuration with wrong lib reference

------------------------------------------------------------------------
r3067 | zeromus | 2009-11-15 13:45:57 +0800 (日, 15 11月 2009) | 2 lines

win32: readd headers and fix 2008 build

------------------------------------------------------------------------
r3066 | zeromus | 2009-11-15 13:38:08 +0800 (日, 15 11月 2009) | 2 lines

same but for glib

------------------------------------------------------------------------
r3065 | zeromus | 2009-11-15 13:19:23 +0800 (日, 15 11月 2009) | 2 lines

win32: readd 7z headers and fix 2008 build

------------------------------------------------------------------------
r3064 | zeromus | 2009-11-15 13:13:50 +0800 (日, 15 11月 2009) | 2 lines

win32: switch 7z to an externally housed static library, same as zlib. clean up some source file license headers

------------------------------------------------------------------------
r3063 | nitsuja | 2009-11-15 09:46:48 +0800 (日, 15 11月 2009) | 2 lines

switch movie to "finished" mode if you load a non-movie savestate during recording or playback

------------------------------------------------------------------------
r3062 | nitsuja | 2009-11-15 09:16:56 +0800 (日, 15 11月 2009) | 2 lines

reclaim texcache memory on softrasterizer reset

------------------------------------------------------------------------
r3061 | nitsuja | 2009-11-15 08:49:02 +0800 (日, 15 11月 2009) | 2 lines

possibly-slightly-better-behaving autoframeskip logic. It's still not completely immune to FPS drops, however (because that seems to require either knowledge from the future, systematic over-estimation, or complete disregard for visual consistency, although it can surely be improved somehow).

------------------------------------------------------------------------
r3060 | zeromus | 2009-11-15 03:16:27 +0800 (日, 15 11月 2009) | 2 lines

win32: remove zziplib, no longer necessary with 7z included; remove vs2010 project, hopelessly broken and out of date; cleanup main rom openfiledialog usage w.r.t. suggested extensions; use a zlib which is built more robustly

------------------------------------------------------------------------
r3059 | luigi__ | 2009-11-14 06:15:09 +0800 (六, 14 11月 2009) | 3 lines

SPU:
Oops. After my previous change, sounds couldn't stop playing. Fixed now.

------------------------------------------------------------------------
r3058 | luigi__ | 2009-11-14 06:06:13 +0800 (六, 14 11月 2009) | 4 lines

SPU:
- emulate sound start timings (http://nocash.emubase.de/gbatek.htm#dssoundnotes)
- fix KeyOn condition (KeyOn happens when changing status bit from 0 to 1)

------------------------------------------------------------------------
r3057 | luigi__ | 2009-11-14 03:51:32 +0800 (六, 14 11月 2009) | 2 lines

SPU: since SPU_Emulate_core is called once per hline and resets buf_pos at every call, it doesn't need a whole 740-sample buffer. ceil(samples_per_hline) (currently 3) is enough.

------------------------------------------------------------------------
r3056 | luigi__ | 2009-11-14 01:31:07 +0800 (六, 14 11月 2009) | 2 lines

SPU: small fix to PSG noise.

------------------------------------------------------------------------
r3055 | mtabachenko | 2009-11-13 18:00:19 +0800 (五, 13 11月 2009) | 3 lines

winport:
- add cheats disable menu item;

------------------------------------------------------------------------
r3054 | normmatt234 | 2009-11-13 10:46:44 +0800 (五, 13 11月 2009) | 3 lines

Remove useless wIRQ variable.
Some Made In Ore cart commands added.

------------------------------------------------------------------------
r3053 | zeromus | 2009-11-13 09:56:10 +0800 (五, 13 11月 2009) | 2 lines

fix compile error?

------------------------------------------------------------------------
r3052 | luigi__ | 2009-11-13 06:24:23 +0800 (五, 13 11月 2009) | 2 lines

Remove an useless include.

------------------------------------------------------------------------
r3051 | riccardom | 2009-11-13 05:13:00 +0800 (五, 13 11月 2009) | 2 lines

And the oldmode should be moved upper too.

------------------------------------------------------------------------
r3050 | riccardom | 2009-11-13 05:12:05 +0800 (五, 13 11月 2009) | 2 lines

Move wait4IRQ before intrWaitARM since it used by the latter.

------------------------------------------------------------------------
r3049 | luigi__ | 2009-11-13 05:07:06 +0800 (五, 13 11月 2009) | 2 lines

SPU: correct the framerate to 59.8261 instead of 60. Thank you zeromus ;)

------------------------------------------------------------------------
r3048 | luigi__ | 2009-11-13 04:59:20 +0800 (五, 13 11月 2009) | 3 lines

SPU: Change the computation of samples_per_hline to something more simple and therefore more precise.
With zeromus's complicated way, the core SPU used to mix 737.something samples per frame... now it should always be 735 samples per frame.

------------------------------------------------------------------------
r3047 | mtabachenko | 2009-11-13 01:29:18 +0800 (五, 13 11月 2009) | 3 lines

core:
- another fix SWI 4/5 (fixed bug #2781521);

------------------------------------------------------------------------
r3046 | nitsuja | 2009-11-12 01:47:18 +0800 (四, 12 11月 2009) | 2 lines

new logic for autoframeskip, and new options to limit the maximum consecutive frames it's allowed to skip. the old logic would skip frames in an arbitrary pattern, the new logic prefers to keep the skipping rate steady.

------------------------------------------------------------------------
r3045 | zeromus | 2009-11-11 07:24:45 +0800 (三, 11 11月 2009) | 2 lines

spu synchronizer bugfix: dont perpetually enqueue samples when there is no audio output driver active to dequeue them!

------------------------------------------------------------------------
r3044 | zeromus | 2009-11-10 13:53:47 +0800 (二, 10 11月 2009) | 2 lines

remove windows from autotools dist generation. it produces a unbuildable windows port anyway, as many megabytes of additioal headers and static libraries need including. we'll need to package that as an svn export. also update linux build scripts to survive going through a source tarball

------------------------------------------------------------------------
r3043 | zeromus | 2009-11-09 15:58:58 +0800 (一, 09 11月 2009) | 2 lines

work on changelog. we will be making a release soon. let me know asap if I should give anyone more time.

------------------------------------------------------------------------
r3042 | zeromus | 2009-11-09 15:32:33 +0800 (一, 09 11月 2009) | 2 lines

fix inability to toggle between 3d cores (multithread util class couldnt restart)

------------------------------------------------------------------------
r3041 | nitsuja | 2009-11-09 06:40:15 +0800 (一, 09 11月 2009) | 2 lines

fix for hotkeys pressed quickly in a row not working if they use different modifier keys, fix for F10 pulling down the menu if it's been assigned to a hotkey

------------------------------------------------------------------------
r3040 | nitsuja | 2009-11-09 05:36:42 +0800 (一, 09 11月 2009) | 2 lines

disabling WifiComInterface Adhoc for now, I don't think it works yet so there's no reason to let it open network ports

------------------------------------------------------------------------
r3039 | nitsuja | 2009-11-09 04:44:49 +0800 (一, 09 11月 2009) | 2 lines

maybe fixed some sort of wifi shutdown crash

------------------------------------------------------------------------
r3038 | nitsuja | 2009-11-09 04:23:41 +0800 (一, 09 11月 2009) | 2 lines

fix for input display and frame counter resetting to off every time you start desmume if you turn them on with hotkeys, fix for "play movie" and "record movie" hotkeys not actually doing anything, fix for "pause" hotkey toggling pause rapidly if held down, dimmed the green (future/physical) textual input display letters

------------------------------------------------------------------------
r3037 | nitsuja | 2009-11-09 03:46:09 +0800 (一, 09 11月 2009) | 2 lines

fix for 3d lighting sometimes being screwed up on the frame after loading a savestate

------------------------------------------------------------------------
r3036 | zeromus | 2009-11-09 03:09:15 +0800 (一, 09 11月 2009) | 2 lines

reconfigure wifi configuration so that register emulation is always enabled, and the actually experimental communication is all that is optionally enabled (i.e. softAP/libpcap)

------------------------------------------------------------------------
r3035 | nitsuja | 2009-11-09 03:03:05 +0800 (一, 09 11月 2009) | 2 lines

shutting down some threads explicitly on app close in hopes that this will reduce the frequency of random shutdown crashes

------------------------------------------------------------------------
r3034 | nitsuja | 2009-11-09 01:04:07 +0800 (一, 09 11月 2009) | 2 lines

add some things to maybe help debug sound quality issues (developer option to record user SPU to WAV, define the sample rate 44100 in a single place, printout on audio buffer clear)

------------------------------------------------------------------------
r3033 | nitsuja | 2009-11-08 23:50:12 +0800 (日, 08 11月 2009) | 2 lines

removing a workaround for a rasterizer bug that I believe was fixed for real in r3015

------------------------------------------------------------------------
r3032 | nitsuja | 2009-11-08 14:22:52 +0800 (日, 08 11月 2009) | 2 lines

a slight quality improvement to the slow-motion handling part of the N audio synchronizer method (for  an example, mario's jump sounded all crackly before)

------------------------------------------------------------------------
r3031 | nitsuja | 2009-11-08 13:36:55 +0800 (日, 08 11月 2009) | 2 lines

fix for frameskip making the same image often appear on both screens in dual-screen-3D scenes that run slowly

------------------------------------------------------------------------
r3030 | nitsuja | 2009-11-08 12:54:58 +0800 (日, 08 11月 2009) | 2 lines

fix occasional crash or corruption when starting up the audio synchronizer

------------------------------------------------------------------------
r3029 | nitsuja | 2009-11-08 10:30:42 +0800 (日, 08 11月 2009) | 2 lines

preventing frameskip from affecting frame advance except when also fast-forwarding, and fixing a bug where the very first frame advance would not pause the game

------------------------------------------------------------------------
r3028 | nitsuja | 2009-11-08 10:27:25 +0800 (日, 08 11月 2009) | 2 lines

reworked frameskipping logic to hopefully fix frameskipping in dual-screen-3d games

------------------------------------------------------------------------
r3027 | nitsuja | 2009-11-08 04:58:16 +0800 (日, 08 11月 2009) | 3 lines

fix screwed-up LCD display if you set a rotation and then switch to horizontal layout
(rotation is still not supported in non-vertical layouts)

------------------------------------------------------------------------
r3026 | nitsuja | 2009-11-08 03:16:48 +0800 (日, 08 11月 2009) | 2 lines

disable border drag gap editing when in a gapless layout

------------------------------------------------------------------------
r3025 | nitsuja | 2009-11-08 03:13:55 +0800 (日, 08 11月 2009) | 3 lines

- fix border drag gap editing
- double the default sound buffer size back to what it used to effectively be (this will reset your setting once)

------------------------------------------------------------------------
r3024 | luigi__ | 2009-11-07 02:03:37 +0800 (六, 07 11月 2009) | 2 lines

Missed a few 5-wide tabs...

------------------------------------------------------------------------
r3023 | luigi__ | 2009-11-07 01:45:29 +0800 (六, 07 11月 2009) | 4 lines

Yet another cleanup:
- change f*cking weird indentation to tabs
- reorganize, put opcodes of same kind together

------------------------------------------------------------------------
r3022 | nitsuja | 2009-11-05 16:26:14 +0800 (四, 05 11月 2009) | 2 lines

excluding non-4-byte-aligned addresses from 4-byte size value ram searching when "check misaligned" is disabled, because such values should always be 32-bit aligned on the ds and it's confusing to always see unaligned ones mixed in

------------------------------------------------------------------------
r3021 | nitsuja | 2009-11-05 15:45:31 +0800 (四, 05 11月 2009) | 5 lines

fix for sound sometimes looping endlessly if you pause and bring up a menu or dialog,
possible fix for an occasional crash when changing synchronizer mode,
fix for sound.clear not actually working,
fix for screen gap settings messing up certain alternate LCD layout calculations (I thought I already checked this in)

------------------------------------------------------------------------
r3020 | zeromus | 2009-11-05 12:12:57 +0800 (四, 05 11月 2009) | 2 lines

win32: fix svn rev scanner, which was scanning too deep through all tags and branches and sometimes making VS freeze before proceeding with a build

------------------------------------------------------------------------
r3019 | nitsuja | 2009-11-04 19:31:45 +0800 (三, 04 11月 2009) | 2 lines

possibly fixing a bug where frame advance can run out of control sometimes, and disabling a throttle setting that didn't seem to add much

------------------------------------------------------------------------
r3018 | gocha | 2009-11-04 16:41:43 +0800 (三, 04 11月 2009) | 2 lines

change the behavior of menu item "Emulation > Pause" to call TogglePause() rather than Pause(); add Increase/Decrease Volume hotkey.

------------------------------------------------------------------------
r3017 | zeromus | 2009-11-04 15:47:38 +0800 (三, 04 11月 2009) | 2 lines

win32: fix bug in cflash configuration

------------------------------------------------------------------------
r3016 | zeromus | 2009-11-04 11:51:01 +0800 (三, 04 11月 2009) | 2 lines

clean up mic configuration and only enable mic when physical mic mode is selected

------------------------------------------------------------------------
r3015 | zeromus | 2009-11-04 09:57:20 +0800 (三, 04 11月 2009) | 2 lines

fix 2891025 (random display of black lines polygon?) in rasterizer due to misuse of a global across the multiple SLI threads

------------------------------------------------------------------------
r3014 | luigi__ | 2009-11-04 09:34:40 +0800 (三, 04 11月 2009) | 5 lines

Cleanup:
- fix indentation so it's tabs everywhere (or almost) instead of some weird mix
- fix some weird namings
- and some others...

------------------------------------------------------------------------
r3013 | nitsuja | 2009-11-04 01:51:28 +0800 (三, 04 11月 2009) | 6 lines

various improvements to the new LCDs settings.
- you can select "main screen first" to automatically put the main GPU screen on top. combining this with the "one LCD" setting lets games like NSMB and Sonic Rush be playable on a single screen (it auto-switches to the screen that has the character on it).
- fully exclude screen gap from calculations when in single screen or side-by-side mode
- make OSD elements stay consistently located when flipping the LCDs around
- possibly improved the stylus-dragged-offscreen behavior for the alternate layouts

------------------------------------------------------------------------
r3012 | mtabachenko | 2009-11-02 20:22:38 +0800 (一, 02 11月 2009) | 3 lines

winport:
- fix bug with stylus in vertical swapped screens layout;

------------------------------------------------------------------------
r3011 | mtabachenko | 2009-11-02 19:56:54 +0800 (一, 02 11月 2009) | 3 lines

winport:
- added custom LCDs layout: vertical, horizontal and one LCD (default hotkeys: End - change layout, PageDown - swap screens);

------------------------------------------------------------------------
r3010 | zeromus | 2009-11-02 13:38:51 +0800 (一, 02 11月 2009) | 2 lines

fix determination of dsv filename for games loaded from archives from recent roms menu (which mismatched the case when loaded from open menu) and fix the loading of .ds.gba files

------------------------------------------------------------------------
r3009 | nitsuja | 2009-11-02 06:24:44 +0800 (一, 02 11月 2009) | 2 lines

fix for texcache scan occasionally doing unnecessary iterations

------------------------------------------------------------------------
r3008 | zeromus | 2009-11-02 06:03:43 +0800 (一, 02 11月 2009) | 2 lines

some speedups to texture cache

------------------------------------------------------------------------
r3007 | nitsuja | 2009-11-02 04:12:40 +0800 (一, 02 11月 2009) | 2 lines

re-enable ACCOUNT_FOR_CODE_FETCH_CYCLES since I've seen a couple of cases where it makes a difference. (it's not clear whether this is where the corrective timing change should be coming from, but I don't have any better ideas at the moment)

------------------------------------------------------------------------
r3006 | nitsuja | 2009-11-02 04:04:25 +0800 (一, 02 11月 2009) | 2 lines

fix parsing of --num-cores=# option

------------------------------------------------------------------------
r3005 | zeromus | 2009-11-02 02:53:27 +0800 (一, 02 11月 2009) | 2 lines

fix bug in new texcache which caused performance disaster

------------------------------------------------------------------------
r3004 | zeromus | 2009-11-02 02:04:57 +0800 (一, 02 11月 2009) | 2 lines

fix a little bug in the 3d frameskipping

------------------------------------------------------------------------
r3003 | nitsuja | 2009-11-01 19:04:14 +0800 (日, 01 11月 2009) | 2 lines

added more speed settings for increase/decrease speed hotkeys, and fixed the bug where it would crash if you pressed decrease speed 9 times

------------------------------------------------------------------------
r3002 | nitsuja | 2009-11-01 17:07:21 +0800 (日, 01 11月 2009) | 3 lines

- fixed movie not closing when loading a new rom or closing the rom
- fixed tab+alt key combination getting the emulator stuck in fast-forward mode

------------------------------------------------------------------------
r3001 | nitsuja | 2009-11-01 16:32:33 +0800 (日, 01 11月 2009) | 4 lines

- re-enable sound during frame advance (hold)
- prevent user from resetting emulation during movie playback
- hide the "disabled" hotkey name in menu items

------------------------------------------------------------------------
r3000 | nitsuja | 2009-11-01 14:40:18 +0800 (日, 01 11月 2009) | 4 lines

- fixed bug where trying to save two savestates in a row would load the second one instead of saving it
- fixed movie recording which was totally broken by my last checkin
- fixed some minor snddx buffer size problems (the default size might need to be increased now, but if so, someone else should do it, since it works fine for me as is.)

------------------------------------------------------------------------
r2999 | nitsuja | 2009-11-01 02:50:55 +0800 (日, 01 11月 2009) | 2 lines

add "finished" movie mode to make TASing less annoying (so you don't have to restart the movie every time you let it reach the last frame). fixed some little bugs like a movie loading crash bug too.

------------------------------------------------------------------------
r2998 | riccardom | 2009-11-01 02:31:54 +0800 (日, 01 11月 2009) | 2 lines

Shut up annoying gcc warning about initialization vs declaration order.

------------------------------------------------------------------------
r2997 | riccardom | 2009-11-01 02:28:12 +0800 (日, 01 11月 2009) | 2 lines

Lot of functions could be made static, add proper declaration for _hack_getMatrixStackLevel().

------------------------------------------------------------------------
r2996 | riccardom | 2009-11-01 01:09:45 +0800 (日, 01 11月 2009) | 2 lines

Reorder field initialization to shut up gcc warnings.

------------------------------------------------------------------------
r2995 | riccardom | 2009-11-01 01:06:28 +0800 (日, 01 11月 2009) | 2 lines

execRasterizerUnit can be static.

------------------------------------------------------------------------
r2994 | riccardom | 2009-11-01 01:05:30 +0800 (日, 01 11月 2009) | 2 lines

Use the same type as the declaration.

------------------------------------------------------------------------
r2993 | riccardom | 2009-11-01 00:58:25 +0800 (日, 01 11月 2009) | 2 lines

Add missing parens.

------------------------------------------------------------------------
r2992 | riccardom | 2009-11-01 00:49:23 +0800 (日, 01 11月 2009) | 2 lines

Reorder class variable initialization in order to shut up gcc warnings.

------------------------------------------------------------------------
r2991 | zeromus | 2009-10-30 14:05:43 +0800 (五, 30 10月 2009) | 2 lines

support multiple game devices.

------------------------------------------------------------------------
r2990 | zeromus | 2009-10-30 13:24:52 +0800 (五, 30 10月 2009) | 2 lines

fix bug preventing use of joysticks for hotkeys (even though they could be bound)

------------------------------------------------------------------------
r2989 | zeromus | 2009-10-30 11:39:16 +0800 (五, 30 10月 2009) | 2 lines

zero dma src/dst addresses on reset; clean up dma code; fix texture dumping; cleanup in new texcache code

------------------------------------------------------------------------
r2988 | zeromus | 2009-10-29 13:20:49 +0800 (四, 29 10月 2009) | 2 lines

fix warnings and more gcc pedantic errors

------------------------------------------------------------------------
r2987 | zeromus | 2009-10-29 12:28:57 +0800 (四, 29 10月 2009) | 2 lines

fix pedantic gcc compile errors

------------------------------------------------------------------------
r2986 | zeromus | 2009-10-29 00:53:19 +0800 (四, 29 10月 2009) | 2 lines

fix 64bits compilation

------------------------------------------------------------------------
r2985 | zeromus | 2009-10-28 17:39:52 +0800 (三, 28 10月 2009) | 2 lines

rewrite texture cache, change commandline from --single-core to --num-cores=N, add multithreading to rasterizer, add toggles to 3d config to disable fog+edgemarking for little speedups in games that use them.

------------------------------------------------------------------------
r2984 | zeromus | 2009-10-23 14:54:56 +0800 (五, 23 10月 2009) | 2 lines

fix radiobuttons in soundconfig

------------------------------------------------------------------------
r2983 | zeromus | 2009-10-23 14:14:46 +0800 (五, 23 10月 2009) | 2 lines

add spu synch method "P" featuring very refined code from PCSX2 which tempo-shifts intelligently.

------------------------------------------------------------------------
r2982 | nitsuja | 2009-10-22 16:59:13 +0800 (四, 22 10月 2009) | 2 lines

some small cleanup of audio output code

------------------------------------------------------------------------
r2981 | zeromus | 2009-10-21 15:53:22 +0800 (三, 21 10月 2009) | 2 lines

fix a bit of a boneheaded performance-slaying bug in spu synch mode

------------------------------------------------------------------------
r2980 | gocha | 2009-10-20 16:17:56 +0800 (二, 20 10月 2009) | 2 lines

luaconsole: add vertical scrollbar

------------------------------------------------------------------------
r2979 | zeromus | 2009-10-20 14:52:07 +0800 (二, 20 10月 2009) | 2 lines

add synch mode to spu and add necessary dialog configuration. (this is a spu option which fixes most streaming audio). it may become the default after we perform more analysis and refinement. also straighten out all the volume slider bugs.

------------------------------------------------------------------------
r2978 | zeromus | 2009-10-20 13:19:53 +0800 (二, 20 10月 2009) | 2 lines

fix clipper to handle output of 10 verts, instead of 8

------------------------------------------------------------------------
r2977 | gocha | 2009-10-20 09:12:39 +0800 (二, 20 10月 2009) | 2 lines

Replace LuaBitOp function definitions with DEFINE_LUA_FUNCTION

------------------------------------------------------------------------
r2976 | gocha | 2009-10-20 09:01:34 +0800 (二, 20 10月 2009) | 2 lines

Fix timeBeginPeriod-timeEndPeriod nesting

------------------------------------------------------------------------
r2975 | gocha | 2009-10-19 12:39:19 +0800 (一, 19 10月 2009) | 2 lines

win32: improved Edit action of Lua console. it tries to open a script by other ways if there is no association with "edit" action.

------------------------------------------------------------------------
r2974 | gocha | 2009-10-19 11:49:50 +0800 (一, 19 10月 2009) | 2 lines

win32: Edit button of Lua Console now opens a script with "edit" rather than "open" on ShellExecute.

------------------------------------------------------------------------
r2973 | yabause | 2009-10-19 04:15:40 +0800 (一, 19 10月 2009) | 2 lines

Another update to the pt_BR translation by Felipe2

------------------------------------------------------------------------
r2972 | yabause | 2009-10-18 20:39:46 +0800 (日, 18 10月 2009) | 2 lines

Updated pt_BR translation by Felipe2.

------------------------------------------------------------------------
r2971 | riccardom | 2009-10-17 04:12:40 +0800 (六, 17 10月 2009) | 2 lines

Disable --enable-memory-profiling since it does not compile.

------------------------------------------------------------------------
r2970 | riccardom | 2009-10-17 03:22:08 +0800 (六, 17 10月 2009) | 2 lines

Add Norwegian (Bokmål) Translation to glade frontend from Stian Drøbak, patch #2872647.

------------------------------------------------------------------------
r2969 | yabause | 2009-10-16 23:47:24 +0800 (五, 16 10月 2009) | 2 lines

#ifdef protected lua function calls. This fixes linking problems.

------------------------------------------------------------------------
r2968 | yabause | 2009-10-16 23:46:36 +0800 (五, 16 10月 2009) | 5 lines

Fixed two compilation errors with g++:
- added typename to iterator definitions
- g++ doesn't like using an anonymous variable as a reference,
  added a local variable to make it happy

------------------------------------------------------------------------
r2967 | zeromus | 2009-10-16 16:55:48 +0800 (五, 16 10月 2009) | 2 lines

change relative vertex submission to use the same overflow logic as boxtest, although i have no test csae for this. fix bugs in matrix stack which broke sims apartment pets.

------------------------------------------------------------------------
r2966 | zeromus | 2009-10-16 06:39:52 +0800 (五, 16 10月 2009) | 2 lines

add more flexible mic configuration and add rand() mode for m&l 3 (could be changed to another builtin sample instead if we find one we like). remove alternate flush mode configuration from UI since it isnt even hooked up anymore.

------------------------------------------------------------------------
r2965 | zeromus | 2009-10-16 02:10:18 +0800 (五, 16 10月 2009) | 2 lines

tighten the 3d timing even more to fix marvel nemesis. this is now clearly at epic compatibility hack level as 3d takes virtually no time to execute, but lets gather data on whether there are any negative consequences.

------------------------------------------------------------------------
r2963 | nitsuja | 2009-10-15 18:59:09 +0800 (四, 15 10月 2009) | 2 lines

disabling a printf

------------------------------------------------------------------------
r2962 | zeromus | 2009-10-15 16:07:01 +0800 (四, 15 10月 2009) | 2 lines

fix boxtest once and for all by correctly emulating the addition overflow, which strawberry shortcake and garfields nightmare were actually relying on. also tighten the 3d timing a bit since strawberry shortcake was expecting the gxfifo to be emptied earlier than it was.

------------------------------------------------------------------------
r2961 | nitsuja | 2009-10-15 14:34:41 +0800 (四, 15 10月 2009) | 2 lines

moved CallRegisteredLuaMemHook into a header so that it doesn't slow down release fastbuild quite so much

------------------------------------------------------------------------
r2960 | gocha | 2009-10-15 14:12:02 +0800 (四, 15 10月 2009) | 2 lines

win32: main window now accepts dropped *.lua and *.wch files.

------------------------------------------------------------------------
r2957 | gocha | 2009-10-15 13:35:59 +0800 (四, 15 10月 2009) | 2 lines

Lua: add memory.getregister and memory.setregister, fix memory.registerexec.

------------------------------------------------------------------------
r2956 | gocha | 2009-10-15 12:58:17 +0800 (四, 15 10月 2009) | 2 lines

Lua: add memory.registerwrite, memory.registerread, and memory.registerexec.

------------------------------------------------------------------------
r2955 | zeromus | 2009-10-12 15:41:16 +0800 (一, 12 10月 2009) | 2 lines

spu: fix the ancient bug in looping adpcm sounds which slew performance. this is what made the adpcm caching option necessary as a workaround. so--get rid of adpcm caching.

------------------------------------------------------------------------
r2954 | riccardom | 2009-10-12 05:32:32 +0800 (一, 12 10月 2009) | 2 lines

Add --enable-macosxhack to let zero compile the gtk frontend as macos x package.

------------------------------------------------------------------------
r2953 | zeromus | 2009-10-12 02:08:25 +0800 (一, 12 10月 2009) | 2 lines

just a little cleanup to one of my debug OSD, nothing to see here.

------------------------------------------------------------------------
r2952 | nitsuja | 2009-10-11 15:32:14 +0800 (日, 11 10月 2009) | 2 lines

temporary compile fix (until we can clean up this wifi stuff)

------------------------------------------------------------------------
r2951 | nitsuja | 2009-10-11 15:14:35 +0800 (日, 11 10月 2009) | 6 lines

- fixed a bug in MatrixStackInit
- fixed various other savestated variables not getting cleared on reset
- fixed game staying frozen after loading a savestate after the game crashes
- added emu.reset Lua function
- removed a few unused values from savestates

------------------------------------------------------------------------
r2950 | nitsuja | 2009-10-11 12:23:13 +0800 (日, 11 10月 2009) | 2 lines

so far I haven't seen this timing option have any effect whatsoever (even in timing-sensitive games) besides slowing down the emulator a lot. I think the result it calculates gets max'ed away the vast majority of the time. And the thing it enables probably isn't very accurate anyway. So let's see if we can get away with leaving it disabled for the time being...

------------------------------------------------------------------------
r2949 | nitsuja | 2009-10-11 12:11:41 +0800 (日, 11 10月 2009) | 2 lines

optimized the clipper

------------------------------------------------------------------------
r2948 | riccardom | 2009-10-11 04:32:25 +0800 (日, 11 10月 2009) | 2 lines

Readd glib checks which are needed to build on linux. Then force the dependency on pkg-config because without it we don't have glib which is mandatory.

------------------------------------------------------------------------
r2947 | riccardom | 2009-10-11 04:14:35 +0800 (日, 11 10月 2009) | 2 lines

glib is not a local include.

------------------------------------------------------------------------
r2946 | nitsuja | 2009-10-10 14:14:36 +0800 (六, 10 10月 2009) | 2 lines

fixed backface culling of non-convex quads

------------------------------------------------------------------------
r2945 | zeromus | 2009-10-10 08:39:28 +0800 (六, 10 10月 2009) | 2 lines

modifications for osx gtk building. not sure about the safety of the sdl modifications, and had to temporarily remove the configure check for glib. can someone help me make it bypassed on osx? my gtk/glib setup cannot be detected by the glib detector

------------------------------------------------------------------------
r2944 | zeromus | 2009-10-10 05:33:35 +0800 (六, 10 10月 2009) | 2 lines

fix bug where ramwatch would not update without ramsearch open (thanks cwitty)

------------------------------------------------------------------------
r2943 | luigi__ | 2009-10-10 01:27:45 +0800 (六, 10 10月 2009) | 6 lines

Okay, re-add SNDDXThread. But newer system. Synchronous with main thread.
No more loopy playback while menus are opened. No more silent playback while
the emu is paused.
(when you open the menu, sound stutters for a quarter of second before
stopping but that's acceptable)

------------------------------------------------------------------------
r2942 | zeromus | 2009-10-09 04:13:34 +0800 (五, 09 10月 2009) | 2 lines

fix bug in cflash writing, thanks obcd

------------------------------------------------------------------------
r2941 | luigi__ | 2009-10-09 03:58:15 +0800 (五, 09 10月 2009) | 3 lines

Re-implement BIOS SoundBias function more correctly. Get rid of SPU_ReadLong.
(is the bias feature really used by many games anyway? I don't think so)

------------------------------------------------------------------------
r2940 | luigi__ | 2009-10-09 03:19:36 +0800 (五, 09 10月 2009) | 3 lines

Fix for sound still playing while menu is opened.
While I'm at it, make snddx.cpp more C++.

------------------------------------------------------------------------
r2939 | luigi__ | 2009-10-09 02:20:14 +0800 (五, 09 10月 2009) | 5 lines

SPU refactoring, step 1: Goodbye SNDDXThread.
Music doesn't continue playing anymore while the emu is paused.

Feel free to revert.

------------------------------------------------------------------------
r2938 | gocha | 2009-10-08 18:06:14 +0800 (四, 08 10月 2009) | 2 lines

remove '#ifndef PUBLIC_RELEASE' which surrounds a part of wifi function. wifi function can be enabled/disabled by EXPERIMENTAL_WIFI.

------------------------------------------------------------------------
r2937 | gocha | 2009-10-08 11:13:29 +0800 (四, 08 10月 2009) | 2 lines

Lua: register entire LuaBitOp library.

------------------------------------------------------------------------
r2936 | luigi__ | 2009-10-07 22:38:16 +0800 (三, 07 10月 2009) | 3 lines

Rename GPU_ligne and some derivating functions to something more english.
Not that I'm against French but it makes code cleaner for people who can't read French.

------------------------------------------------------------------------
r2935 | nitsuja | 2009-10-07 15:19:46 +0800 (三, 07 10月 2009) | 2 lines

added DTCM and ITCM to ram search

------------------------------------------------------------------------
r2934 | zeromus | 2009-10-07 04:49:53 +0800 (三, 07 10月 2009) | 2 lines

i probably should not have checked in rand() test data in vectest

------------------------------------------------------------------------
r2933 | zeromus | 2009-10-07 04:33:39 +0800 (三, 07 10月 2009) | 2 lines

fix bug where backup memory resets when rom resets

------------------------------------------------------------------------
r2932 | zeromus | 2009-10-07 04:31:35 +0800 (三, 07 10月 2009) | 2 lines

attempt to emulate vectest, but leave logging in because i want a better test case. remove postest printf since i found a few test cases.

------------------------------------------------------------------------
r2931 | zeromus | 2009-10-07 02:32:08 +0800 (三, 07 10月 2009) | 2 lines

give boxtest ability to render the test boxes. now i am certain that games which the boxtest interacts with strangely are actually suffering from bad timing, and returning different boxtest results changes how much rendering they do and thus radically alters the timing. its a false lead, i think the box test is perfect.

------------------------------------------------------------------------
r2930 | zeromus | 2009-10-06 16:42:55 +0800 (二, 06 10月 2009) | 2 lines

preliminary implementation of clipper moved to gfx3d and used for box test. should have fixed all box test issues, but some cases will still fail due to unresolved timing problems

------------------------------------------------------------------------
r2929 | zeromus | 2009-10-05 06:23:05 +0800 (一, 05 10月 2009) | 2 lines

fix old bug causing inability to use gamepads for hotkeys

------------------------------------------------------------------------
r2928 | zeromus | 2009-10-05 05:25:01 +0800 (一, 05 10月 2009) | 2 lines

add some emuloop performance diagnostics

------------------------------------------------------------------------
r2927 | nitsuja | 2009-10-05 05:18:59 +0800 (一, 05 10月 2009) | 2 lines

optimized fog table calculation

------------------------------------------------------------------------
r2926 | zeromus | 2009-10-05 02:18:39 +0800 (一, 05 10月 2009) | 2 lines

re-add arm9 load average tracking, this time displayed in the OSD so that people arent confused by it in the window title.

------------------------------------------------------------------------
r2925 | zeromus | 2009-10-05 00:25:07 +0800 (一, 05 10月 2009) | 2 lines

gxstat shouldnt have a reset method. its constructor resets it. this happens when MMU_struct_new gets reconstructed.

------------------------------------------------------------------------
r2924 | mtabachenko | 2009-10-03 16:26:43 +0800 (六, 03 10月 2009) | 2 lines

- ops, sorry, I forgot commit some stuff (bug #2868470);

------------------------------------------------------------------------
r2923 | mtabachenko | 2009-10-03 01:16:24 +0800 (六, 03 10月 2009) | 7 lines

core:
- fix bug #2868470 (Pokémon Ranger - freezing at the first battle);
- fix bug #2860505 (Pokemon Diamond/Pearl/Platinum In-game trades not working);

winport:
- fix change sound buffer size;

------------------------------------------------------------------------
r2922 | gocha | 2009-10-01 22:32:03 +0800 (四, 01 10月 2009) | 2 lines

movie dialog: fixed subsecond calculation; added subsecond rounding code; expanded the width of frameCount/rerecordCount display.

------------------------------------------------------------------------
r2921 | zeromus | 2009-10-01 07:31:36 +0800 (四, 01 10月 2009) | 2 lines

win32: load wav file for mic instead of raw

------------------------------------------------------------------------
r2920 | gocha | 2009-09-30 12:52:52 +0800 (三, 30  9月 2009) | 2 lines

main windows can handle dropped lua script from now.

------------------------------------------------------------------------
r2919 | gocha | 2009-09-29 07:42:09 +0800 (二, 29  9月 2009) | 2 lines

Removed Update_RAM_Watch() lines because it's called from Update_RAM_Search()

------------------------------------------------------------------------
r2918 | gocha | 2009-09-28 12:15:07 +0800 (一, 28  9月 2009) | 2 lines

win: upgraded hotkey code (ported from snes9x-rr)

------------------------------------------------------------------------
r2917 | zeromus | 2009-09-28 08:11:36 +0800 (一, 28  9月 2009) | 2 lines

add new "random" mic noise which needed updating since the code which returns samples to the game software was corrected

------------------------------------------------------------------------
r2916 | gocha | 2009-09-27 14:26:18 +0800 (日, 27  9月 2009) | 2 lines

close movie file when it's stopped

------------------------------------------------------------------------
r2915 | luigi__ | 2009-09-26 19:51:12 +0800 (六, 26  9月 2009) | 3 lines

Again a fix
Add a missing file again >.<

------------------------------------------------------------------------
r2914 | luigi__ | 2009-09-26 19:47:21 +0800 (六, 26  9月 2009) | 2 lines

Fix to VS2010 project: add two missing files.

------------------------------------------------------------------------
r2913 | nitsuja | 2009-09-25 23:48:17 +0800 (五, 25  9月 2009) | 2 lines

adding missing check to an optimization so it can be re-enabled

------------------------------------------------------------------------
r2912 | gocha | 2009-09-25 21:30:04 +0800 (五, 25  9月 2009) | 2 lines

ramwatch: add more (ListView_GetSelectionMark() != -1) checks

------------------------------------------------------------------------
r2911 | zeromus | 2009-09-25 13:16:54 +0800 (五, 25  9月 2009) | 2 lines

gpu: revert an optimization which broke some edge handling in affine bg (fix NYT crosswords)

------------------------------------------------------------------------
r2910 | zeromus | 2009-09-24 02:48:45 +0800 (四, 24  9月 2009) | 2 lines

fix a bad bug in savefile handling introduced a few revisions ago due to changes in initialization/reset code flow, always a desmume weakness and area of confusion.... but maybe not for long

------------------------------------------------------------------------
r2909 | zeromus | 2009-09-23 11:07:52 +0800 (三, 23  9月 2009) | 2 lines

fix another unhandled command 0xDD case.

------------------------------------------------------------------------
r2908 | zeromus | 2009-09-23 06:32:55 +0800 (三, 23  9月 2009) | 2 lines

fix the undefined command 0xDD 00000000 which may have been causing undetected problems

------------------------------------------------------------------------
r2907 | zeromus | 2009-09-23 00:59:33 +0800 (三, 23  9月 2009) | 2 lines

fix regression in gxfifo 0x00 command handling (fixes galactik and nintendogs:dalmatian)

------------------------------------------------------------------------
r2906 | gocha | 2009-09-22 16:45:12 +0800 (二, 22  9月 2009) | 2 lines

Modify my old comment to fit the current status.

------------------------------------------------------------------------
r2905 | nitsuja | 2009-09-22 16:31:00 +0800 (二, 22  9月 2009) | 2 lines

enabling cache emulation. this seems to fix timing bugs in several games. we can worry about the speed later.

------------------------------------------------------------------------
r2904 | zeromus | 2009-09-22 11:02:39 +0800 (二, 22  9月 2009) | 2 lines

fix glitches in dma and poor code in command unpacking which were causing some slowdown. clean up ioregview refresh triggering code and add a note about how to cut compile time of gpu.cpp in half.

------------------------------------------------------------------------
r2903 | zeromus | 2009-09-22 01:10:52 +0800 (二, 22  9月 2009) | 2 lines

fix gcc compiling

------------------------------------------------------------------------
r2902 | zeromus | 2009-09-21 09:51:42 +0800 (一, 21  9月 2009) | 2 lines

rewrite dma, gxfifo, gxstat, command unpacking; old gxfifo removed; many games fixed, gta and dq4 broken; dma still not finished; your savestates will be broken; have coded 40 hours without checking performance, beware; add dma regs to ioregview, fix cpu selector in < vista;

------------------------------------------------------------------------
r2901 | zeromus | 2009-09-21 04:20:18 +0800 (一, 21  9月 2009) | 2 lines

fix an annoying bug in mapview that made some layers not show up at all due to interference from blending logic in gpu

------------------------------------------------------------------------
r2900 | nitsuja | 2009-09-21 04:11:16 +0800 (一, 21  9月 2009) | 5 lines

- new memory access timing, should be more accurate. this fixes some games for me.
- this includes basic cache emulation, but that's disabled for now for performance reasons
- got rid of the fast fetch execute menu option
(switching between the two should no longer be needed and I don't think we should have things like that be options)

------------------------------------------------------------------------
r2897 | riccardom | 2009-09-20 03:07:59 +0800 (日, 20  9月 2009) | 5 lines

Enable sse/sse2 fast path

Apply patch from cwitty to enable sse/sse2 fast path with
gcc. Patch #2860351

------------------------------------------------------------------------
r2896 | riccardom | 2009-09-20 01:14:50 +0800 (日, 20  9月 2009) | 7 lines

Look for modules in cwd instead of home

gmelquio suggests in bug #2862128 we should use cwd and
not force the home directory where looking for modules
like savefiles. Applied a modified patch which uses glib
and does not leak the string.

------------------------------------------------------------------------
r2895 | riccardom | 2009-09-20 00:44:20 +0800 (日, 20  9月 2009) | 2 lines

Move preprocessor directives at column 0, cleanup some risky ifdef usage.

------------------------------------------------------------------------
r2894 | nitsuja | 2009-09-19 12:46:19 +0800 (六, 19  9月 2009) | 2 lines

some minor optimization and cleanup

------------------------------------------------------------------------
r2893 | zeromus | 2009-09-18 05:37:32 +0800 (五, 18  9月 2009) | 2 lines

add commandline handling for --bios-arm9 and --bios-arm7 and --bios-sw1=1

------------------------------------------------------------------------
r2892 | zeromus | 2009-09-18 03:49:10 +0800 (五, 18  9月 2009) | 2 lines

gpu: a very small speedup by templateizing the wrap logic in affineext modes which is not commonly used

------------------------------------------------------------------------
r2891 | mtabachenko | 2009-09-17 19:42:17 +0800 (四, 17  9月 2009) | 3 lines

winport:
- add manual import\export No$GBA saves;

------------------------------------------------------------------------
r2890 | zeromus | 2009-09-17 06:51:26 +0800 (四, 17  9月 2009) | 2 lines

fix a windows compile error added when the gcc compile error was fixed

------------------------------------------------------------------------
r2889 | riccardom | 2009-09-17 03:27:07 +0800 (四, 17  9月 2009) | 2 lines

This one want to be constified too.

------------------------------------------------------------------------
r2888 | riccardom | 2009-09-17 03:25:56 +0800 (四, 17  9月 2009) | 3 lines

Declare gfx3d_ClearStack() properly in a header and include
the header where needed.

------------------------------------------------------------------------
r2887 | riccardom | 2009-09-17 03:21:57 +0800 (四, 17  9月 2009) | 2 lines

Mark a function static.

------------------------------------------------------------------------
r2886 | riccardom | 2009-09-17 02:57:33 +0800 (四, 17  9月 2009) | 3 lines

Mark arm_instruction_names as const char * otherwise gcc
will hate you.

------------------------------------------------------------------------
r2885 | gocha | 2009-09-16 23:17:41 +0800 (三, 16  9月 2009) | 2 lines

Replaced glColor4ubv with glColor4fv. This might affect alpha test.

------------------------------------------------------------------------
r2884 | gocha | 2009-09-16 21:57:37 +0800 (三, 16  9月 2009) | 5 lines

Revert to r2882 since it awfully broke Castlevania games (possibly other games as well).
The reasons I replaced GL_GREATER with GL_GEQUAL in r2883 are:
1. gbatek says "Hide pixels if Alpha<AlphaRef"
2. rasterizer also says "if(shaderOutput.a < gfx3d.alphaTestRef) goto rejected_fragment;"

------------------------------------------------------------------------
r2883 | gocha | 2009-09-16 19:01:14 +0800 (三, 16  9月 2009) | 2 lines

OGLRender: Replaced GL_GREATER with GL_GEQUAL

------------------------------------------------------------------------
r2882 | zeromus | 2009-09-16 15:38:28 +0800 (三, 16  9月 2009) | 2 lines

optimizations (especially for 32bit systems) to sequencing logic in main emulation loop; few fps speedup for cpu heavy games

------------------------------------------------------------------------
r2880 | zeromus | 2009-09-16 08:00:13 +0800 (三, 16  9月 2009) | 2 lines

for dev+ builds, add logging of execution counts for each instruction.

------------------------------------------------------------------------
r2879 | normmatt234 | 2009-09-15 20:14:17 +0800 (二, 15  9月 2009) | 2 lines

Support new Backup command required for Pokemon HG/SS to work without triggering an anti-piracy protection.

------------------------------------------------------------------------
r2878 | zeromus | 2009-09-15 14:20:09 +0800 (二, 15  9月 2009) | 2 lines

unhook all emulation of STRBT and LDRBT which were confusingly only half emulated; I think that they shouldn't be emulated at all. someone prove me wrong. also, fix the FORCEINLINE macro on gcc to do something approximating its intent. maybe it doesn't work on old gccs and we'll have to change it back or conditionalize it differently.

------------------------------------------------------------------------
r2877 | zeromus | 2009-09-15 12:36:21 +0800 (二, 15  9月 2009) | 2 lines

add that lq2x and hx2xs patch #2852221 and also fix a bug in the new ioregview which prevented it from compiling on older windows sdks

------------------------------------------------------------------------
r2875 | mtabachenko | 2009-09-14 19:40:30 +0800 (一, 14  9月 2009) | 3 lines

winport:
- fix search cheats crash on x64;

------------------------------------------------------------------------
r2874 | gocha | 2009-09-14 12:30:40 +0800 (一, 14  9月 2009) | 2 lines

Fix render_sprite_Win to handle 256 color objects properly.

------------------------------------------------------------------------
r2873 | luigi__ | 2009-09-14 03:59:26 +0800 (一, 14  9月 2009) | 4 lines

Small feature: add a possibility to make "Emulation paused/unpaused" messages
optional when calling NDS_Pause()/NDS_Unpause() by adding them a parameter
defaulted to true. Shouldn't break anything.

------------------------------------------------------------------------
r2871 | gocha | 2009-09-13 23:52:14 +0800 (日, 13  9月 2009) | 2 lines

Replaced Lua bit operations with LuaBitOp 1.0.1. Now it can handle the sign bit (bit 31) correctly.

------------------------------------------------------------------------
r2870 | luigi__ | 2009-09-13 22:11:36 +0800 (日, 13  9月 2009) | 3 lines

I/O reg viewer: fix scrollbar, and implement all graphics registers for
2D graphics engines.

------------------------------------------------------------------------
r2869 | luigi__ | 2009-09-13 18:17:25 +0800 (日, 13  9月 2009) | 3 lines

I/O reg viewer: improve scrollbar handling, and fix a small bug with
names/descriptions that have ampersands and/or underscores inside them.

------------------------------------------------------------------------
r2868 | mtabachenko | 2009-09-13 18:13:18 +0800 (日, 13  9月 2009) | 4 lines

core:
- add load logo data into ARM9 BIOS area;
(for a GBAgame not need external BIOS now)

------------------------------------------------------------------------
r2867 | luigi__ | 2009-09-13 17:55:52 +0800 (日, 13  9月 2009) | 2 lines

I/O reg viewer: fix a bug where ARM9 IE/IF had two blank Bit0 fields at the bottom.

------------------------------------------------------------------------
r2866 | luigi__ | 2009-09-13 08:36:27 +0800 (日, 13  9月 2009) | 2 lines

Remove two weird empty lines.

------------------------------------------------------------------------
r2865 | luigi__ | 2009-09-13 08:32:26 +0800 (日, 13  9月 2009) | 2 lines

Commit missing stuff. Sorry.

------------------------------------------------------------------------
r2864 | luigi__ | 2009-09-13 08:25:52 +0800 (日, 13  9月 2009) | 4 lines

Windows port: delete the old I/O reg viewer dialog templates.
(Yup, the new one is a plain window. It appears plain windows
refresh faster than dialogs :( )

------------------------------------------------------------------------
r2863 | luigi__ | 2009-09-13 08:17:59 +0800 (日, 13  9月 2009) | 8 lines

Windows port: brand new I/O reg viewer.
- Allows to view all the registers, the registers of a certain category, or one
register in detail.
- Table system facilitating implementation of new registers
- Implements the registers that were implemented in the old I/O reg viewer, so
there's no loss
- You can open as many I/O reg viewers as you want

------------------------------------------------------------------------
r2862 | mtabachenko | 2009-09-13 05:44:46 +0800 (日, 13  9月 2009) | 3 lines

addons:
- GBAgame: add flash memory support. Pokemons migrate work now (need use external BIOS without SWI, I will fix it later) :)

------------------------------------------------------------------------
r2861 | luigi__ | 2009-09-11 02:46:42 +0800 (五, 11  9月 2009) | 5 lines

MMU: add some extremely basic Ninja SD support, based on libfat code.
This was my first attempt at getting ndsmail working properly.
All the needed init code is here, but reading and writing operations
are seriously lacking for now.

------------------------------------------------------------------------
r2859 | riccardom | 2009-09-10 02:24:23 +0800 (四, 10  9月 2009) | 2 lines

Use the correct type for recvfrom argument.

------------------------------------------------------------------------
r2858 | luigi__ | 2009-09-10 02:11:51 +0800 (四, 10  9月 2009) | 3 lines

Windows port: Add a constructor to CToolWindow. Also fix a bug that would cause
the Adhoc interface to always be initialized even when SoftAP is selected.

------------------------------------------------------------------------
r2857 | luigi__ | 2009-09-10 01:59:50 +0800 (四, 10  9月 2009) | 10 lines

Wifi: lots of improvements here and there:
- fix USCOUNTER and USCOMPARE implementation
- add support for extra TX slot
- add some experimental receiving code for SoftAP
- and others...

Also, change the predefined WFC profile to be an empty profile and remove support
for probe requests. This should prevent any WFC connection attempt, without breaking
homebrews (atleast dswifi lib based ones). (Note: WFC doesn't work anyway)

------------------------------------------------------------------------
r2854 | zeromus | 2009-09-09 08:57:15 +0800 (三, 09  9月 2009) | 2 lines

it seems as if we added a winver>=0x0501 dependency (winxp) in CWindow.cpp with the font bullcrap. Im not sure why it needs to be there, but lets make the 2005 vcproj define that sdk version so it compiles once more

------------------------------------------------------------------------
r2850 | gocha | 2009-09-09 06:53:43 +0800 (三, 09  9月 2009) | 2 lines

Moved fastFetchExecute to CommonSettings, and set the default value to false.

------------------------------------------------------------------------
r2849 | mtabachenko | 2009-09-09 00:43:15 +0800 (三, 09  9月 2009) | 3 lines

winport:
- add save "Fast Fetch-Execute" state;

------------------------------------------------------------------------
r2848 | gocha | 2009-09-08 23:48:13 +0800 (二, 08  9月 2009) | 2 lines

winport: add "Fast Fetch-Execute" to the menu, since r2844 brought some emulation glitches.

------------------------------------------------------------------------
r2847 | gocha | 2009-09-08 23:37:37 +0800 (二, 08  9月 2009) | 2 lines

disabled frameskip while avi recording

------------------------------------------------------------------------
r2844 | gocha | 2009-09-08 12:09:16 +0800 (二, 08  9月 2009) | 3 lines

Fetch-execute cycle is now processed parallelly. It's still inaccurate, but much better than before.
Additionally, indentations are adjusted.

------------------------------------------------------------------------
r2843 | gocha | 2009-09-08 11:12:55 +0800 (二, 08  9月 2009) | 2 lines

winport: a little fix for stylus autohold

------------------------------------------------------------------------
r2842 | gocha | 2009-09-08 10:39:58 +0800 (二, 08  9月 2009) | 2 lines

winport: add autohold for stylus

------------------------------------------------------------------------
r2841 | mtabachenko | 2009-09-08 05:02:46 +0800 (二, 08  9月 2009) | 3 lines

core:
- fix SWI 0x03 (WaitByLoop);

------------------------------------------------------------------------
r2840 | mtabachenko | 2009-09-07 17:44:37 +0800 (一, 07  9月 2009) | 3 lines

winport:
- fix ICC project compiling;

------------------------------------------------------------------------
r2839 | gocha | 2009-09-07 10:35:55 +0800 (一, 07  9月 2009) | 2 lines

{S} instructions don't consume more cycles than non {S} instructions, do they?

------------------------------------------------------------------------
r2838 | nitsuja | 2009-09-07 06:50:37 +0800 (一, 07  9月 2009) | 2 lines

fix vs2008 linking

------------------------------------------------------------------------
r2837 | luigi__ | 2009-09-07 06:20:06 +0800 (一, 07  9月 2009) | 2 lines

Add comctl32.lib to VS2008 and VS2010 projects.

------------------------------------------------------------------------
r2836 | luigi__ | 2009-09-07 06:14:49 +0800 (一, 07  9月 2009) | 2 lines

Holy shit... macro redefinition.

------------------------------------------------------------------------
r2835 | luigi__ | 2009-09-07 06:02:15 +0800 (一, 07  9月 2009) | 2 lines

Add a couple of defines for the new I/O reg viewer.

------------------------------------------------------------------------
r2834 | mtabachenko | 2009-09-07 05:55:14 +0800 (一, 07  9月 2009) | 4 lines

core:
- fix SWI 4,5 (Children of Mana run now);
- fix reset bug in IPC FIFO;

------------------------------------------------------------------------
r2833 | nitsuja | 2009-09-07 00:41:18 +0800 (一, 07  9月 2009) | 2 lines

crash fix for win32 closerom

------------------------------------------------------------------------
r2830 | luigi__ | 2009-09-06 06:30:14 +0800 (日, 06  9月 2009) | 2 lines

Small cosmetic fix: add DeSmuME icon to toolwindows.

------------------------------------------------------------------------
r2829 | luigi__ | 2009-09-06 06:06:01 +0800 (日, 06  9月 2009) | 2 lines

Resize a bit the mem viewer so the last line fits in the view box.

------------------------------------------------------------------------
r2828 | luigi__ | 2009-09-06 05:58:31 +0800 (日, 06  9月 2009) | 16 lines

Windows port: adapt the mem viewer to the new tool system. And its layout
has been slightly changed:
- a combobox has been added to let you choose the CPU
- the view mode radiobuttons became a combobox due to space lacking,
- the Close button has been moved to the bottom-right corner
- the view box is less wide due to the font changed to Courier New

You can now open as many mem view windows as you want. Don't abuse it though,
at least until we find a super-fast refreshing method. For now the tools will
refresh every 6 frames.

Little extra for zeromus: if font antialiasing is turned off, the font the
view box uses will not be antialiased.

(sorry for blank log message in last revision. The log message I forgot to add was this one.)

------------------------------------------------------------------------
r2827 | luigi__ | 2009-09-06 05:53:47 +0800 (日, 06  9月 2009) | 1 line

------------------------------------------------------------------------
r2826 | luigi__ | 2009-09-06 04:06:11 +0800 (日, 06  9月 2009) | 2 lines

Windows port: small fix in RegWndClass for x64 builds.

------------------------------------------------------------------------
r2825 | luigi__ | 2009-09-06 03:08:51 +0800 (日, 06  9月 2009) | 2 lines

Windows port: add a base CToolWindow class and a toolwindow handler.

------------------------------------------------------------------------
r2824 | nitsuja | 2009-09-06 01:39:22 +0800 (日, 06  9月 2009) | 2 lines

added Close ROM menu command and made Lua scripts stop when opening or closing a ROM

------------------------------------------------------------------------
r2823 | luigi__ | 2009-09-05 23:32:22 +0800 (六, 05  9月 2009) | 3 lines

Noone wants to bitch about the new organization of the VS2008 project?
Okay, then let's apply it to the VS2010 project.

------------------------------------------------------------------------
r2822 | luigi__ | 2009-09-05 23:25:15 +0800 (六, 05  9月 2009) | 2 lines

VS2008 project: move gdbstub.h into the gdbstub filter.

------------------------------------------------------------------------
r2821 | gocha | 2009-09-05 17:10:38 +0800 (六, 05  9月 2009) | 2 lines

Fix cycle count (gbatek: Execution Time: If condition=false: 1S cycle)

------------------------------------------------------------------------
r2820 | nitsuja | 2009-09-05 16:54:19 +0800 (六, 05  9月 2009) | 2 lines

win32: added Lua recent script menu items and hotkey

------------------------------------------------------------------------
r2819 | nitsuja | 2009-09-05 12:19:56 +0800 (六, 05  9月 2009) | 2 lines

win32: customizable gap color (white/gray/black)

------------------------------------------------------------------------
r2818 | gocha | 2009-09-05 06:31:59 +0800 (六, 05  9月 2009) | 2 lines

Make instruction cycles same as GDB_STUB build (decreased all instruction cycles by 1)

------------------------------------------------------------------------
r2817 | luigi__ | 2009-09-05 02:01:36 +0800 (六, 05  9月 2009) | 4 lines

VS2008 project: more reorganization: move resource files filter into Windows
filter, move instruction tables into Core filter, remove the non-existing
gl_vertex.h as for VS2010 project.

------------------------------------------------------------------------
r2816 | luigi__ | 2009-09-05 01:58:14 +0800 (六, 05  9月 2009) | 8 lines

VS2008 project: reorganize the project to have sources and includes together,
in two filters: Core and Windows. Let resource files in their original filter
and move the instruction tables to another filter.

Feel free to revert if you don't like this organization.

If people like it, I'll do the same with the VS2010 project.

------------------------------------------------------------------------
r2815 | luigi__ | 2009-09-04 23:53:07 +0800 (五, 04  9月 2009) | 2 lines

Remove an offensive line.

------------------------------------------------------------------------
r2814 | luigi__ | 2009-09-04 23:51:20 +0800 (五, 04  9月 2009) | 4 lines

Wifi: re-enable SoftAP.
(Oh, and I also happened to commit the version 0.00001 of what would
be the dialog template for the new (unfinished) I/O reg viewer)

------------------------------------------------------------------------
r2813 | luigi__ | 2009-09-04 23:45:51 +0800 (五, 04  9月 2009) | 2 lines

VS2010 project: remove the non-existing gl_vertex.h.

------------------------------------------------------------------------
r2812 | luigi__ | 2009-09-04 23:28:30 +0800 (五, 04  9月 2009) | 2 lines

VS2010 project: add the vcxproj.filters file which contains filter (folder) info.

------------------------------------------------------------------------
r2811 | gocha | 2009-09-04 23:27:53 +0800 (五, 04  9月 2009) | 2 lines

Fix GDB_STUB compile

------------------------------------------------------------------------
r2810 | nitsuja | 2009-09-03 16:44:10 +0800 (四, 03  9月 2009) | 2 lines

fix for mic being stuck at max volume in some games if you don't have a microphone

------------------------------------------------------------------------
r2809 | zeromus | 2009-09-03 04:49:27 +0800 (四, 03  9月 2009) | 2 lines

fix a little error which broke compilation on 64bit systems? reported on forums

------------------------------------------------------------------------
r2808 | riccardom | 2009-09-03 02:44:00 +0800 (四, 03  9月 2009) | 2 lines

Fix whitespace :)

------------------------------------------------------------------------
r2807 | riccardom | 2009-09-03 02:43:08 +0800 (四, 03  9月 2009) | 2 lines

Apply the same workaround applied to the gtk frontend by zeromus to make it not segfault.

------------------------------------------------------------------------
r2806 | nitsuja | 2009-09-02 17:21:37 +0800 (三, 02  9月 2009) | 2 lines

mic: it seems like some other bugs must be here, but I'll fix this obvious one of mine...

------------------------------------------------------------------------
r2805 | zeromus | 2009-09-02 14:29:08 +0800 (三, 02  9月 2009) | 2 lines

add a tiny little hack for nonwindows port to change the screen drawtarget so that it is suitable for rendering to GPU_screen (the old fashioned way); this only affects gtk right now, other linux ports will need it

------------------------------------------------------------------------
r2804 | zeromus | 2009-09-02 14:05:19 +0800 (三, 02  9月 2009) | 2 lines

fix bug in linux rom loading resulting from code changes for smaller roms

------------------------------------------------------------------------
r2803 | riccardom | 2009-09-02 03:04:39 +0800 (三, 02  9月 2009) | 2 lines

Reorder fields in the same order they are initialized to shut up gcc warnings.

------------------------------------------------------------------------
r2802 | riccardom | 2009-09-02 03:01:35 +0800 (三, 02  9月 2009) | 2 lines

Add missing addons/expMemory.cpp to makefile.

------------------------------------------------------------------------
r2801 | mtabachenko | 2009-09-01 17:35:33 +0800 (二, 01  9月 2009) | 7 lines

addons:
- add Expansion Memory Pak (need for NDS Browser (Opera) and other games);
- fix init GBAgame buffer;

bios:
- fix SWI 10h (BitUnPack - DSlinux dont freeze emu now);

------------------------------------------------------------------------
r2800 | nitsuja | 2009-08-31 06:46:28 +0800 (一, 31  8月 2009) | 2 lines

added savestate.verify Lua function for automated desync detection (disabled in public release)

------------------------------------------------------------------------
r2799 | nitsuja | 2009-08-30 19:22:00 +0800 (日, 30  8月 2009) | 3 lines

some small CPU optimizations
(and reducing the minimum rom size)

------------------------------------------------------------------------
r2798 | zeromus | 2009-08-30 07:48:29 +0800 (日, 30  8月 2009) | 2 lines

fix memory leak and otherwise stabilize code in emufile

------------------------------------------------------------------------
r2797 | nitsuja | 2009-08-28 17:47:45 +0800 (五, 28  8月 2009) | 2 lines

I'm pretty sure that won't quite work (further mic fixup) (for code that shouldn't even need to be here)

------------------------------------------------------------------------
r2796 | riccardom | 2009-08-28 17:31:50 +0800 (五, 28  8月 2009) | 2 lines

Fixup compilation breakage for fake and alsa microphone.

------------------------------------------------------------------------
r2795 | riccardom | 2009-08-28 17:14:54 +0800 (五, 28  8月 2009) | 2 lines

Thou shalt include all the needed string headers.

------------------------------------------------------------------------
r2794 | nitsuja | 2009-08-28 17:06:48 +0800 (五, 28  8月 2009) | 2 lines

implemented/enabled Lua functions: savestate.create/save/load, stylus.set, gui.box/line/text/pixel/getpixel/opacity/transparency/gdscreenshot/gdoverlay

------------------------------------------------------------------------
r2793 | zeromus | 2009-08-27 03:01:21 +0800 (四, 27  8月 2009) | 2 lines

finish porting iostream stuff to EMUFILE*. movies and sram-start movies work once again

------------------------------------------------------------------------
r2792 | zeromus | 2009-08-26 16:54:48 +0800 (三, 26  8月 2009) | 2 lines

transform a bunch of iostream stuff into EMUFILE. main savestate and savedata codepaths work, movies may still be borked. ill fix it soon.

------------------------------------------------------------------------
r2791 | p989 | 2009-08-26 13:15:15 +0800 (三, 26  8月 2009) | 2 lines

convert movie system to FILE*

------------------------------------------------------------------------
r2790 | luigi__ | 2009-08-25 21:20:22 +0800 (二, 25  8月 2009) | 5 lines

Wifi: implement/change various stuff.
More correct handling of all the various TX status regs/bits = no
more weird hangs/communication errors when hosting a multiplayer
game then going back.

------------------------------------------------------------------------
r2789 | nitsuja | 2009-08-24 12:48:46 +0800 (一, 24  8月 2009) | 2 lines

missed replacement fix

------------------------------------------------------------------------
r2788 | nitsuja | 2009-08-24 12:44:25 +0800 (一, 24  8月 2009) | 9 lines

enabled/implemented functions for Lua: emu.frameadvance, emu.speedmode, emu.wait, emu.redraw, emu.pause, emu.unpause, emu.emulateframe* (needs driver class support, so currently only works for win32) (had to split up the win32 main loop for this)
fixed gui.register calling time, I hope
made single-core OSD more useful (when paused)
made FPS display show "(paused)" (when paused)
added --multi-core option for testing purposes
enabled Lua API checks in debug (only x86 for now), and switched to a better integer conversion method
possibly improved frame advance initial pause responsiveness
a few other minor bugfixes

------------------------------------------------------------------------
r2787 | luigi__ | 2009-08-24 06:01:54 +0800 (一, 24  8月 2009) | 4 lines

Wifi: more work on packet reception.
NSMB two-card multiplayer now half-works. Luigi sees Mario,
but Mario doesn't see Luigi :(

------------------------------------------------------------------------
r2786 | luigi__ | 2009-08-24 03:45:01 +0800 (一, 24  8月 2009) | 4 lines

Wifi: add support for periodic beacon transmission.
The socket stuff works fine; I could see all the beacons
by using an ethernet sniffer, as expected :)

------------------------------------------------------------------------
r2785 | luigi__ | 2009-08-24 02:13:16 +0800 (一, 24  8月 2009) | 3 lines

Wifi: add some socket code for sending and receiving (incomplete).
Cache some regs that will be useful for beacon transmission.

------------------------------------------------------------------------
r2784 | luigi__ | 2009-08-23 20:55:10 +0800 (日, 23  8月 2009) | 4 lines

Wifi: add socket init/deinit code.
Remove ad-hoc client/server stuff from wifi settings dialog as
they're going to be useless.

------------------------------------------------------------------------
r2783 | luigi__ | 2009-08-23 18:50:52 +0800 (日, 23  8月 2009) | 3 lines

Windows port: re-add WSA init/deinit code.
(yup, sockets will be needed for wifi adhoc interface)

------------------------------------------------------------------------
r2782 | luigi__ | 2009-08-23 06:34:28 +0800 (日, 23  8月 2009) | 7 lines

Windows port: putting some bases in place for new tool system.
Here, clean window class handler, which prevents regging a class
twice and unregging a class which isn't regged.

The stuff I'm adding is not set in a stone. It may be modified or
even removed at any moment.

------------------------------------------------------------------------
r2781 | nitsuja | 2009-08-23 03:03:15 +0800 (日, 23  8月 2009) | 2 lines

mic: oops, well, trying to make the savestate stubs work for cross-platform loads for now

------------------------------------------------------------------------
r2780 | riccardom | 2009-08-22 23:01:24 +0800 (六, 22  8月 2009) | 2 lines

Add missing includes for recent microphone changes and add stubs for !WIN32 to continue compiling. Greeting from FROSCON!

------------------------------------------------------------------------
r2778 | nitsuja | 2009-08-22 17:12:27 +0800 (六, 22  8月 2009) | 2 lines

enabling some more Lua functionality (like input.get().x/y, movie.replay(), emu.emulating())

------------------------------------------------------------------------
r2777 | nitsuja | 2009-08-22 15:39:15 +0800 (六, 22  8月 2009) | 2 lines

Lua: fix for joypad.set not working when called from outside a registerbegin callback

------------------------------------------------------------------------
r2776 | nitsuja | 2009-08-21 17:56:17 +0800 (五, 21  8月 2009) | 14 lines

- revised input code to be more explicit and "sync-safe"
- touchscreen calibration/wraparound fix
- hud edit mode fixes
- nicer input displays
- master brightness blank screen optimization
- implemented left+rt/up+dn checking
- fixed autohold activation
- enabled diagonal keys
- play and record movie dialog and menu improvements
- fixed potential microphone desyncs (savestated, and silenced non-mic-button during movie)
- fixed window squashing when resizing top corner above top of screen
- fixed freeze if frame advance button is pressed before loading a ROM
- implemented joypad Lua functions

------------------------------------------------------------------------
r2775 | mtabachenko | 2009-08-20 16:11:10 +0800 (四, 20  8月 2009) | 3 lines

core:
- fix EXMEMSTAT register;

------------------------------------------------------------------------
r2774 | zeromus | 2009-08-19 03:23:34 +0800 (三, 19  8月 2009) | 2 lines

win32: x64 builds for vs2005 and vs2008

------------------------------------------------------------------------
r2773 | riccardom | 2009-08-18 19:14:35 +0800 (二, 18  8月 2009) | 2 lines

Move some stuff around so that it compiles with gcc.

------------------------------------------------------------------------
r2768 | gocha | 2009-08-18 13:37:20 +0800 (二, 18  8月 2009) | 2 lines

make 'samples' (in SPU.cpp) to be zero at reset (to prevent desyncs)

------------------------------------------------------------------------
r2767 | riccardom | 2009-08-16 16:57:07 +0800 (日, 16  8月 2009) | 2 lines

Make a few functions static.

------------------------------------------------------------------------
r2764 | zeromus | 2009-08-16 10:58:35 +0800 (日, 16  8月 2009) | 2 lines

win32: correctly bind graphical input display checkstate to menu

------------------------------------------------------------------------
r2763 | gocha | 2009-08-16 09:39:37 +0800 (日, 16  8月 2009) | 2 lines

some grammatical fixes on MainWindow->checkMenu use

------------------------------------------------------------------------
r2762 | p989 | 2009-08-13 11:35:47 +0800 (四, 13  8月 2009) | 2 lines

win32: graphical input display

------------------------------------------------------------------------
r2761 | mtabachenko | 2009-08-12 15:57:28 +0800 (三, 12  8月 2009) | 5 lines

gxFIFO:
- fix gxFIFO write context & add projection stack reset;
wifi:
- disable log;

------------------------------------------------------------------------
r2760 | zeromus | 2009-08-12 12:15:09 +0800 (三, 12  8月 2009) | 2 lines

x64 dx libs

------------------------------------------------------------------------
r2759 | zeromus | 2009-08-10 11:42:53 +0800 (一, 10  8月 2009) | 2 lines

fix bilinear filter after change to 32bpp

------------------------------------------------------------------------
r2758 | zeromus | 2009-08-10 11:29:43 +0800 (一, 10  8月 2009) | 2 lines

win32: fix osd compositing pipeline for singlecore

------------------------------------------------------------------------
r2757 | zeromus | 2009-08-10 11:01:49 +0800 (一, 10  8月 2009) | 2 lines

fix new savestate bug, wifi warning, and scanlines 2x filter

------------------------------------------------------------------------
r2756 | p989 | 2009-08-10 10:30:32 +0800 (一, 10  8月 2009) | 2 lines

win32: start converting filters to 32bit

------------------------------------------------------------------------
r2755 | nitsuja | 2009-08-10 06:31:59 +0800 (一, 10  8月 2009) | 7 lines

disp3dcnt fix (fixes missing zx advent sprites, and I don't know what else) (possibly incomplete though),
32-bit poly+vert-count read fix,
disassembler stack corruption fix,
savestate fix with wifi sequencer,
made wifi random not use rand() since that could potentially cause desyncs,
did some probably-minor savestate optimizations

------------------------------------------------------------------------
r2754 | yabause | 2009-08-10 05:07:34 +0800 (一, 10  8月 2009) | 3 lines

Fixed MAX_PATH definition for POSIX systems without any
limit on filename length (where PATH_MAX is not defined).

------------------------------------------------------------------------
r2753 | luigi__ | 2009-08-09 04:58:17 +0800 (日, 09  8月 2009) | 4 lines

Wifi: implement a communication interface structure, change SoftAP to use this
structure, add a (dummy for now) adhoc interface. Also SoftAP is disabled for
now as I'm going to focus on adhoc (multiplayer games, download play, etc...).

------------------------------------------------------------------------
r2752 | luigi__ | 2009-08-08 22:46:49 +0800 (六, 08  8月 2009) | 3 lines

Wifi: add proper resetting & deiniting, remove the useless 'wifimac_t *wifi'
parameter from all functions.

------------------------------------------------------------------------
r2751 | luigi__ | 2009-08-08 21:18:35 +0800 (六, 08  8月 2009) | 4 lines

Wifi: modify wifi settings dialog, add two modes: Ad-hoc and infrastructure.
Disable Infrastructure as it's just SoftAP, it doesn't work yet and I'm
going to focus on Ad-hoc mode for the moment.

------------------------------------------------------------------------
r2750 | riccardom | 2009-08-08 18:50:38 +0800 (六, 08  8月 2009) | 2 lines

Remove unused variables, ifdef what looks debug code.

------------------------------------------------------------------------
r2749 | riccardom | 2009-08-08 18:49:08 +0800 (六, 08  8月 2009) | 2 lines

Remove a few unused variables.

------------------------------------------------------------------------
r2748 | mtabachenko | 2009-08-07 06:54:32 +0800 (五, 07  8月 2009) | 4 lines

core:
- fix matrix stack (this is a hack, need rework. Tony Hawk's American Sk8land work now);
- i some fixed boxtest, its need for Garfield & Nanostrays (BIG speedup) need to rework.

------------------------------------------------------------------------
r2747 | luigi__ | 2009-08-07 06:20:18 +0800 (五, 07  8月 2009) | 4 lines

CPU (THUMB): LSR instruction now deals correctly with carryflag.
For instance this fixes bugs with CpuSet SWI when "Emulate SWIs by BIOS"
is enabled.

------------------------------------------------------------------------
r2746 | mtabachenko | 2009-08-06 04:30:52 +0800 (四, 06  8月 2009) | 3 lines

new gxFIFO:
- fix bug in FIFO buffer;

------------------------------------------------------------------------
r2745 | zeromus | 2009-08-05 06:33:29 +0800 (三, 05  8月 2009) | 2 lines

win32: fix typo in sound config dialog

------------------------------------------------------------------------
r2744 | riccardom | 2009-08-05 05:00:23 +0800 (三, 05  8月 2009) | 2 lines

Remove usage of uint which is not available on MSC, thanks CrazyMax for noticing.

------------------------------------------------------------------------
r2743 | riccardom | 2009-08-05 04:49:19 +0800 (三, 05  8月 2009) | 5 lines

On gcc the packed attribute is supposed to not work when you use
a typedef in the struct definition. Then packing the whole struct
and each member is redundant. So cleanup __PACKED usage and
hopefully both shut up gcc warnings and keeps things working :).

------------------------------------------------------------------------
r2742 | riccardom | 2009-08-05 04:32:13 +0800 (三, 05  8月 2009) | 2 lines

Move rewindsave and dorewind declaration to a proper header instead of using extern.

------------------------------------------------------------------------
r2741 | riccardom | 2009-08-05 04:24:56 +0800 (三, 05  8月 2009) | 2 lines

Fix gcc warning about enum not handled in switch.

------------------------------------------------------------------------
r2740 | riccardom | 2009-08-05 04:20:39 +0800 (三, 05  8月 2009) | 2 lines

Reorder variable initialization to shut up gcc warnings.

------------------------------------------------------------------------
r2739 | riccardom | 2009-08-05 03:47:03 +0800 (三, 05  8月 2009) | 2 lines

Fix a few signed vs unsigned comparison warnings.

------------------------------------------------------------------------
r2738 | riccardom | 2009-08-05 02:46:39 +0800 (三, 05  8月 2009) | 2 lines

Put that big pile of double commented code inside an if 0.

------------------------------------------------------------------------
r2737 | riccardom | 2009-08-05 02:41:09 +0800 (三, 05  8月 2009) | 2 lines

Kill the extern since this would be the default.

------------------------------------------------------------------------
r2736 | riccardom | 2009-08-05 02:35:50 +0800 (三, 05  8月 2009) | 2 lines

Make a function static, add a missing prototype for another one and remove an unused variable.

------------------------------------------------------------------------
r2735 | riccardom | 2009-08-05 02:28:03 +0800 (三, 05  8月 2009) | 2 lines

Make a few functions static and shut up signed vs unsigned gcc warnings.

------------------------------------------------------------------------
r2734 | riccardom | 2009-08-05 02:19:01 +0800 (三, 05  8月 2009) | 2 lines

This should be MSC specific.

------------------------------------------------------------------------
r2733 | riccardom | 2009-08-05 02:10:23 +0800 (三, 05  8月 2009) | 3 lines

Oh there is another windowDraw gcc bitches about the possibility to have
it unitialized.

------------------------------------------------------------------------
r2732 | riccardom | 2009-08-05 01:59:58 +0800 (三, 05  8月 2009) | 2 lines

gcc warns that windowDraw may be used unitialized which in theory is true.

------------------------------------------------------------------------
r2731 | riccardom | 2009-08-05 01:50:02 +0800 (三, 05  8月 2009) | 2 lines

Move variable initialization in constructors to shut up gcc warnings about their ordering.

------------------------------------------------------------------------
r2730 | p989 | 2009-08-05 00:35:38 +0800 (三, 05  8月 2009) | 2 lines

agg.setFont and agg.text

------------------------------------------------------------------------
r2726 | nitsuja | 2009-08-04 18:06:01 +0800 (二, 04  8月 2009) | 2 lines

win32: some dialog flags/extensions fixes, minor menu readability/grammar fixes, and changing some instances of "Gens" to "DeSmuME"

------------------------------------------------------------------------
r2725 | nitsuja | 2009-08-04 15:44:39 +0800 (二, 04  8月 2009) | 8 lines

win32:
- added freeform editing of the screen gap size by dragging the window border (optional)
- added extra gap size option
- fixed bug with window sliding around when resizing from the top/left
- fixed(?) bug with default window size command setting invalid sizes after the rotation/gap settings have changed
- fixed some inconsistency in the restoring of forced aspect ratio when changing modes
- fixed window getting very squashed at large sizes even if force maintain ratio is on

------------------------------------------------------------------------
r2724 | zeromus | 2009-08-04 05:57:00 +0800 (二, 04  8月 2009) | 2 lines

rasterize: fix bug in edge marking that overwrote depth buffer with one line of color data

------------------------------------------------------------------------
r2723 | zeromus | 2009-08-04 05:41:07 +0800 (二, 04  8月 2009) | 2 lines

gpu: fix bug with 16color bg overdrawing line buffer by one pixel when scrolled to an odd offset. move assert x<256 lower in callstack to help spot these bugs more aggressively.

------------------------------------------------------------------------
r2722 | zeromus | 2009-08-03 13:08:37 +0800 (一, 03  8月 2009) | 2 lines

win32: guess for now we have burn cycles copying the GPU_screen so that we keep a pristine copy for screenshots. also screenshots for savestates. the final display handling pipeline still isnt finished yet so this could change again

------------------------------------------------------------------------
r2721 | zeromus | 2009-08-03 10:15:35 +0800 (一, 03  8月 2009) | 2 lines

fix linux compile, and some warnings

------------------------------------------------------------------------
r2720 | nitsuja | 2009-08-03 09:57:25 +0800 (一, 03  8月 2009) | 3 lines

rasterizer: fix for everything blended being slightly transparent
opengl: fix for everything blended being doubly opaque

------------------------------------------------------------------------
r2719 | luigi__ | 2009-08-03 07:06:39 +0800 (一, 03  8月 2009) | 2 lines

Oops... fix IORegView.

------------------------------------------------------------------------
r2718 | luigi__ | 2009-08-03 07:04:26 +0800 (一, 03  8月 2009) | 4 lines

General: merge ARM9_struct contents into MMU_struct and remove ARM9.h.
(why was ARM9 mem separated from the rest? plus MAIN_MEM doesn't really
belong to the ARM9)

------------------------------------------------------------------------
r2717 | luigi__ | 2009-08-03 06:35:44 +0800 (一, 03  8月 2009) | 4 lines

General: the DS card stuff can perfectly fit in MMU.h (though it'd fit
better in NDSSystem.h, but it would require more work). There's no need
for tiny extra files.

------------------------------------------------------------------------
r2716 | nitsuja | 2009-08-03 06:20:44 +0800 (一, 03  8月 2009) | 2 lines

win32: fix for crash when changing the rotation or filter mode

------------------------------------------------------------------------
r2715 | luigi__ | 2009-08-03 05:14:27 +0800 (一, 03  8月 2009) | 6 lines

General: the definitions of ARMCPU_ARM9, ARMCPU_ARM7 and ARMPROC seem
to fit the best in MMU.cpp ... so let's get rid of that hack.

Feel free to revert if it breaks compilation under Linux or whatever.
Worked fine under Win32.

------------------------------------------------------------------------
r2714 | luigi__ | 2009-08-03 04:55:38 +0800 (一, 03  8月 2009) | 4 lines

Core: prepare gamecard system for future KEY1 and KEY2 encrypted command support.
Also rename MMU_clearMem to MMU_Reset because it's called upon reset and it
doesn't only clear memory.

------------------------------------------------------------------------
r2712 | adelikat | 2009-08-03 04:32:53 +0800 (一, 03  8月 2009) | 2 lines

Win32 - drag n drop for savestates and movie files.

------------------------------------------------------------------------
r2711 | adelikat | 2009-08-03 03:53:20 +0800 (一, 03  8月 2009) | 2 lines

Win32 - Adding an "all files" open in the Loadstate as Open file dialog box.  Adding on the trunk and on 9.2+

------------------------------------------------------------------------
r2710 | mtabachenko | 2009-08-03 02:01:10 +0800 (一, 03  8月 2009) | 2 lines

undef wifi in non public release (luigi__, sorry if i broke you stuff, but WiFi slowdown emu. may define it only after optimising wifi)

------------------------------------------------------------------------
r2709 | mtabachenko | 2009-08-03 01:35:14 +0800 (一, 03  8月 2009) | 2 lines

revert last commit. (DON'T touch it if you don't understand how it work. you reverted function which used ONLY in new gxFIFO)

------------------------------------------------------------------------
r2708 | riccardom | 2009-08-03 00:39:47 +0800 (一, 03  8月 2009) | 3 lines

Revert r2697 and r2698 because they slowdown things a lot for me and at least
another user.

------------------------------------------------------------------------
r2707 | luigi__ | 2009-08-02 19:21:50 +0800 (日, 02  8月 2009) | 3 lines

CPU (THUMB): fix for opcode 'BX PC' which does switch to ARM state.
This fix allows the BIOS to boot a bit further (still doesn't boot).

------------------------------------------------------------------------
r2706 | zeromus | 2009-08-02 16:18:13 +0800 (日, 02  8月 2009) | 2 lines

rasterize: another fix for shadows. fixes most, if not all, of the recently broken shadows.

------------------------------------------------------------------------
r2705 | zeromus | 2009-08-02 06:09:19 +0800 (日, 02  8月 2009) | 2 lines

fix some regressions in display capture (fixes games with vertical streaks corruption)

------------------------------------------------------------------------
r2704 | luigi__ | 2009-08-02 04:42:32 +0800 (日, 02  8月 2009) | 7 lines

NDS: calculate ADC touch coords from firmware calibration info.
Now when using an external firmware, you don't have to re-calibrate
the screen anymore to get correct touchscreen input.
Though, touchscreen input is still broken in commercial games
when using an external firmware. Info on that problem: touchscreen
calibration data in main mem are zeroed out for some weird reason.

------------------------------------------------------------------------
r2703 | luigi__ | 2009-08-01 19:45:13 +0800 (六, 01  8月 2009) | 5 lines

Win32: make disassembler available in non-dev+ builds.
NDS: remove the Win32-specific include. The "autoupd asm"
thing is just crap anyway, and we should avoid platform-
specific code in the core.

------------------------------------------------------------------------
r2702 | mtabachenko | 2009-08-01 14:54:15 +0800 (六, 01  8月 2009) | 2 lines

revert some stuff from rev.2697

------------------------------------------------------------------------
r2701 | zeromus | 2009-08-01 14:44:33 +0800 (六, 01  8月 2009) | 2 lines

rasterize: fix shadows more. it seems that we need more than one stencil bit.

------------------------------------------------------------------------
r2700 | zeromus | 2009-08-01 08:47:21 +0800 (六, 01  8月 2009) | 2 lines

change 3d rendering to use 18 bits of color instead of 15. fix mario kart star powerup rainbow effect regression. merge all 3d pixel blitters into one function. fix bugs in new fifo savestates. i probably just broke some stuff but its worth it.

------------------------------------------------------------------------
r2699 | zeromus | 2009-08-01 05:46:21 +0800 (六, 01  8月 2009) | 2 lines

fix an error in wifi savestates; add sanity checking for chunk identifier to savestate code to keep this mistake from happening again

------------------------------------------------------------------------
r2698 | mtabachenko | 2009-08-01 01:04:02 +0800 (六, 01  8月 2009) | 3 lines

new gxFIFO:
- fix pipe clear;

------------------------------------------------------------------------
r2697 | mtabachenko | 2009-07-31 21:09:23 +0800 (五, 31  7月 2009) | 3 lines

new gxFIFO:
- more optimizations FIFO;

------------------------------------------------------------------------
r2696 | mtabachenko | 2009-07-31 18:26:19 +0800 (五, 31  7月 2009) | 3 lines

new gxFIFO:
- add small hack (smb64 work now)

------------------------------------------------------------------------
r2695 | nitsuja | 2009-07-31 17:58:35 +0800 (五, 31  7月 2009) | 2 lines

fix for too-thick rendering of edgemarked single pixels or sharp protrusions

------------------------------------------------------------------------
r2692 | gocha | 2009-07-31 14:33:24 +0800 (五, 31  7月 2009) | 2 lines

Fixed turbo behavior on movie playback (when a movie held a button and the turbo for the button was enabled, the button became released)

------------------------------------------------------------------------
r2691 | mtabachenko | 2009-07-31 00:32:49 +0800 (五, 31  7月 2009) | 2 lines

- typo fix (unpacked no$gba saves);

------------------------------------------------------------------------
r2690 | mtabachenko | 2009-07-30 23:13:11 +0800 (四, 30  7月 2009) | 2 lines

-some fixes in no$gba saves unpacker;

------------------------------------------------------------------------
r2689 | mtabachenko | 2009-07-30 22:47:54 +0800 (四, 30  7月 2009) | 2 lines

- add loading saves from No$GBA ;)

------------------------------------------------------------------------
r2688 | mtabachenko | 2009-07-30 06:59:46 +0800 (四, 30  7月 2009) | 3 lines

core:
- optimize IPC FIFO;

------------------------------------------------------------------------
r2687 | mtabachenko | 2009-07-30 06:10:55 +0800 (四, 30  7月 2009) | 3 lines

new gxFIFO:
- optimization of FIFO functions (speedup);

------------------------------------------------------------------------
r2686 | nitsuja | 2009-07-29 21:14:05 +0800 (三, 29  7月 2009) | 2 lines

attempt at fixing the edge marking implementation (softrasterizer)

------------------------------------------------------------------------
r2685 | nitsuja | 2009-07-29 12:51:38 +0800 (三, 29  7月 2009) | 2 lines

fix for emu window not showing up after it gets saved at position (-32000,-32000)

------------------------------------------------------------------------
r2684 | riccardom | 2009-07-29 04:43:56 +0800 (三, 29  7月 2009) | 2 lines

Note we have osd and hud on linux frontends too.

------------------------------------------------------------------------
r2683 | riccardom | 2009-07-29 04:36:53 +0800 (三, 29  7月 2009) | 2 lines

Make glib mandatory for all frontends.

------------------------------------------------------------------------
r2682 | zeromus | 2009-07-28 16:14:11 +0800 (二, 28  7月 2009) | 2 lines

gfx3d: fix bugs in poly sorting

------------------------------------------------------------------------
r2681 | zeromus | 2009-07-28 13:29:28 +0800 (二, 28  7月 2009) | 2 lines

win32: more threading fixes, and fix a bug in stylus coordinate osd

------------------------------------------------------------------------
r2680 | zeromus | 2009-07-28 13:12:23 +0800 (二, 28  7月 2009) | 2 lines

win32: safer threading logic in shutdown sequence

------------------------------------------------------------------------
r2679 | zeromus | 2009-07-28 12:47:06 +0800 (二, 28  7月 2009) | 2 lines

win32: change osd compositing to 32bpp and decouple from emulation update; add nearest2x resizing filter; add framerate-independent drawing equipment to osd (test in savestate slot display); make lua drawing thread-safe once again; get rid of some warnings

------------------------------------------------------------------------
r2678 | zeromus | 2009-07-28 04:15:07 +0800 (二, 28  7月 2009) | 2 lines

gpu: fix a bug in affine start register regeneration which may have made some games (pokemon dash?) fail to make it back from a savestate with scroll variables intact

------------------------------------------------------------------------
r2677 | zeromus | 2009-07-28 03:57:36 +0800 (二, 28  7月 2009) | 2 lines

win32: change mapview tool scroll display to indicate that it is useless, because it is

------------------------------------------------------------------------
r2676 | luigi__ | 2009-07-28 02:35:48 +0800 (二, 28  7月 2009) | 3 lines

Win32: fix a bug which would cause recent roms menu to accept only
9 recent roms instead of 10.

------------------------------------------------------------------------
r2675 | zeromus | 2009-07-28 02:01:42 +0800 (二, 28  7月 2009) | 2 lines

fixi wifi compiling in linux

------------------------------------------------------------------------
r2674 | nitsuja | 2009-07-28 00:25:00 +0800 (二, 28  7月 2009) | 2 lines

savestate date memory overwrite fix

------------------------------------------------------------------------
r2673 | mtabachenko | 2009-07-27 23:15:00 +0800 (一, 27  7月 2009) | 3 lines

gxFIFO:
- fix crash some games (Rayman DS now works);

------------------------------------------------------------------------
r2672 | zeromus | 2009-07-27 19:28:02 +0800 (一, 27  7月 2009) | 2 lines

dmacompleted needs savestating

------------------------------------------------------------------------
r2671 | zeromus | 2009-07-27 19:16:09 +0800 (一, 27  7月 2009) | 2 lines

oops my bad. newgxfifo changes back in

------------------------------------------------------------------------
r2670 | zeromus | 2009-07-27 19:08:37 +0800 (一, 27  7月 2009) | 2 lines

revert gxfifo related changes so at least we have a revision that works. feel free to paste over when its working again

------------------------------------------------------------------------
r2669 | mtabachenko | 2009-07-27 19:02:19 +0800 (一, 27  7月 2009) | 2 lines

opps, sorry :( i forget commit mmu.cpp in rev.2667

------------------------------------------------------------------------
r2668 | zeromus | 2009-07-27 18:39:56 +0800 (一, 27  7月 2009) | 2 lines

integrate desync fixes from 094 branch. many extra files touched due to svn merge info tracking being poopy

------------------------------------------------------------------------
r2667 | mtabachenko | 2009-07-27 18:28:59 +0800 (一, 27  7月 2009) | 3 lines

new gxFIFO:
- fix gxFIFO buffer overflow with DMA (Zelda, Submarine tech demo etc.); (but this fix hackly and need rewrite all dma stuff)

------------------------------------------------------------------------
r2664 | zeromus | 2009-07-27 05:41:10 +0800 (一, 27  7月 2009) | 2 lines

rasterize: little tweaks to fog

------------------------------------------------------------------------
r2663 | zeromus | 2009-07-27 05:13:38 +0800 (一, 27  7月 2009) | 2 lines

rasterize: add fog emulation

------------------------------------------------------------------------
r2662 | luigi__ | 2009-07-27 02:18:47 +0800 (一, 27  7月 2009) | 3 lines

NDS: oops... comment out some logging I added to figure out why the firmware couldn't
boot games.

------------------------------------------------------------------------
r2661 | luigi__ | 2009-07-27 02:06:47 +0800 (一, 27  7月 2009) | 5 lines

MMU: reorganize gamecard emulation so it's easier to implement commands.
NDS: when booting from firmware, copy secure area to main memory (this
is done by the BIOS, not the firmware). This allows the firmware to boot
games! :)

------------------------------------------------------------------------
r2660 | riccardom | 2009-07-26 16:26:41 +0800 (日, 26  7月 2009) | 2 lines

Add osd notification for fake microphone and audio toggle, cleanup a bit the hud code.

------------------------------------------------------------------------
r2659 | riccardom | 2009-07-26 16:19:21 +0800 (日, 26  7月 2009) | 2 lines

Cleanup the recent hud addition: remove unneeded function calls and includes and put hud initialization code in the same place.

------------------------------------------------------------------------
r2658 | zeromus | 2009-07-26 03:59:40 +0800 (日, 26  7月 2009) | 2 lines

oglrender: support wireframe

------------------------------------------------------------------------
r2657 | riccardom | 2009-07-25 16:18:16 +0800 (六, 25  7月 2009) | 3 lines

Hook the hud in the cli frontend, based on a patch from szigor at #2825066.
Auto pause, fake mic and boost now have osd notification.

------------------------------------------------------------------------
r2656 | riccardom | 2009-07-25 15:54:42 +0800 (六, 25  7月 2009) | 2 lines

Remove stale prototype for ResetHud() which is gone.

------------------------------------------------------------------------
r2655 | zeromus | 2009-07-25 14:40:47 +0800 (六, 25  7月 2009) | 2 lines

gpu: fix disp fifo capture and vram capture/display from same bank. i am beginning to rewrite the dispfifo logic so there may be some easy regressions to fix. fixes splinter cell.

------------------------------------------------------------------------
r2654 | zeromus | 2009-07-25 11:40:27 +0800 (六, 25  7月 2009) | 2 lines

fix color overflow in capture blending; fixes freedom wings

------------------------------------------------------------------------
r2652 | luigi__ | 2009-07-25 02:18:39 +0800 (六, 25  7月 2009) | 2 lines

Add missing files to VS2010 project.

------------------------------------------------------------------------
r2651 | zeromus | 2009-07-24 16:40:26 +0800 (五, 24  7月 2009) | 2 lines

win32: fix little menu bugs

------------------------------------------------------------------------
r2650 | zeromus | 2009-07-24 15:31:56 +0800 (五, 24  7月 2009) | 2 lines

rasterize: add rear depth scroll register emulation; fixes narnia 1

------------------------------------------------------------------------
r2649 | zeromus | 2009-07-24 04:49:33 +0800 (五, 24  7月 2009) | 2 lines

fix a bunch of warnings

------------------------------------------------------------------------
r2648 | riccardom | 2009-07-24 03:04:58 +0800 (五, 24  7月 2009) | 4 lines

Update cli frontend makefile to add libagg cflags and to use AM_CPPFLAGS as
used by the gtk frontend instead of AM_CFLAGS. Issues pointend out by szigor
in patch #2825066.

------------------------------------------------------------------------
r2647 | zeromus | 2009-07-24 02:34:45 +0800 (五, 24  7月 2009) | 2 lines

hud editor works on savestate slot display

------------------------------------------------------------------------
r2646 | zeromus | 2009-07-24 01:24:45 +0800 (五, 24  7月 2009) | 2 lines

allow hud editor to move elements to the bottom screen

------------------------------------------------------------------------
r2643 | p989 | 2009-07-22 10:01:31 +0800 (三, 22  7月 2009) | 2 lines

win32: make frame advance more normal

------------------------------------------------------------------------
r2642 | zeromus | 2009-07-22 09:28:23 +0800 (三, 22  7月 2009) | 2 lines

win32: fix some frame advance bugs. also maybe fix hotkey mushiness

------------------------------------------------------------------------
r2641 | zeromus | 2009-07-22 08:25:25 +0800 (三, 22  7月 2009) | 2 lines

win32: cleanups for hotkey autorepeat

------------------------------------------------------------------------
r2640 | zeromus | 2009-07-22 07:38:19 +0800 (三, 22  7月 2009) | 2 lines

increase visual studio warning level and deal with the consequences.

------------------------------------------------------------------------
r2639 | zeromus | 2009-07-22 07:18:22 +0800 (三, 22  7月 2009) | 2 lines

fix savestate saving

------------------------------------------------------------------------
r2638 | zeromus | 2009-07-22 06:59:51 +0800 (三, 22  7月 2009) | 2 lines

win32: get rid of some new glibc linker warnings.

------------------------------------------------------------------------
r2637 | zeromus | 2009-07-21 16:09:52 +0800 (二, 21  7月 2009) | 2 lines

speed up state rewinding

------------------------------------------------------------------------
r2636 | p989 | 2009-07-21 15:09:14 +0800 (二, 21  7月 2009) | 2 lines

win32: savestate rewinding

------------------------------------------------------------------------
r2635 | zeromus | 2009-07-21 10:32:55 +0800 (二, 21  7月 2009) | 2 lines

win32: tone down the default intensity of the scanline filter a bit, and add commandline args to control the intensity, in the vain hopes that someone will give me feedback on what their favourite values are

------------------------------------------------------------------------
r2634 | zeromus | 2009-07-21 09:55:16 +0800 (二, 21  7月 2009) | 2 lines

win32: what's this..? is it..? could it be..? indeed, it is! a multicore optimization! now featuring all final display logic triple-buffered in another thread. offloads to another thread: rotation, color conversion, filter scaling, and directdraw buffer copy. this makes filter scaling effectively costless.

------------------------------------------------------------------------
r2633 | zeromus | 2009-07-21 08:08:52 +0800 (二, 21  7月 2009) | 2 lines

win32: enable gthreads

------------------------------------------------------------------------
r2632 | zeromus | 2009-07-21 07:33:39 +0800 (二, 21  7月 2009) | 2 lines

reconfigure sse optimizations. all asm routines have been rewritten with intrinsics so that they are more neatly inlineable; this speeds them up by a couple of FPS; also, they work in gcc; and they can be enabled separately with ENABLE_SSE and ENABLE_SSE2; 95% of the optimizations come from the SSE optimizations, meaning that SSE2 will not be necessary to enjoy the bulk of the optimizations. I think.

------------------------------------------------------------------------
r2631 | zeromus | 2009-07-21 06:55:51 +0800 (二, 21  7月 2009) | 2 lines

change loadrom() to use FILE* instead of std::ifstream. sidesteps mbcs path issues

------------------------------------------------------------------------
r2630 | p989 | 2009-07-21 00:03:00 +0800 (二, 21  7月 2009) | 2 lines

win32: cursor doesn't get stuck when dragged outside window

------------------------------------------------------------------------
r2629 | gocha | 2009-07-20 12:37:07 +0800 (一, 20  7月 2009) | 2 lines

Fixed movie length info (60.00fps -> 59.82fps)

------------------------------------------------------------------------
r2628 | zeromus | 2009-07-20 09:41:22 +0800 (一, 20  7月 2009) | 2 lines

fix some rom loading things

------------------------------------------------------------------------
r2627 | zeromus | 2009-07-20 09:06:06 +0800 (一, 20  7月 2009) | 2 lines

fix linux compile bug

------------------------------------------------------------------------
r2626 | luigi__ | 2009-07-20 07:13:09 +0800 (一, 20  7月 2009) | 10 lines

zeromus,
(l706) I am okay with these optimizations, even if they don't help much.
But you really, really should avoid giving your macros/variables such...
terrible names. This really looks terrible and unclear.

After waiting a while for you or somebody else to rename those vars/macros,
I finally decided to do it myself because they were bugging me. It's okay
for this time, but the next time I see such terrible names in a commit, I'll
just revert it.

------------------------------------------------------------------------
r2625 | p989 | 2009-07-20 05:42:15 +0800 (一, 20  7月 2009) | 2 lines

win32: load archives without temp files

------------------------------------------------------------------------
r2624 | gocha | 2009-07-19 21:07:03 +0800 (日, 19  7月 2009) | 2 lines

Quick fix that should disable autohold while movie playback

------------------------------------------------------------------------
r2623 | zeromus | 2009-07-19 17:41:05 +0800 (日, 19  7月 2009) | 2 lines

gpu: fix rotozoomed 2d mapped direct color bmp sprites. fixes knights in the nightmare credits intro

------------------------------------------------------------------------
r2622 | zeromus | 2009-07-19 16:23:14 +0800 (日, 19  7月 2009) | 2 lines

gfx3d: i've realized that the poly sorting must happen after clipping. there is no way to do this now, so to approximate really well, it, we will perspective divide the y values. fixes island of happiness shop menus.

------------------------------------------------------------------------
r2621 | zeromus | 2009-07-19 15:07:58 +0800 (日, 19  7月 2009) | 2 lines

old gxfifo: fix bug which broke galactik football

------------------------------------------------------------------------
r2620 | zeromus | 2009-07-19 10:05:07 +0800 (日, 19  7月 2009) | 2 lines

revert my earlier changes to 0x8000 handling in display capture. i changed my mind, it is working the way it needs to. hotel dusk is broken for other reasons

------------------------------------------------------------------------
r2619 | shashclp | 2009-07-19 09:23:43 +0800 (日, 19  7月 2009) | 2 lines

- Fixed emulator crash on sample loading failure

------------------------------------------------------------------------
r2618 | zeromus | 2009-07-19 04:24:20 +0800 (日, 19  7月 2009) | 2 lines

gpu: rework capture opaque flag handling a bit. this is a risky change and may break some other capture and layer blending scenarios, but the old way of doing it (writing 0x8000 to vram for opaque black pixels from capture blending) is simply wrong and unworkable. fixes hotel dusk.

------------------------------------------------------------------------
r2617 | zeromus | 2009-07-19 02:52:11 +0800 (日, 19  7月 2009) | 2 lines

rasterize: fix bug in sse texture sampling optimization, fixes ridge racer sky

------------------------------------------------------------------------
r2616 | zeromus | 2009-07-19 02:32:10 +0800 (日, 19  7月 2009) | 2 lines

gpu: fix layer blending regression, fixes yoshi touch and go

------------------------------------------------------------------------
r2615 | zeromus | 2009-07-19 02:19:17 +0800 (日, 19  7月 2009) | 2 lines

rasterize: fixes to shadows

------------------------------------------------------------------------
r2614 | riccardom | 2009-07-19 00:50:24 +0800 (日, 19  7月 2009) | 2 lines

Remove dumplicate double dummy backend from SNDCoreList.

------------------------------------------------------------------------
r2613 | riccardom | 2009-07-18 21:26:04 +0800 (六, 18  7月 2009) | 2 lines

Shut up gcc's deprecated conversion from string constant to ‘gchar*’ warning.

------------------------------------------------------------------------
r2612 | riccardom | 2009-07-18 21:14:23 +0800 (六, 18  7月 2009) | 2 lines

Remove -Wshadow from --enable-hardcore because it triggers so much inside libagg code.

------------------------------------------------------------------------
r2611 | riccardom | 2009-07-18 21:02:53 +0800 (六, 18  7月 2009) | 2 lines

Declare nds_savestate and nds_loadstate in a proper place.

------------------------------------------------------------------------
r2610 | riccardom | 2009-07-18 20:52:44 +0800 (六, 18  7月 2009) | 2 lines

Make some functions static and remove a couple of unused variables.

------------------------------------------------------------------------
r2609 | riccardom | 2009-07-18 20:13:45 +0800 (六, 18  7月 2009) | 2 lines

Add missing enum value in switch.

------------------------------------------------------------------------
r2608 | riccardom | 2009-07-18 20:11:36 +0800 (六, 18  7月 2009) | 2 lines

Make a few functions static.

------------------------------------------------------------------------
r2607 | riccardom | 2009-07-18 20:04:36 +0800 (六, 18  7月 2009) | 2 lines

Add missing header for memset.

------------------------------------------------------------------------
r2606 | zeromus | 2009-07-18 17:15:41 +0800 (六, 18  7月 2009) | 2 lines

grab bag of optimizations: many optimizations to sse functions, now using intrinsic functions. this would enable these functions to work on gcc (i think) if our configuration supported it, but it will fail for some vc++ express installations. those guys will have to either #define SSE2_NOINTRIN or help me figure out which installations are broken and why and how to fix it. also, collapse BG layer pixel blenders into a single function, so watch for regressions there.

------------------------------------------------------------------------
r2605 | riccardom | 2009-07-18 16:57:51 +0800 (六, 18  7月 2009) | 2 lines

Make clear that at least for now antigrain library is mandatory.

------------------------------------------------------------------------
r2604 | zeromus | 2009-07-18 05:04:42 +0800 (六, 18  7月 2009) | 2 lines

win32: screenshot: fix failure to save pngs and failure to respect user specified path

------------------------------------------------------------------------
r2603 | p989 | 2009-07-18 04:33:41 +0800 (六, 18  7月 2009) | 2 lines

display stylus coordinates

------------------------------------------------------------------------
r2602 | zeromus | 2009-07-18 04:23:17 +0800 (六, 18  7月 2009) | 2 lines

dont crash when exiting program

------------------------------------------------------------------------
r2601 | zeromus | 2009-07-18 01:32:39 +0800 (六, 18  7月 2009) | 2 lines

fix path building for archived roms

------------------------------------------------------------------------
r2600 | mtabachenko | 2009-07-17 17:06:23 +0800 (五, 17  7月 2009) | 5 lines

new gxFIFO:
- rewrite GE functions;
winport:
- fix GBAslot dialog;

------------------------------------------------------------------------
r2599 | zeromus | 2009-07-17 16:33:35 +0800 (五, 17  7月 2009) | 2 lines

a grab bag of optimizations good for about 4fps on my system

------------------------------------------------------------------------
r2598 | zeromus | 2009-07-17 13:16:07 +0800 (五, 17  7月 2009) | 2 lines

newemuloop: change main loop to 32bit math for a little speedup and fix a goofup that was costing a small amount of speed

------------------------------------------------------------------------
r2597 | zeromus | 2009-07-17 12:51:04 +0800 (五, 17  7月 2009) | 2 lines

newemuloop: fix bug in instruction disassembly logging

------------------------------------------------------------------------
r2596 | zeromus | 2009-07-17 12:22:59 +0800 (五, 17  7月 2009) | 2 lines

newemuloop: bump diagnostic counter up to 22

------------------------------------------------------------------------
r2595 | zeromus | 2009-07-17 12:17:44 +0800 (五, 17  7月 2009) | 2 lines

man, i am getting sloppy

------------------------------------------------------------------------
r2594 | zeromus | 2009-07-17 12:17:07 +0800 (五, 17  7月 2009) | 2 lines

win32: fix a bug in the last checkin

------------------------------------------------------------------------
r2593 | zeromus | 2009-07-17 12:09:07 +0800 (五, 17  7月 2009) | 2 lines

fix screenshot path bugs and add some string utility functions

------------------------------------------------------------------------
r2592 | p989 | 2009-07-17 10:37:51 +0800 (五, 17  7月 2009) | 2 lines

rework and integrate path settings

------------------------------------------------------------------------
r2591 | zeromus | 2009-07-17 08:15:48 +0800 (五, 17  7月 2009) | 2 lines

newemuloop: comment that a little better so i dont forget

------------------------------------------------------------------------
r2590 | zeromus | 2009-07-17 08:09:33 +0800 (五, 17  7月 2009) | 2 lines

newemuloop: handle an edge case in timing logic better

------------------------------------------------------------------------
r2589 | zeromus | 2009-07-17 08:04:35 +0800 (五, 17  7月 2009) | 2 lines

gpu: emulate display capture while frame skipping

------------------------------------------------------------------------
r2588 | zeromus | 2009-07-17 07:31:25 +0800 (五, 17  7月 2009) | 2 lines

newemuloop: add diagnostic code for timer calculation

------------------------------------------------------------------------
r2587 | zeromus | 2009-07-17 07:21:21 +0800 (五, 17  7月 2009) | 2 lines

newemuloop: fix bug in cascaded timers. fixes shrek streamed music

------------------------------------------------------------------------
r2586 | mtabachenko | 2009-07-16 19:17:23 +0800 (四, 16  7月 2009) | 2 lines

- cleanup;

------------------------------------------------------------------------
r2585 | zeromus | 2009-07-16 17:31:06 +0800 (四, 16  7月 2009) | 2 lines

gpu: fix 128-wide captures. fixes hotel dusk

------------------------------------------------------------------------
r2584 | mtabachenko | 2009-07-16 16:49:32 +0800 (四, 16  7月 2009) | 5 lines

new gxFIFO:
- fix execute 3D commands;
new emuloop:
- add reset ticks counters;

------------------------------------------------------------------------
r2583 | zeromus | 2009-07-16 16:05:00 +0800 (四, 16  7月 2009) | 2 lines

core: remove last traces of MMU_RenderMapToLCD, the heinous function which should never have been used. prevents crash in megaman star force

------------------------------------------------------------------------
r2582 | zeromus | 2009-07-16 15:39:21 +0800 (四, 16  7月 2009) | 2 lines

newemuloop: fix some timing regressions; win32: improve map view

------------------------------------------------------------------------
r2581 | zeromus | 2009-07-16 13:10:39 +0800 (四, 16  7月 2009) | 2 lines

win32: fix bug where screen scale and size are not correctly handled when relaunching emulator

------------------------------------------------------------------------
r2580 | zeromus | 2009-07-16 12:47:13 +0800 (四, 16  7月 2009) | 2 lines

newemuloop: bump a quirk detector from 16 to 18.

------------------------------------------------------------------------
r2579 | zeromus | 2009-07-16 12:45:04 +0800 (四, 16  7月 2009) | 2 lines

win32: scalers: add a slightly optimized case for non-filtered. probably doesn't add up to much

------------------------------------------------------------------------
r2578 | p989 | 2009-07-16 12:08:18 +0800 (四, 16  7月 2009) | 2 lines

win32: bilinear filter

------------------------------------------------------------------------
r2577 | zeromus | 2009-07-16 12:05:25 +0800 (四, 16  7月 2009) | 2 lines

new gxFIFO: fix tags on savestate struct (crazymax: these must be different for each thing in the group! its poopy, i know.)

------------------------------------------------------------------------
r2576 | mtabachenko | 2009-07-16 06:46:33 +0800 (四, 16  7月 2009) | 4 lines

new gxFIFO:
- fix for work with new emuloop;
- add early implementation of pipeline;

------------------------------------------------------------------------
r2575 | zeromus | 2009-07-16 05:57:23 +0800 (四, 16  7月 2009) | 2 lines

newemuloop: fix read of timers which aren't turned on. fixes staff of kings launching

------------------------------------------------------------------------
r2574 | zeromus | 2009-07-16 04:44:07 +0800 (四, 16  7月 2009) | 2 lines

zzz reduction surgery

------------------------------------------------------------------------
r2573 | zeromus | 2009-07-16 03:42:32 +0800 (四, 16  7月 2009) | 2 lines

totally rewrite main emulation loop! YOUR SAVESTATES ARE INVALIDATED. your timing is all different. but, your timing is more precise, a few hidden old bugs surfaced and were smashed, and some games work that didn't used to. INSTRUCTIONS_PER_BATCH is a thing of the past. crazymax and luigi, I may have broken your parts, but hopefully only a little bit. your new hookups into the emulation loop are more complicated but potentially faster and definitely more precise.

------------------------------------------------------------------------
r2572 | p989 | 2009-07-16 02:41:29 +0800 (四, 16  7月 2009) | 2 lines

win32: save and load filter settings

------------------------------------------------------------------------
r2571 | zeromus | 2009-07-16 01:52:34 +0800 (四, 16  7月 2009) | 2 lines

oops

------------------------------------------------------------------------
r2570 | zeromus | 2009-07-16 01:44:06 +0800 (四, 16  7月 2009) | 2 lines

win32: make scanlines look more like lcd scanlines.

------------------------------------------------------------------------
r2569 | p989 | 2009-07-16 00:50:52 +0800 (四, 16  7月 2009) | 2 lines

win32: upscaling image filters

------------------------------------------------------------------------
r2568 | p989 | 2009-07-15 07:30:51 +0800 (三, 15  7月 2009) | 2 lines

win32: more refactoring

------------------------------------------------------------------------
r2567 | p989 | 2009-07-15 05:15:06 +0800 (三, 15  7月 2009) | 2 lines

win32: some presentation refactoring

------------------------------------------------------------------------
r2566 | riccardom | 2009-07-15 03:02:15 +0800 (三, 15  7月 2009) | 7 lines

Apply workaround patch for compiling against nvidia headers posted as
#2819332 by larryhaja. It reports that the patch fixes compilation for him
and it doesn't break it for me so hopefully there aren't regressions.
Said that i've tried to define GL_GLEXT_PROTOTYPES at configure time but
it breaks compilation and making OGLRender.cpp:133 not optional looks way
more risky.

------------------------------------------------------------------------
r2565 | riccardom | 2009-07-15 02:27:58 +0800 (三, 15  7月 2009) | 2 lines

Add a note for alsa microphone to Changelog.

------------------------------------------------------------------------
r2564 | riccardom | 2009-07-15 02:06:13 +0800 (三, 15  7月 2009) | 2 lines

Fix typo, sorry.

------------------------------------------------------------------------
r2563 | riccardom | 2009-07-15 00:59:07 +0800 (三, 15  7月 2009) | 2 lines

Add chinese translation to gtk-glade frontend done by F.E. Nebula, shouldn't hurt :)

------------------------------------------------------------------------
r2562 | mtabachenko | 2009-07-15 00:13:50 +0800 (三, 15  7月 2009) | 3 lines

- fixes in new gxFIFO (NSB, FFx, Arcanoid and others work now)
- fix 3D flush;

------------------------------------------------------------------------
r2561 | riccardom | 2009-07-14 03:27:25 +0800 (二, 14  7月 2009) | 4 lines

More work on the alsa microphone so that it is near an usable state. Actually it
does a pretty good job recognizing when i clap hands, decent when i blow,
epic fail when speaking. Progress nonetheless! \o/

------------------------------------------------------------------------
r2560 | zeromus | 2009-07-13 15:40:16 +0800 (一, 13  7月 2009) | 2 lines

gpu: fix the ancient comment which deceived me into making that mistake in the first place

------------------------------------------------------------------------
r2559 | zeromus | 2009-07-13 15:38:04 +0800 (一, 13  7月 2009) | 2 lines

gpu: fix 256B granularity sprite addressing for sub gpu (fixes pinball deluxe)

------------------------------------------------------------------------
r2558 | zeromus | 2009-07-13 14:35:33 +0800 (一, 13  7月 2009) | 2 lines

gfx3d: cache rendering params at flush time, instead of using values which happen to be current at scanline=0 when we do 3d rendering. fixes trouble pop bubble

------------------------------------------------------------------------
r2557 | zeromus | 2009-07-13 13:15:25 +0800 (一, 13  7月 2009) | 2 lines

gpu: correctly(?) handle case where backdrop is requested as a top blend layer. fixes ff3 fading text

------------------------------------------------------------------------
r2556 | zeromus | 2009-07-13 12:19:42 +0800 (一, 13  7月 2009) | 2 lines

rasterize: fix an alpha blending case

------------------------------------------------------------------------
r2555 | p989 | 2009-07-13 10:03:21 +0800 (一, 13  7月 2009) | 2 lines

agg lua bindings

------------------------------------------------------------------------
r2554 | riccardom | 2009-07-13 03:47:40 +0800 (一, 13  7月 2009) | 2 lines

Add license header to microphone stuff.

------------------------------------------------------------------------
r2553 | p989 | 2009-07-13 03:41:15 +0800 (一, 13  7月 2009) | 2 lines

transformations

------------------------------------------------------------------------
r2552 | riccardom | 2009-07-13 03:34:54 +0800 (一, 13  7月 2009) | 2 lines

More fixes to alsa microphone, still not enough.

------------------------------------------------------------------------
r2551 | p989 | 2009-07-13 01:32:05 +0800 (一, 13  7月 2009) | 2 lines

general attributes

------------------------------------------------------------------------
r2550 | riccardom | 2009-07-12 22:04:36 +0800 (日, 12  7月 2009) | 2 lines

Remember to free g_filename_to_uri() result.

------------------------------------------------------------------------
r2549 | riccardom | 2009-07-12 18:01:43 +0800 (日, 12  7月 2009) | 2 lines

Some configure scripts fixup for libagg, we can check for HAVE_LIBAGG for checking agg library availability.

------------------------------------------------------------------------
r2548 | riccardom | 2009-07-12 17:33:54 +0800 (日, 12  7月 2009) | 2 lines

Remove agg dir now that there is already a copy inside windows/

------------------------------------------------------------------------
r2547 | zeromus | 2009-07-12 15:47:34 +0800 (日, 12  7月 2009) | 2 lines

win32: fix screen rotation

------------------------------------------------------------------------
r2546 | yabause | 2009-07-12 14:22:41 +0800 (日, 12  7月 2009) | 7 lines

Added support for application/x-nintendo-ds-rom mime type
in gtk desktop file.
Also added some (un)install hooks so that mime type
database is updated when (un)installing the gtk port.
Those two changes let users double-click on a rom to open
it with the gtk port.

------------------------------------------------------------------------
r2545 | gocha | 2009-07-12 14:01:30 +0800 (日, 12  7月 2009) | 2 lines

win32: fix a glitch that the GetOpenFileName dialog for AVI doesn't appear when the last character of avi output path is '\\'.

------------------------------------------------------------------------
r2544 | p989 | 2009-07-12 12:55:58 +0800 (日, 12  7月 2009) | 2 lines

fixed a blending bug

------------------------------------------------------------------------
r2543 | p989 | 2009-07-12 12:36:11 +0800 (日, 12  7月 2009) | 2 lines

win32: fix screenshots, path setting disabled temporarily

------------------------------------------------------------------------
r2542 | zeromus | 2009-07-12 12:13:22 +0800 (日, 12  7月 2009) | 2 lines

fix r,g,b ordering in 555 antigrain renderer

------------------------------------------------------------------------
r2541 | zeromus | 2009-07-12 11:52:02 +0800 (日, 12  7月 2009) | 2 lines

refactor save slot display; first example of hud operating in linux

------------------------------------------------------------------------
r2540 | zeromus | 2009-07-12 11:43:28 +0800 (日, 12  7月 2009) | 2 lines

fix linux compiling and add hud to gtk. wont display anything until someone adds menu items for CommonOptions toggles, but it will eventually.

------------------------------------------------------------------------
r2539 | p989 | 2009-07-12 11:38:20 +0800 (日, 12  7月 2009) | 2 lines

savestate slot display

------------------------------------------------------------------------
r2538 | zeromus | 2009-07-12 11:18:16 +0800 (日, 12  7月 2009) | 2 lines

reorganize hud drawing and move it to the core

------------------------------------------------------------------------
r2537 | p989 | 2009-07-12 10:04:22 +0800 (日, 12  7月 2009) | 2 lines

new stylus display

------------------------------------------------------------------------
r2536 | zeromus | 2009-07-12 09:34:27 +0800 (日, 12  7月 2009) | 2 lines

change hud to use antigrain, fix antigrain compiling in linux (for now, libagg is mandatory; give me a preprocessor symbol and i will make it optional) and move antigrain source back into windows directory

------------------------------------------------------------------------
r2535 | yabause | 2009-07-12 06:07:35 +0800 (日, 12  7月 2009) | 3 lines

recent files now use a better mime type (at least,
something that's already used)

------------------------------------------------------------------------
r2534 | riccardom | 2009-07-12 05:41:43 +0800 (日, 12  7月 2009) | 2 lines

oops, missing backslash.

------------------------------------------------------------------------
r2533 | riccardom | 2009-07-12 05:41:08 +0800 (日, 12  7月 2009) | 2 lines

Removing unwanted file that slipped in.

------------------------------------------------------------------------
r2532 | zeromus | 2009-07-12 05:10:14 +0800 (日, 12  7月 2009) | 2 lines

change cocoa to use swrasterize. there are still other bugs...

------------------------------------------------------------------------
r2531 | yabause | 2009-07-12 03:44:29 +0800 (日, 12  7月 2009) | 3 lines

Added some #ifdef protection for recent files feature that
require gtk 2.10 when desmume only require 2.8

------------------------------------------------------------------------
r2530 | riccardom | 2009-07-12 02:46:36 +0800 (日, 12  7月 2009) | 2 lines

Use freetype font backend on !WIN32

------------------------------------------------------------------------
r2529 | riccardom | 2009-07-12 02:45:54 +0800 (日, 12  7月 2009) | 2 lines

More makefile work for libagg, disable libagg dependant stuff until it compiles.

------------------------------------------------------------------------
r2528 | p989 | 2009-07-12 01:51:34 +0800 (日, 12  7月 2009) | 2 lines

basic shapes

------------------------------------------------------------------------
r2527 | riccardom | 2009-07-12 01:48:24 +0800 (日, 12  7月 2009) | 2 lines

Add libagg detection machinery.

------------------------------------------------------------------------
r2526 | riccardom | 2009-07-12 01:43:03 +0800 (日, 12  7月 2009) | 2 lines

Put fake mic toggle under FAKE_MIC ifdef.

------------------------------------------------------------------------
r2525 | p989 | 2009-07-12 01:09:43 +0800 (日, 12  7月 2009) | 2 lines

more drawing funcs

------------------------------------------------------------------------
r2524 | yabause | 2009-07-12 00:08:38 +0800 (日, 12  7月 2009) | 6 lines

Added "recent files" support:
- when loading a rom, the filename is saved in recent files
  with "application/x-nds-binary" mime type
- a new "open recent" submenu let you choose a recent file
  with the "application/x-nds-binary" mime type

------------------------------------------------------------------------
r2523 | riccardom | 2009-07-11 23:24:53 +0800 (六, 11  7月 2009) | 2 lines

Add alsa cflags / libs to makefiles.

------------------------------------------------------------------------
r2522 | riccardom | 2009-07-11 23:15:57 +0800 (六, 11  7月 2009) | 3 lines

Brown paper bug: use plughw:0,0 as device instead of default, this is actually an error i introduced and not on the original.
Then check snd_pcm_readi return since it can fails and actually it is doing so.

------------------------------------------------------------------------
r2521 | riccardom | 2009-07-11 22:37:50 +0800 (六, 11  7月 2009) | 2 lines

Need to initialize stuff in Mic_Init().

------------------------------------------------------------------------
r2520 | riccardom | 2009-07-11 22:21:09 +0800 (六, 11  7月 2009) | 7 lines

Add the alsa microphone implementation done by Heptaeon and posted in the
forum. Dear contributors please don't do that, write to the list, come on
irc, post a patch in sf.net instead.
Anyway this is made the default if you have alsa, tested a bit and haven't
managed to get it working. Since I don't know if it is our bad or common code
issue please test and maybe report back on irc.

------------------------------------------------------------------------
r2519 | zeromus | 2009-07-11 16:22:17 +0800 (六, 11  7月 2009) | 2 lines

antigrain: add raster font rendering

------------------------------------------------------------------------
r2518 | zeromus | 2009-07-11 14:46:46 +0800 (六, 11  7月 2009) | 2 lines

more antigrain refactors

------------------------------------------------------------------------
r2517 | zeromus | 2009-07-11 12:27:03 +0800 (六, 11  7月 2009) | 2 lines

antigrain refactors, need an intermediate checkin

------------------------------------------------------------------------
r2516 | zeromus | 2009-07-11 10:51:16 +0800 (六, 11  7月 2009) | 2 lines

move antigrain to core and build with make

------------------------------------------------------------------------
r2514 | zeromus | 2009-07-11 06:41:37 +0800 (六, 11  7月 2009) | 2 lines

win32 agg: build with vs2005 instead of 2008; for some reason 2008 produces a lib in this case that 2005 can't handle

------------------------------------------------------------------------
r2513 | zeromus | 2009-07-11 06:27:36 +0800 (六, 11  7月 2009) | 2 lines

remove the optional gpc component from antigrain, which is licensed under a retarded homemade non-commercial license

------------------------------------------------------------------------
r2512 | wntrmute | 2009-07-11 06:03:59 +0800 (六, 11  7月 2009) | 2 lines

remove cflash.cpp/.h add guitarGrip.cpp, enable universal binary

------------------------------------------------------------------------
r2511 | zeromus | 2009-07-11 03:29:05 +0800 (六, 11  7月 2009) | 2 lines

spu: last checkin with spu controls was bad. i guess i committed from the wrong directory. this fixes it

------------------------------------------------------------------------
r2510 | zeromus | 2009-07-11 02:46:50 +0800 (六, 11  7月 2009) | 2 lines

spu and win32: add individual channel muting capability

------------------------------------------------------------------------
r2509 | zeromus | 2009-07-11 02:15:45 +0800 (六, 11  7月 2009) | 2 lines

apply patch 2816373 which fixes extension dot parsing for creating save paths from rom paths

------------------------------------------------------------------------
r2508 | mtabachenko | 2009-07-10 18:46:16 +0800 (五, 10  7月 2009) | 3 lines

winport:
- fix config load for Guitar Grip addon;

------------------------------------------------------------------------
r2507 | mtabachenko | 2009-07-10 18:34:49 +0800 (五, 10  7月 2009) | 3 lines

winport:
- added config keys for Guitar Grip;

------------------------------------------------------------------------
r2506 | riccardom | 2009-07-10 02:54:27 +0800 (五, 10  7月 2009) | 2 lines

Add addons/guitarGrip.cpp to compilation.

------------------------------------------------------------------------
r2505 | p989 | 2009-07-09 23:52:22 +0800 (四, 09  7月 2009) | 2 lines

marker renderer

------------------------------------------------------------------------
r2504 | p989 | 2009-07-09 23:11:48 +0800 (四, 09  7月 2009) | 2 lines

line renderer

------------------------------------------------------------------------
r2503 | zeromus | 2009-07-09 16:16:10 +0800 (四, 09  7月 2009) | 2 lines

win32: add demo of agg compositing separate lua and emuscreen layers

------------------------------------------------------------------------
r2502 | zeromus | 2009-07-09 15:36:21 +0800 (四, 09  7月 2009) | 2 lines

win32: fix vcproj again

------------------------------------------------------------------------
r2501 | zeromus | 2009-07-09 13:17:29 +0800 (四, 09  7月 2009) | 2 lines

win32: refactor agg drawing

------------------------------------------------------------------------
r2500 | p989 | 2009-07-09 11:35:26 +0800 (四, 09  7月 2009) | 2 lines

agg_draw_line_pattern

------------------------------------------------------------------------
r2499 | zeromus | 2009-07-09 10:25:39 +0800 (四, 09  7月 2009) | 2 lines

fix vcproj files from antigrain addition

------------------------------------------------------------------------
r2498 | mtabachenko | 2009-07-09 07:26:35 +0800 (四, 09  7月 2009) | 3 lines

addons:
- add Guitar Grip device;

------------------------------------------------------------------------
r2497 | p989 | 2009-07-09 07:01:43 +0800 (四, 09  7月 2009) | 2 lines

antigrain geometry renderer and static lib

------------------------------------------------------------------------
r2494 | zeromus | 2009-07-08 07:05:30 +0800 (三, 08  7月 2009) | 2 lines

update version info to 095 and also port changed dsm spec from 094 branch

------------------------------------------------------------------------
r2493 | zeromus | 2009-07-06 14:54:41 +0800 (一, 06  7月 2009) | 2 lines

rasterize: tweak around alpha blending again, mostly reverting to the older form

------------------------------------------------------------------------
r2492 | zeromus | 2009-07-06 13:54:02 +0800 (一, 06  7月 2009) | 2 lines

win32: fix map view tool to display more modes, taking advantage of more evolved gpu code. also port changelog from 094 branch

------------------------------------------------------------------------
r2491 | zeromus | 2009-07-06 08:21:45 +0800 (一, 06  7月 2009) | 2 lines

rasterize: fix clear image support; gpu: fix a 2d obj mode; and a fix to vram diagnostics printing

------------------------------------------------------------------------
r2490 | zeromus | 2009-07-06 04:02:41 +0800 (一, 06  7月 2009) | 2 lines

rasterize: experimental edge marking; also mess around with alpha blending a bit

------------------------------------------------------------------------
r2489 | luigi__ | 2009-07-04 19:09:50 +0800 (六, 04  7月 2009) | 2 lines

VS2010 project: Added pathsettings.cpp and pathsettings.h.

------------------------------------------------------------------------
r2488 | riccardom | 2009-07-04 17:08:09 +0800 (六, 04  7月 2009) | 2 lines

Sopt hardcoding dTools_list size.

------------------------------------------------------------------------
r2487 | riccardom | 2009-07-04 16:56:14 +0800 (六, 04  7月 2009) | 2 lines

Remove hardcoded ioregtool in tool menu creation by adding a shortname field in the dTool_t struct. While at it cleanup a bit the names and shrink a bit name field.

------------------------------------------------------------------------
r2486 | mtabachenko | 2009-07-04 16:20:56 +0800 (六, 04  7月 2009) | 5 lines

gfx3d:
- add SSE2 fix2float (some speedup);
new gxFIFO:
- fix timing for SwapBuffers (Homebrew apps work correct now);

------------------------------------------------------------------------
r2485 | riccardom | 2009-07-04 05:06:58 +0800 (六, 04  7月 2009) | 2 lines

Fixup whitespace.

------------------------------------------------------------------------
r2484 | riccardom | 2009-07-04 03:06:13 +0800 (六, 04  7月 2009) | 2 lines

The tileview depends on gtkglext so just make it a stub, not nice but works. gtk-glade is such a mess this isn't goind to be noticed :) This should fix sf.net #2813691.

------------------------------------------------------------------------
r2483 | riccardom | 2009-07-04 02:51:10 +0800 (六, 04  7月 2009) | 2 lines

Remove a chunk of double zero-ifdeffed code.

------------------------------------------------------------------------
r2482 | riccardom | 2009-07-04 02:40:32 +0800 (六, 04  7月 2009) | 2 lines

Force lua disabled.

------------------------------------------------------------------------
r2481 | zeromus | 2009-07-04 02:01:59 +0800 (六, 04  7月 2009) | 2 lines

gpu: fix a couple of obj final pixel rendering regressions

------------------------------------------------------------------------
r2480 | zeromus | 2009-07-03 17:52:32 +0800 (五, 03  7月 2009) | 2 lines

core: emulate dma access to TCM by reading 0 and discarding writes. also fix a bug in the newer (extremely verbose) instruction logging

------------------------------------------------------------------------
r2479 | zeromus | 2009-07-03 15:15:17 +0800 (五, 03  7月 2009) | 2 lines

gpu: overhaul sprite final pixel rendering to fix bugs and reduce code bloat. I may have broken some things (there are many rarely used configurations in here) but the code is in a final compact form now. also fix some win32 rom path related bugs.

------------------------------------------------------------------------
r2478 | p989 | 2009-07-03 14:28:39 +0800 (五, 03  7月 2009) | 2 lines

lua: multiple vms with callbacks, string printing and console output, editing a script has immediate effects, clean up some libs and win32 menus

------------------------------------------------------------------------
r2477 | zeromus | 2009-07-03 10:27:53 +0800 (五, 03  7月 2009) | 2 lines

fix a bug in vram mapping diagnostics printing

------------------------------------------------------------------------
r2476 | zeromus | 2009-07-02 13:12:34 +0800 (四, 02  7月 2009) | 2 lines

win32: repair path-related things

------------------------------------------------------------------------
r2474 | p989 | 2009-07-02 03:50:06 +0800 (四, 02  7月 2009) | 2 lines

win32: fix lua path

------------------------------------------------------------------------
r2473 | mtabachenko | 2009-07-01 18:23:07 +0800 (三, 01  7月 2009) | 2 lines

sorry, forgot commit resource file;

------------------------------------------------------------------------
r2472 | mtabachenko | 2009-07-01 17:46:41 +0800 (三, 01  7月 2009) | 2 lines

- some fixes in gbaslot;

------------------------------------------------------------------------
r2471 | zeromus | 2009-07-01 14:37:04 +0800 (三, 01  7月 2009) | 2 lines

add packing attributes to another fat struct

------------------------------------------------------------------------
r2470 | zeromus | 2009-07-01 13:51:42 +0800 (三, 01  7月 2009) | 2 lines

gbaslot is no longer experimental. old cflash system removed. clean up (hopefully) gbaslot cflash configuration system. common command line parsing for cflash. fix bug in cflash path mounting involving struct packing which failed in gcc (fat image mounting remains untested).

------------------------------------------------------------------------
r2469 | zeromus | 2009-07-01 09:27:45 +0800 (三, 01  7月 2009) | 2 lines

add ideas-style debug console printing commands

------------------------------------------------------------------------
r2467 | p989 | 2009-07-01 02:01:31 +0800 (三, 01  7月 2009) | 2 lines

lua: stylus.read

------------------------------------------------------------------------
r2466 | p989 | 2009-06-30 23:41:02 +0800 (二, 30  6月 2009) | 2 lines

move the stylus display to the bottom screen

------------------------------------------------------------------------
r2465 | p989 | 2009-06-29 14:59:21 +0800 (一, 29  6月 2009) | 2 lines

win32: path settings on one page, manual edits saved

------------------------------------------------------------------------
r2464 | p989 | 2009-06-29 02:44:00 +0800 (一, 29  6月 2009) | 2 lines

win32: applied hicoder's path settings dialog patch. the default path behavior has changed from putting/looking for files where the rom is to putting/looking for files where the exe is

------------------------------------------------------------------------
r2462 | mtabachenko | 2009-06-29 00:21:31 +0800 (一, 29  6月 2009) | 2 lines

opps

------------------------------------------------------------------------
r2461 | mtabachenko | 2009-06-29 00:19:12 +0800 (一, 29  6月 2009) | 2 lines

zeromus: sorry, i fix rev.2449 (reverted and fixed); dogs look fine now :)

------------------------------------------------------------------------
r2460 | gocha | 2009-06-28 14:25:17 +0800 (日, 28  6月 2009) | 2 lines

reset lag counter when reset rom, add reset lag counter hotkey

------------------------------------------------------------------------
r2459 | zeromus | 2009-06-28 12:15:25 +0800 (日, 28  6月 2009) | 2 lines

fix lua engine warnings

------------------------------------------------------------------------
r2458 | zeromus | 2009-06-28 11:19:48 +0800 (日, 28  6月 2009) | 2 lines

clean up auxspicnt emulation

------------------------------------------------------------------------
r2457 | gocha | 2009-06-28 09:57:38 +0800 (日, 28  6月 2009) | 2 lines

win32: fix turbo start/select

------------------------------------------------------------------------
r2456 | zeromus | 2009-06-28 09:55:23 +0800 (日, 28  6月 2009) | 2 lines

reset frame counter when resetting rom

------------------------------------------------------------------------
r2455 | zeromus | 2009-06-28 09:34:16 +0800 (日, 28  6月 2009) | 2 lines

crazymax: reverted packed command handling outside of USE_GEOMETRY_FIFO_EMULATION; check wandering dogs on nintendogs intro kennel chooser. im not sure why your approach didnt work. but good work on all the other stuff! i also suggest decoding commands written to registers (including packed commands) and putting them in the fifo since i bet that is how it works (it will simplify the logic as well). ill do this eventually if you dont.

------------------------------------------------------------------------
r2454 | zeromus | 2009-06-28 08:03:04 +0800 (日, 28  6月 2009) | 2 lines

win32: fix vs2010 vcxproj

------------------------------------------------------------------------
r2453 | zeromus | 2009-06-28 07:49:59 +0800 (日, 28  6月 2009) | 2 lines

win32: change everything away from fastcall. its not so much faster since all the important stuff is inlined, and it is a huge headache and was going to end badly eventually anyway. also shrink some libs and fix some build errors.

------------------------------------------------------------------------
r2452 | zeromus | 2009-06-28 06:50:48 +0800 (日, 28  6月 2009) | 2 lines

fix a case in the rom header validation

------------------------------------------------------------------------
r2451 | p989 | 2009-06-28 02:41:37 +0800 (日, 28  6月 2009) | 2 lines

win32: 7z, rar, bz2 support, dialog for selecting a file from an archive with multiple files, lua console dialog

------------------------------------------------------------------------
r2450 | mtabachenko | 2009-06-28 02:06:12 +0800 (日, 28  6月 2009) | 3 lines

core:
- removed GE IRQ hack from new gxFIFO;

------------------------------------------------------------------------
r2449 | mtabachenko | 2009-06-27 23:50:55 +0800 (六, 27  6月 2009) | 3 lines

core:
- many fixes in experimental GEOMETRY_FIFO_EMULATION (now work many 3D games - Castlevania, M&L - TiP, MetalSlug 7 and many, but glitches in full 3D games: NSMB, FFx, Sonic etc.). need to test.

------------------------------------------------------------------------
r2448 | zeromus | 2009-06-27 06:35:10 +0800 (六, 27  6月 2009) | 2 lines

blahhhhhh update the chinese version of that dialog.

------------------------------------------------------------------------
r2447 | zeromus | 2009-06-27 06:32:49 +0800 (六, 27  6月 2009) | 2 lines

win32: fix sound view to show volumes with datashift builtin optionally, and other misc cleanups

------------------------------------------------------------------------
r2446 | zeromus | 2009-06-27 04:16:45 +0800 (六, 27  6月 2009) | 2 lines

win32: fix vs2008 more. fastcall needs to be removed eventually, it is an epic struggle to continue using it, which will culminate in failure once we start using glibc in more than one file

------------------------------------------------------------------------
r2445 | zeromus | 2009-06-27 04:07:07 +0800 (六, 27  6月 2009) | 2 lines

win32: fix vs2008 release build

------------------------------------------------------------------------
r2444 | riccardom | 2009-06-27 03:30:08 +0800 (六, 27  6月 2009) | 2 lines

Add the alternative cf implementation from the addons. The plan is to have more instruments to sort out what's wrong with not being able to run pythonNDS demo under linux.

------------------------------------------------------------------------
r2443 | riccardom | 2009-06-27 03:12:23 +0800 (六, 27  6月 2009) | 2 lines

Compile lua engine on linux if lua is available, still not hooked in gui.

------------------------------------------------------------------------
r2442 | mtabachenko | 2009-06-26 21:35:05 +0800 (五, 26  6月 2009) | 3 lines

winport:
- added Lua 'fastcall' library in VS2008; :)

------------------------------------------------------------------------
r2441 | zeromus | 2009-06-26 14:17:20 +0800 (五, 26  6月 2009) | 2 lines

remove <TexCache_TexFormat format> which caused compile errors on one lone person's system. why only him??

------------------------------------------------------------------------
r2440 | zeromus | 2009-06-26 14:14:57 +0800 (五, 26  6月 2009) | 2 lines

win32: add lua-engine.cpp to vs2005 vcproj

------------------------------------------------------------------------
r2439 | p989 | 2009-06-26 14:10:28 +0800 (五, 26  6月 2009) | 2 lines

lua scripting

------------------------------------------------------------------------
r2438 | zeromus | 2009-06-26 13:57:05 +0800 (五, 26  6月 2009) | 2 lines

win32: add static lua library

------------------------------------------------------------------------
r2436 | zeromus | 2009-06-26 01:08:52 +0800 (五, 26  6月 2009) | 2 lines

gfx3d: fix advance wars invisible tiles yet again.

------------------------------------------------------------------------
r2435 | luigi__ | 2009-06-25 07:20:17 +0800 (四, 25  6月 2009) | 4 lines

Re-enable wifi usec trigger which was accidentally(?) commented out.
Also, I changed my way so it's more like zero's one, but the decrement value for nds.wifiCycle makes more sense to me. zero, could you consider it please?
Also added some comments.

------------------------------------------------------------------------
r2434 | riccardom | 2009-06-25 05:14:48 +0800 (四, 25  6月 2009) | 2 lines

make FCEUSS_SaveSRAM static and fixup whitespace on a line.

------------------------------------------------------------------------
r2433 | p989 | 2009-06-25 05:10:10 +0800 (四, 25  6月 2009) | 2 lines

reset recording

------------------------------------------------------------------------
r2432 | zeromus | 2009-06-25 04:35:37 +0800 (四, 25  6月 2009) | 2 lines

win32: fix danish language menu selection as reported in forums

------------------------------------------------------------------------
r2431 | zeromus | 2009-06-25 03:23:37 +0800 (四, 25  6月 2009) | 2 lines

gfx3d: a refinement to poly sorting

------------------------------------------------------------------------
r2430 | zeromus | 2009-06-24 14:03:19 +0800 (三, 24  6月 2009) | 2 lines

gpu: change affine bg drawing to use more accurate vram mapping. fixes some display issues, costs some speed.

------------------------------------------------------------------------
r2429 | zeromus | 2009-06-24 13:17:32 +0800 (三, 24  6月 2009) | 2 lines

gfx3d: add a default clear depth of maximum value (most distant) for games which never set it.

------------------------------------------------------------------------
r2428 | zeromus | 2009-06-24 08:40:40 +0800 (三, 24  6月 2009) | 2 lines

gfx3d: fix an ancient bug in matrix set position. fixes some mispositioned verts e.g. diddy kong racing

------------------------------------------------------------------------
r2427 | riccardom | 2009-06-24 02:15:00 +0800 (三, 24  6月 2009) | 3 lines

Add X includes on darwin platform to allow cli frontend build on mac os x out
of the box. .lart^Wthanks giskard for the help.

------------------------------------------------------------------------
r2426 | zeromus | 2009-06-23 12:45:47 +0800 (二, 23  6月 2009) | 2 lines

oops

------------------------------------------------------------------------
r2425 | zeromus | 2009-06-23 12:24:55 +0800 (二, 23  6月 2009) | 2 lines

add some persons's osx chinese translation

------------------------------------------------------------------------
r2424 | zeromus | 2009-06-23 12:14:17 +0800 (二, 23  6月 2009) | 2 lines

osx: apply save type selection patch

------------------------------------------------------------------------
r2423 | zeromus | 2009-06-23 11:56:38 +0800 (二, 23  6月 2009) | 2 lines

win32: add background pause

------------------------------------------------------------------------
r2422 | zeromus | 2009-06-23 04:50:24 +0800 (二, 23  6月 2009) | 2 lines

win32: fix bug in rc and add 2.5x window size

------------------------------------------------------------------------
r2421 | zeromus | 2009-06-23 02:05:47 +0800 (二, 23  6月 2009) | 2 lines

rasterize: fix depth buffering again.

------------------------------------------------------------------------
r2420 | riccardom | 2009-06-22 15:53:38 +0800 (一, 22  6月 2009) | 2 lines

Fix compilation with EXPERIMENTAL_GBASLOT defined.

------------------------------------------------------------------------
r2419 | zeromus | 2009-06-22 14:09:37 +0800 (一, 22  6月 2009) | 2 lines

gpu: add experimental handling for a case of translucent bmp obj blending

------------------------------------------------------------------------
r2418 | zeromus | 2009-06-22 03:26:13 +0800 (一, 22  6月 2009) | 2 lines

rasterize: fix highlight rendering

------------------------------------------------------------------------
r2417 | matusz | 2009-06-22 01:26:27 +0800 (一, 22  6月 2009) | 2 lines

gtk-port WIP: building cheat searching dialog

------------------------------------------------------------------------
r2416 | riccardom | 2009-06-21 17:14:10 +0800 (日, 21  6月 2009) | 2 lines

Shut up a couple of signed vs unsigned gcc warnings.

------------------------------------------------------------------------
r2415 | zeromus | 2009-06-21 14:26:09 +0800 (日, 21  6月 2009) | 2 lines

rasterize: remove a recent depth buffering regression in advance wars tile rendering

------------------------------------------------------------------------
r2414 | p989 | 2009-06-21 05:47:58 +0800 (日, 21  6月 2009) | 2 lines

store ext bios / swi settings

------------------------------------------------------------------------
r2413 | zeromus | 2009-06-21 05:29:04 +0800 (日, 21  6月 2009) | 2 lines

win32: fix svn version reporting in some cases

------------------------------------------------------------------------
r2412 | zeromus | 2009-06-21 03:27:22 +0800 (日, 21  6月 2009) | 2 lines

rasterize: fix toon shading when no texture is set (mario kart star powerup)

------------------------------------------------------------------------
r2411 | zeromus | 2009-06-21 01:58:12 +0800 (日, 21  6月 2009) | 2 lines

shut up gcc

------------------------------------------------------------------------
r2410 | zeromus | 2009-06-21 01:50:13 +0800 (日, 21  6月 2009) | 2 lines

win32: fix warning in rc

------------------------------------------------------------------------
r2409 | matusz | 2009-06-21 01:49:59 +0800 (日, 21  6月 2009) | 2 lines

include added parameters in save_movie

------------------------------------------------------------------------
r2408 | zeromus | 2009-06-21 01:45:39 +0800 (日, 21  6月 2009) | 2 lines

rasterize: fix battles of prince of persia display failure regression

------------------------------------------------------------------------
r2407 | luigi__ | 2009-06-20 21:55:56 +0800 (六, 20  6月 2009) | 3 lines

Fixed PSG sound which would sometimes not play (regression).
By the way, SPU.cpp should be cleaned up. Some parts are messy and it takes hours to get compiled.

------------------------------------------------------------------------
r2406 | luigi__ | 2009-06-20 21:18:50 +0800 (六, 20  6月 2009) | 2 lines

uh? need to commit again?

------------------------------------------------------------------------
r2405 | luigi__ | 2009-06-20 21:15:07 +0800 (六, 20  6月 2009) | 2 lines

Changed intermediate directory to '.VS2010'.

------------------------------------------------------------------------
r2404 | riccardom | 2009-06-20 18:02:37 +0800 (六, 20  6月 2009) | 6 lines

Add a toogle to disable / enable fps limiter while playing. The purpose of this is to fast
forward attack animations from. We don't have patience :)

This patch is a modified version of the one from szigor from bug #2806869. Please note i've
used the already available boost key (SDLK_o) instead of the tab.

------------------------------------------------------------------------
r2403 | zeromus | 2009-06-20 16:02:54 +0800 (六, 20  6月 2009) | 2 lines

oops, left a hack uncommented

------------------------------------------------------------------------
r2402 | zeromus | 2009-06-20 15:57:52 +0800 (六, 20  6月 2009) | 2 lines

rasterize: add clear image emulation

------------------------------------------------------------------------
r2401 | p989 | 2009-06-20 14:28:23 +0800 (六, 20  6月 2009) | 2 lines

starting a movie from sram

------------------------------------------------------------------------
r2400 | zeromus | 2009-06-20 11:56:12 +0800 (六, 20  6月 2009) | 2 lines

win32: add chinese translation

------------------------------------------------------------------------
r2399 | riccardom | 2009-06-20 06:42:41 +0800 (六, 20  6月 2009) | 2 lines

Add enable-wifi switch and proper check for pcap

------------------------------------------------------------------------
r2398 | riccardom | 2009-06-20 06:24:13 +0800 (六, 20  6月 2009) | 2 lines

Fixup declaration vs initialization order warning.

------------------------------------------------------------------------
r2397 | yabause | 2009-06-20 05:11:18 +0800 (六, 20  6月 2009) | 2 lines

Added some files to distribution.

------------------------------------------------------------------------
r2396 | zeromus | 2009-06-19 04:14:58 +0800 (五, 19  6月 2009) | 2 lines

win32: fjx types.h and add version.h to vcproj files

------------------------------------------------------------------------
r2395 | riccardom | 2009-06-19 04:10:56 +0800 (五, 19  6月 2009) | 2 lines

Fixup compilation and remove duplicate stuff rom types.h

------------------------------------------------------------------------
r2394 | riccardom | 2009-06-19 03:50:51 +0800 (五, 19  6月 2009) | 4 lines

Allow compilation of linux cli without glib since it does not need it. Probably there is a cleaner
way but since desmume still compiles fine with glib it is not regressing. Guillame take a look at
this and remember we should take a serious look at configure.ac ;).

------------------------------------------------------------------------
r2393 | riccardom | 2009-06-19 03:33:51 +0800 (五, 19  6月 2009) | 2 lines

define SVN_REV_STR as SVN_REV if is set.

------------------------------------------------------------------------
r2392 | riccardom | 2009-06-19 03:21:28 +0800 (五, 19  6月 2009) | 2 lines

Define SVN_REV filled with latest svn revision. Code kindly taken from geany project.

------------------------------------------------------------------------
r2391 | luigi__ | 2009-06-19 00:27:51 +0800 (五, 19  6月 2009) | 3 lines

Added a project file for VS2010.
Note: this project is a converted version of the VS2008 project because I'm too lazy to replicate all the settings of the VS2008 project in a new VS2010 one. Please check that it works. I may have omitted important files :P

------------------------------------------------------------------------
r2390 | zeromus | 2009-06-18 23:25:41 +0800 (四, 18  6月 2009) | 3 lines

add wificycle to savestate (probably an unimportant bug)
add write_enable=FALSE to backupdevice init (possibly an important bug)

------------------------------------------------------------------------
r2389 | zeromus | 2009-06-18 23:07:13 +0800 (四, 18  6月 2009) | 2 lines

hoepfully fix atma's build error

------------------------------------------------------------------------
r2388 | matusz | 2009-06-18 18:50:50 +0800 (四, 18  6月 2009) | 3 lines

s/#include "disassembler.h"/#include "Disassembler.h"/
(case sensitive filesystem here and it is capitalized everywhere else)

------------------------------------------------------------------------
r2387 | gocha | 2009-06-18 16:43:58 +0800 (四, 18  6月 2009) | 2 lines

AutoHold for L and R

------------------------------------------------------------------------
r2386 | zeromus | 2009-06-18 14:51:06 +0800 (四, 18  6月 2009) | 2 lines

update makefile with version.h

------------------------------------------------------------------------
r2385 | zeromus | 2009-06-18 13:25:20 +0800 (四, 18  6月 2009) | 3 lines

core: move all desmume version #defines to version.h so that less stuff depends on it;
win32: add svn revision detection and print it in console and title etc.

------------------------------------------------------------------------
r2384 | zeromus | 2009-06-18 08:21:46 +0800 (四, 18  6月 2009) | 2 lines

win32: fix a ~1month old bug which made memview not able to see dtcm; fix a rerecording desynch bug involving the framecounter being wrong, which causes rtc reads during movies to yield the wrong value at the wrong time

------------------------------------------------------------------------
r2382 | yabause | 2009-06-18 06:02:06 +0800 (四, 18  6月 2009) | 2 lines

Added some missing file to distribution.

------------------------------------------------------------------------
r2381 | zeromus | 2009-06-18 05:52:40 +0800 (四, 18  6月 2009) | 2 lines

add a common commandline option --start-paused for when a rom is specified on commandline (but you dont want it to start immediately)

------------------------------------------------------------------------
r2380 | zeromus | 2009-06-18 04:30:28 +0800 (四, 18  6月 2009) | 2 lines

move the possibly useless backup memory flushing code to core to make sure that everyone gets it.

------------------------------------------------------------------------
r2379 | zeromus | 2009-06-18 04:22:53 +0800 (四, 18  6月 2009) | 2 lines

ok

------------------------------------------------------------------------
r2378 | riccardom | 2009-06-18 04:21:20 +0800 (四, 18  6月 2009) | 3 lines

Make wifi compiles for !WIN32, now the only missing bits are configure check for libpcap and runtime testing :).
It is possible that i've made a typo or similar mistake in the wrappers, i'm sorry for that but should be easy to spot and fix.

------------------------------------------------------------------------
r2377 | riccardom | 2009-06-18 02:59:43 +0800 (四, 18  6月 2009) | 2 lines

Fix warnings and add libpcap include for !WIN32, need more fixes to compile.

------------------------------------------------------------------------
r2376 | zeromus | 2009-06-18 02:55:03 +0800 (四, 18  6月 2009) | 2 lines

win32: fix bugs which made compling without EXPERIMENTAL_WIFI fail

------------------------------------------------------------------------
r2375 | matusz | 2009-06-18 02:04:10 +0800 (四, 18  6月 2009) | 3 lines

gtk-port: unhide cheat menu items
limit cheat size option to 1-4

------------------------------------------------------------------------
r2374 | riccardom | 2009-06-18 01:23:52 +0800 (四, 18  6月 2009) | 2 lines

Hook fake mic in cli frontend: use m to toggle.

------------------------------------------------------------------------
r2373 | riccardom | 2009-06-18 01:19:06 +0800 (四, 18  6月 2009) | 2 lines

Random cleanup: fix whitespace in config check, remove commented debug code. Cleanup a bit initGL.

------------------------------------------------------------------------
r2372 | zeromus | 2009-06-17 13:07:52 +0800 (三, 17  6月 2009) | 2 lines

ditto

------------------------------------------------------------------------
r2369 | zeromus | 2009-06-17 09:23:43 +0800 (三, 17  6月 2009) | 2 lines

update dsm spec

------------------------------------------------------------------------
r2368 | p989 | 2009-06-17 03:44:46 +0800 (三, 17  6月 2009) | 2 lines

parenthesis

------------------------------------------------------------------------
r2367 | zeromus | 2009-06-17 03:43:19 +0800 (三, 17  6月 2009) | 2 lines

adding these files seems to help vc++ express build. i think it doesnt break full vs because their builtin versions have higher priority?

------------------------------------------------------------------------
r2366 | p989 | 2009-06-17 03:39:21 +0800 (三, 17  6月 2009) | 2 lines

preliminary lid recording

------------------------------------------------------------------------
r2365 | zeromus | 2009-06-17 03:38:22 +0800 (三, 17  6月 2009) | 2 lines

resource.h instead of resource1.h

------------------------------------------------------------------------
r2364 | zeromus | 2009-06-17 02:58:58 +0800 (三, 17  6月 2009) | 2 lines

try fixing rc to work in 2010 and 2005

------------------------------------------------------------------------
r2363 | p989 | 2009-06-17 02:43:36 +0800 (三, 17  6月 2009) | 2 lines

ported previous

------------------------------------------------------------------------
r2361 | mtabachenko | 2009-06-17 02:01:56 +0800 (三, 17  6月 2009) | 2 lines

- sse2 optimizations (speed test http://www.turboupload.com/uzmjnuzfbvf1/test_matrix_SSE2_09-06-16.ZIP)

------------------------------------------------------------------------
r2360 | luigi__ | 2009-06-17 01:36:43 +0800 (三, 17  6月 2009) | 2 lines

Remove including of targetver.h.

------------------------------------------------------------------------
r2359 | luigi__ | 2009-06-17 01:25:14 +0800 (三, 17  6月 2009) | 2 lines

Fixed the first (and hoefully, the last) problem.

------------------------------------------------------------------------
r2358 | zeromus | 2009-06-17 01:19:05 +0800 (三, 17  6月 2009) | 2 lines

try fixing resources for vs2005

------------------------------------------------------------------------
r2357 | luigi__ | 2009-06-17 01:06:33 +0800 (三, 17  6月 2009) | 3 lines

Saved resources from VS2010 resource editor. Please check that nothing was broken.
If everything went fine, then WE DON'T NEED RESEDIT ANYMORE!!! EVERYTHING IS LIKE BEFORE!!! EVERYBODY CAN NOW EDIT DIALOGS!!!

------------------------------------------------------------------------
r2356 | zeromus | 2009-06-16 13:50:48 +0800 (二, 16  6月 2009) | 2 lines

integrate from release branch

------------------------------------------------------------------------
r2351 | gecko_reverse | 2009-06-15 18:56:58 +0800 (一, 15  6月 2009) | 2 lines

add svn:ignore on xcode build dir

------------------------------------------------------------------------
r2350 | gecko_reverse | 2009-06-15 18:54:27 +0800 (一, 15  6月 2009) | 2 lines

compile fix for cocoa port

------------------------------------------------------------------------
r2349 | mtabachenko | 2009-06-15 00:44:00 +0800 (一, 15  6月 2009) | 4 lines

winport:
- fixed search after load savestate and reset game;
- fixed grayed 'OK' button in GBAslot dialog;

------------------------------------------------------------------------
r2348 | matusz | 2009-06-14 09:53:55 +0800 (日, 14  6月 2009) | 2 lines

gtk-port: cheat-window size-column bug-fix

------------------------------------------------------------------------
r2347 | matusz | 2009-06-14 09:31:53 +0800 (日, 14  6月 2009) | 2 lines

remove a stray variable

------------------------------------------------------------------------
r2346 | riccardom | 2009-06-13 23:36:09 +0800 (六, 13  6月 2009) | 2 lines

Add recent cli improvements.

------------------------------------------------------------------------
r2345 | riccardom | 2009-06-13 23:27:00 +0800 (六, 13  6月 2009) | 2 lines

Hide cheat system directly in the gui.

------------------------------------------------------------------------
r2344 | matusz | 2009-06-13 22:14:43 +0800 (六, 13  6月 2009) | 3 lines

gtk-port: fix a few bugs in cheat window
keeping cheats disabled (until release)

------------------------------------------------------------------------
r2343 | matusz | 2009-06-13 18:13:35 +0800 (六, 13  6月 2009) | 2 lines

defer cheating in gtk until after release

------------------------------------------------------------------------
r2342 | riccardom | 2009-06-13 17:50:37 +0800 (六, 13  6月 2009) | 2 lines

Fix up annoying warning about declaration vs initialization order.

------------------------------------------------------------------------
r2341 | riccardom | 2009-06-13 16:23:57 +0800 (六, 13  6月 2009) | 2 lines

No need for extern here.

------------------------------------------------------------------------
r2340 | riccardom | 2009-06-13 16:05:34 +0800 (六, 13  6月 2009) | 2 lines

Don't need 100 chars for win title, while at it use snprintf instead of sprintf.

------------------------------------------------------------------------
r2339 | matusz | 2009-06-13 16:05:10 +0800 (六, 13  6月 2009) | 3 lines

gtk-port: Hook up cheating engine
cheat searching not hooked yet

------------------------------------------------------------------------
r2338 | riccardom | 2009-06-13 04:15:20 +0800 (六, 13  6月 2009) | 2 lines

Exit when pressing escape, patch by szigor from #2801291.

------------------------------------------------------------------------
r2337 | riccardom | 2009-06-13 04:12:08 +0800 (六, 13  6月 2009) | 2 lines

Add auto pause option to cli frontend by szigor from #2801291.

------------------------------------------------------------------------
r2336 | riccardom | 2009-06-13 03:40:30 +0800 (六, 13  6月 2009) | 4 lines

Commit a modified version of szigor cli input refactoring patch from #2801291.
The change from the original are mainly moving the input update to an helper
 and calling it in the frameskip loop like it is done on other frontends.

------------------------------------------------------------------------
r2335 | riccardom | 2009-06-12 16:03:51 +0800 (五, 12  6月 2009) | 2 lines

Add frameskip for cli frontend, patch by szigor from #280129.  The FIXME could be easily resolvable so we should fix it shortly :)

------------------------------------------------------------------------
r2334 | riccardom | 2009-06-12 15:25:50 +0800 (五, 12  6月 2009) | 2 lines

Fixup whitespace.

------------------------------------------------------------------------
r2333 | riccardom | 2009-06-12 15:16:11 +0800 (五, 12  6月 2009) | 2 lines

atoi needs stdlib.h

------------------------------------------------------------------------
r2332 | zeromus | 2009-06-12 15:11:40 +0800 (五, 12  6月 2009) | 2 lines

gtk: fix movieplaying and add minimal play/record/stop menu support

------------------------------------------------------------------------
r2331 | mtabachenko | 2009-06-12 04:25:27 +0800 (五, 12  6月 2009) | 2 lines

- fix bug in init & reset OpenGL engine;

------------------------------------------------------------------------
r2330 | zeromus | 2009-06-11 12:33:11 +0800 (四, 11  6月 2009) | 2 lines

try a little hack to fix tomb raider underworld savefile which was writing past its 512B limit

------------------------------------------------------------------------
r2329 | p989 | 2009-06-11 12:14:42 +0800 (四, 11  6月 2009) | 2 lines

win32: reset mic button buffer pos if not pressed

------------------------------------------------------------------------
r2328 | zeromus | 2009-06-11 11:40:56 +0800 (四, 11  6月 2009) | 2 lines

clean up rom info collection and mix it up with the movie system

------------------------------------------------------------------------
r2327 | zeromus | 2009-06-11 04:59:57 +0800 (四, 11  6月 2009) | 2 lines

win32: work around unknown glitch with stdio attachment in visual studio command prompt

------------------------------------------------------------------------
r2326 | zeromus | 2009-06-11 04:30:15 +0800 (四, 11  6月 2009) | 2 lines

gdb stub fixups

------------------------------------------------------------------------
r2325 | zeromus | 2009-06-10 14:49:51 +0800 (三, 10  6月 2009) | 2 lines

work on changelog

------------------------------------------------------------------------
r2324 | zeromus | 2009-06-10 10:04:30 +0800 (三, 10  6月 2009) | 2 lines

spu: handle word writes to length register; fixes freeze during maxmod reverb (reverb still isnt supported, though)

------------------------------------------------------------------------
r2323 | zeromus | 2009-06-10 07:14:26 +0800 (三, 10  6月 2009) | 2 lines

fix a certain pattern of ipc register writes which was breaking devkitpro touch input

------------------------------------------------------------------------
r2322 | zeromus | 2009-06-10 05:15:00 +0800 (三, 10  6月 2009) | 2 lines

set up a system to handle detection of bogus roms by header instead of by extension. fix poly sorting which was broken when changed to a stable sort (will make some invisible gui elements reappear)

------------------------------------------------------------------------
r2321 | zeromus | 2009-06-09 13:21:58 +0800 (二, 09  6月 2009) | 2 lines

win32: add commandline handling for play-movie, record-movie, and load-slot

------------------------------------------------------------------------
r2320 | zeromus | 2009-06-09 11:50:58 +0800 (二, 09  6月 2009) | 2 lines

fix screenshot bugs with rotation and accidentally including hud. rotation is fixed by writing screenshot unrotated since rotation is handled by platform code now and screenshotting is in the core.

------------------------------------------------------------------------
r2319 | zeromus | 2009-06-09 11:35:37 +0800 (二, 09  6月 2009) | 2 lines

win32: add ability to disable each gpu, for speedup by halting render of useless screens

------------------------------------------------------------------------
r2318 | zeromus | 2009-06-09 11:06:15 +0800 (二, 09  6月 2009) | 2 lines

only display X when input display is on

------------------------------------------------------------------------
r2317 | p989 | 2009-06-09 06:53:58 +0800 (二, 09  6月 2009) | 2 lines

adjusted mic command number

------------------------------------------------------------------------
r2316 | p989 | 2009-06-06 23:22:10 +0800 (六, 06  6月 2009) | 2 lines

removed main.h

------------------------------------------------------------------------
r2315 | p989 | 2009-06-06 23:08:13 +0800 (六, 06  6月 2009) | 2 lines

moved ShowInputDisplay

------------------------------------------------------------------------
r2314 | riccardom | 2009-06-06 21:22:58 +0800 (六, 06  6月 2009) | 2 lines

Use tabs for whitespace consistently in MMU_struct.

------------------------------------------------------------------------
r2313 | riccardom | 2009-06-06 20:41:20 +0800 (六, 06  6月 2009) | 2 lines

One should be enough :)

------------------------------------------------------------------------
r2312 | riccardom | 2009-06-06 20:33:51 +0800 (六, 06  6月 2009) | 2 lines

stricmp is not available on !WIN32, use strcasecmp that is not available on WIN32 but it's already defined as _stricmp in types.h.

------------------------------------------------------------------------
r2311 | gocha | 2009-06-06 13:54:25 +0800 (六, 06  6月 2009) | 2 lines

stylus display from rr-branch + minor change

------------------------------------------------------------------------
r2310 | p989 | 2009-06-06 13:50:06 +0800 (六, 06  6月 2009) | 2 lines

hotkey config doesn't center

------------------------------------------------------------------------
r2309 | zeromus | 2009-06-06 13:22:00 +0800 (六, 06  6月 2009) | 2 lines

fix loading of zipfiles

------------------------------------------------------------------------
r2308 | gocha | 2009-06-06 13:13:29 +0800 (六, 06  6月 2009) | 2 lines

win32: the updown control in ram watch now works well

------------------------------------------------------------------------
r2307 | luigi__ | 2009-06-06 05:09:35 +0800 (六, 06  6月 2009) | 2 lines

For immediate LDR, if we're loading from [PC + 0xXXX], print final offset instead of [PC + 0xXXX].

------------------------------------------------------------------------
r2306 | luigi__ | 2009-06-05 20:11:09 +0800 (五, 05  6月 2009) | 2 lines

Fixed crash when loading files that aren't ROMs (for example when accidentally dragging some file on DeSmuME's window).

------------------------------------------------------------------------
r2305 | luigi__ | 2009-06-05 19:52:03 +0800 (五, 05  6月 2009) | 2 lines

Fix two bugs with emulation settings dialog.

------------------------------------------------------------------------
r2304 | luigi__ | 2009-06-05 05:34:25 +0800 (五, 05  6月 2009) | 2 lines

Oops... the prevoius attempt was fucking horrible. This should be better.

------------------------------------------------------------------------
r2303 | luigi__ | 2009-06-05 05:27:31 +0800 (五, 05  6月 2009) | 2 lines

Re-add writing to firmware because I need it for testing wifi stuff.

------------------------------------------------------------------------
r2302 | gocha | 2009-06-04 23:06:36 +0800 (四, 04  6月 2009) | 2 lines

win32: changed avi framerate very slightly because it seems to have less audio desync. (old one wasn't so bad, anyway...)

------------------------------------------------------------------------
r2301 | riccardom | 2009-06-04 03:10:13 +0800 (四, 04  6月 2009) | 2 lines

Fixup linux build.

------------------------------------------------------------------------
r2300 | zeromus | 2009-06-03 23:32:51 +0800 (三, 03  6月 2009) | 2 lines

fix crash in cheat search involving loading state in the middle of a search session

------------------------------------------------------------------------
r2299 | normmatt234 | 2009-06-03 13:24:23 +0800 (三, 03  6月 2009) | 2 lines

Fix some broken stuff.

------------------------------------------------------------------------
r2298 | luigi__ | 2009-06-03 04:28:38 +0800 (三, 03  6月 2009) | 2 lines

Hack a bit the power-on stuff. Fixes some problems with Nintendo WFC config util.

------------------------------------------------------------------------
r2297 | p989 | 2009-06-03 04:22:58 +0800 (三, 03  6月 2009) | 2 lines

preliminary mic recording

------------------------------------------------------------------------
r2296 | riccardom | 2009-06-03 03:11:09 +0800 (三, 03  6月 2009) | 2 lines

Define empty macros as {} to avoid problem with empty macros inside if statements.

------------------------------------------------------------------------
r2295 | riccardom | 2009-06-03 02:52:54 +0800 (三, 03  6月 2009) | 2 lines

Remove unused parameters from NDS_LoadROM().

------------------------------------------------------------------------
r2294 | zeromus | 2009-06-03 01:42:36 +0800 (三, 03  6月 2009) | 2 lines

wifi: a timing tweak that may help luigi

------------------------------------------------------------------------
r2293 | luigi__ | 2009-06-03 01:10:39 +0800 (三, 03  6月 2009) | 5 lines

Cleanup in wifi core:
- removed socket shit (which is anyway not suited to our needs)
- Added a logging system configured by a logging level
- Some other stuff...

------------------------------------------------------------------------
r2292 | zeromus | 2009-06-02 12:32:21 +0800 (二, 02  6月 2009) | 2 lines

fix (new?) wifi crash

------------------------------------------------------------------------
r2291 | luigi__ | 2009-06-02 05:52:50 +0800 (二, 02  6月 2009) | 2 lines

Clean up packet managing in SoftAP.

------------------------------------------------------------------------
r2290 | luigi__ | 2009-06-02 05:33:27 +0800 (二, 02  6月 2009) | 3 lines

Oops... forgot to undo a hack I had added.
Also added comments about the packet length field in RX header.

------------------------------------------------------------------------
r2289 | luigi__ | 2009-06-02 05:12:19 +0800 (二, 02  6月 2009) | 4 lines

After some fixes into SoftAP I managed to get the Nintendo WFC config util to see SoftAP. But unfortunately the connection test that follows will never end. Another problem to solve.

But first I should clean up the wifi core and add a logging system that I can disable without having to commenting everything :P

------------------------------------------------------------------------
r2288 | luigi__ | 2009-06-02 04:34:26 +0800 (二, 02  6月 2009) | 2 lines

Wifi writes are written to MMU.MMU_MEM, so I can see wifi memory in the mem viewer.

------------------------------------------------------------------------
r2287 | zeromus | 2009-06-01 23:10:36 +0800 (一, 01  6月 2009) | 2 lines

fix linux builds

------------------------------------------------------------------------
r2286 | zeromus | 2009-06-01 16:40:46 +0800 (一, 01  6月 2009) | 2 lines

more work on the sav system. see forum for details

------------------------------------------------------------------------
r2285 | zeromus | 2009-06-01 07:53:38 +0800 (一, 01  6月 2009) | 2 lines

fix bugs in wifi no-winpcap handling. make vs2008 debug build able to load savestates. add some notes for luigi with "luigi:"

------------------------------------------------------------------------
r2284 | gocha | 2009-05-31 21:57:00 +0800 (日, 31  5月 2009) | 2 lines

OOPS, sorry guys

------------------------------------------------------------------------
r2283 | gocha | 2009-05-31 14:45:45 +0800 (日, 31  5月 2009) | 2 lines

59.8261 or 33513982/(6*355*263)? I'm not sure which has less audio-desync, anyway I commented out the alternative framerate for now. (no behavior changes)

------------------------------------------------------------------------
r2282 | zeromus | 2009-05-31 07:25:14 +0800 (日, 31  5月 2009) | 2 lines

gpu: fix some probably inaccurate math in 3d blending against 3d. the effects of this are subtle, but see if you think it helps any

------------------------------------------------------------------------
r2281 | zeromus | 2009-05-31 06:17:05 +0800 (日, 31  5月 2009) | 2 lines

gpu: blend 3d with whats beneath it in more cases. not entirely sure about the correctness of this, so keep eyes peeled for regressions in 3d/2d compositing

------------------------------------------------------------------------
r2280 | mtabachenko | 2009-05-31 04:06:44 +0800 (日, 31  5月 2009) | 2 lines

- fix bug #2798680 (load & save message display interfere with gameplay)

------------------------------------------------------------------------
r2278 | zeromus | 2009-05-31 03:00:47 +0800 (日, 31  5月 2009) | 2 lines

print rom crc32 when loading

------------------------------------------------------------------------
r2277 | zeromus | 2009-05-29 17:39:31 +0800 (五, 29  5月 2009) | 2 lines

win32: fix icproj

------------------------------------------------------------------------
r2276 | zeromus | 2009-05-29 16:39:36 +0800 (五, 29  5月 2009) | 2 lines

win32: odds and ends to get things compiling in all cases

------------------------------------------------------------------------
r2275 | zeromus | 2009-05-29 16:27:03 +0800 (五, 29  5月 2009) | 2 lines

i wish i couldve done it right the first time

------------------------------------------------------------------------
r2274 | zeromus | 2009-05-29 16:26:18 +0800 (五, 29  5月 2009) | 3 lines

core: add a preliminary core commandline parser component. please note that temporarily linux cli may depend on gtk--we should change it to a bare glibc dependency.
win32: add glib. this is a rather behemoth checkin, but I think it will be worth it, as it is a necessary step for unification of some of the linux and windows parts.

------------------------------------------------------------------------
r2273 | zeromus | 2009-05-29 16:13:06 +0800 (五, 29  5月 2009) | 2 lines

win32: attach to existing console (from commandprompt) if it exists instead of always creating a new one. still needs a bit more work

------------------------------------------------------------------------
r2272 | zeromus | 2009-05-29 14:15:29 +0800 (五, 29  5月 2009) | 2 lines

win32: redirect stderr to console in addition to stdout

------------------------------------------------------------------------
r2271 | gocha | 2009-05-29 06:09:28 +0800 (五, 29  5月 2009) | 2 lines

GPU_OSD.h -> GPU_osd.h

------------------------------------------------------------------------
r2270 | riccardom | 2009-05-29 02:20:07 +0800 (五, 29  5月 2009) | 2 lines

Revert sputrunc to u32 and change the struct field to u32 too.

------------------------------------------------------------------------
r2269 | riccardom | 2009-05-29 02:10:50 +0800 (五, 29  5月 2009) | 2 lines

We compare the result of sputrunc alwyas with s32 type so just return it. Well, the real reason is that i'm so tired of that 50 lines warning.

------------------------------------------------------------------------
r2268 | riccardom | 2009-05-29 01:51:09 +0800 (五, 29  5月 2009) | 2 lines

Putting 5000 (OSD_TIMER_SIZE) in a u8 is no fun.

------------------------------------------------------------------------
r2267 | riccardom | 2009-05-29 01:42:37 +0800 (五, 29  5月 2009) | 2 lines

Need header for strlen().

------------------------------------------------------------------------
r2266 | riccardom | 2009-05-29 01:42:07 +0800 (五, 29  5月 2009) | 2 lines

case sensitive ftw! ;)

------------------------------------------------------------------------
r2265 | mtabachenko | 2009-05-29 01:23:10 +0800 (五, 29  5月 2009) | 3 lines

win32:
- fix resources (not visible scrollbars). please, guys, check for expressions `NOT WS_VISIBLE | NOT WS_VISIBLE` before commit recource.rc to svn, replace to `WS_VISIBLE`

------------------------------------------------------------------------
r2264 | mtabachenko | 2009-05-28 22:02:56 +0800 (四, 28  5月 2009) | 5 lines

core:
- many changes & fixes in OSD;
winport:
- fixed HUD editor for scaled window size;

------------------------------------------------------------------------
r2263 | gocha | 2009-05-28 05:44:16 +0800 (四, 28  5月 2009) | 2 lines

win32 - "Stop WAV" menu item title fix

------------------------------------------------------------------------
r2262 | gocha | 2009-05-27 23:40:27 +0800 (三, 27  5月 2009) | 2 lines

win32 - audio segment in avi is stored on every 1s now (to prevent the tons of audio segments problem)

------------------------------------------------------------------------
r2261 | zeromus | 2009-05-27 23:12:49 +0800 (三, 27  5月 2009) | 2 lines

OOPS

------------------------------------------------------------------------
r2260 | zeromus | 2009-05-27 14:46:58 +0800 (三, 27  5月 2009) | 2 lines

assorted housekeeping: gocha's spu streaming patch for all platforms, driver system, copyrights, credits, wav writer in, sndfile spu core out (wav writer is better, it will need to be added to ports)

------------------------------------------------------------------------
r2259 | adelikat | 2009-05-27 00:04:38 +0800 (三, 27  5月 2009) | 2 lines

Win32 - very tiny menu fix

------------------------------------------------------------------------
r2258 | adelikat | 2009-05-26 23:20:57 +0800 (二, 26  5月 2009) | 2 lines

win32 - record movie dialog - minor code cleanup

------------------------------------------------------------------------
r2257 | adelikat | 2009-05-26 23:16:42 +0800 (二, 26  5月 2009) | 2 lines

win32 - record movie dialog - OK button doesn't work until user specifies a filename

------------------------------------------------------------------------
r2256 | adelikat | 2009-05-26 23:13:51 +0800 (二, 26  5月 2009) | 2 lines

win32 - record movie dialog - if user doesn't not specify a file extension add .dsm for them

------------------------------------------------------------------------
r2255 | gocha | 2009-05-26 19:11:04 +0800 (二, 26  5月 2009) | 2 lines

win32 - now memView can update its contents on every frame, the code is still poor after all

------------------------------------------------------------------------
r2254 | gocha | 2009-05-26 10:52:07 +0800 (二, 26  5月 2009) | 2 lines

win32 - add soundView

------------------------------------------------------------------------
r2253 | riccardom | 2009-05-26 05:14:15 +0800 (二, 26  5月 2009) | 2 lines

Correct fprintf usage.

------------------------------------------------------------------------
r2252 | riccardom | 2009-05-26 03:46:29 +0800 (二, 26  5月 2009) | 3 lines

Cleanup EmuLoop a bit: use an array instead of heap for the fps string and save a
variable by moving zeroing of one with the very same value after we need it.

------------------------------------------------------------------------
r2251 | mtabachenko | 2009-05-26 00:40:48 +0800 (二, 26  5月 2009) | 2 lines

- some cleanups GXFIFO;

------------------------------------------------------------------------
r2250 | normmatt234 | 2009-05-24 17:04:58 +0800 (日, 24  5月 2009) | 2 lines

Fix some things in the disassembler.

------------------------------------------------------------------------
r2249 | riccardom | 2009-05-24 16:49:08 +0800 (日, 24  5月 2009) | 2 lines

Adapt gtk-glade to new frameskip api, the behaviour looks a bit saner that the gtk one :|

------------------------------------------------------------------------
r2248 | riccardom | 2009-05-24 16:46:12 +0800 (日, 24  5月 2009) | 2 lines

Adapt to new frameskip api, there's something strange here, at frameskip 1 i have 30 more fps and the poor frameskip limiter does not kick in.

------------------------------------------------------------------------
r2247 | zeromus | 2009-05-24 15:26:15 +0800 (日, 24  5月 2009) | 2 lines

win32: add wx stub. with this, we could launch a wx dialog from win32 driver. this is not an endorsement of wx or even the philosophy of cross platform ui but rather a favor to those lunatics that mumble about cross platform stuff, so that they can drop wx dialogs into the emu core and launch them from windows without having to rewrite the entire windows port to use wx.

------------------------------------------------------------------------
r2246 | adelikat | 2009-05-24 03:51:51 +0800 (日, 24  5月 2009) | 2 lines

Win32 - disabled savestate, loadstate, and setsaveslot hotkeys when no rom is loaded.

------------------------------------------------------------------------
r2245 | luigi__ | 2009-05-24 03:30:29 +0800 (日, 24  5月 2009) | 3 lines

I finally figured out why 2D and 3D get desynced when skipping 3D frames.
Thus, I fixed the frameskip system so it'll also skip 3D frames. 2D and 3D stay synchronized, and frameskip is now much faster when using the soft rasterizer, for example.

------------------------------------------------------------------------
r2244 | riccardom | 2009-05-22 02:28:26 +0800 (五, 22  5月 2009) | 2 lines

We really want to know when the savetype discovery fails so it's easier for people to report.

------------------------------------------------------------------------
r2243 | zeromus | 2009-05-22 01:44:59 +0800 (五, 22  5月 2009) | 2 lines

gpu: take out that assert. it has done its job and proven that we can't make that assumption

------------------------------------------------------------------------
r2242 | riccardom | 2009-05-22 00:19:25 +0800 (五, 22  5月 2009) | 2 lines

Autosave for scooby-doo! Unmasked.

------------------------------------------------------------------------
r2241 | zeromus | 2009-05-21 22:59:19 +0800 (四, 21  5月 2009) | 2 lines

gpu: ensure the thing that the assert catches, just for release builds so that people wont find subtle errors. we really need better error and info reporting facilities.

------------------------------------------------------------------------
r2240 | zeromus | 2009-05-21 16:55:37 +0800 (四, 21  5月 2009) | 2 lines

gpu: reorder the layer rendering, capture, and final display, to be a little less confusing, and it should get rid of a frame of latency on motion blurs

------------------------------------------------------------------------
r2239 | zeromus | 2009-05-21 16:45:34 +0800 (四, 21  5月 2009) | 2 lines

gfx3d: sorry, the poly sorting callback must be this way. there must be something else going wrong where this breaks

------------------------------------------------------------------------
r2238 | zeromus | 2009-05-21 15:17:11 +0800 (四, 21  5月 2009) | 2 lines

gpu: display capture: fix bug blending vram + 2d/3d causing 2d elements to be black

------------------------------------------------------------------------
r2237 | zeromus | 2009-05-21 14:04:46 +0800 (四, 21  5月 2009) | 2 lines

spu: fix bug with badly messed up sequenced music

------------------------------------------------------------------------
r2236 | zeromus | 2009-05-21 13:44:55 +0800 (四, 21  5月 2009) | 2 lines

win32: fiddle with the mic input, moving it towards more reliability

------------------------------------------------------------------------
r2235 | zeromus | 2009-05-21 13:04:11 +0800 (四, 21  5月 2009) | 2 lines

win32: fix bug in mic reading which makes it return unpredictable garbage 100% of the time

------------------------------------------------------------------------
r2234 | zeromus | 2009-05-21 10:20:54 +0800 (四, 21  5月 2009) | 2 lines

win32: set correct fastbuild output path for vs2008

------------------------------------------------------------------------
r2233 | zeromus | 2009-05-21 05:41:36 +0800 (四, 21  5月 2009) | 2 lines

add another autodetection. still &3

------------------------------------------------------------------------
r2232 | zeromus | 2009-05-21 04:17:04 +0800 (四, 21  5月 2009) | 2 lines

add another autodetection (still &3)

------------------------------------------------------------------------
r2231 | mtabachenko | 2009-05-20 16:34:12 +0800 (三, 20  5月 2009) | 3 lines

core:
- fix poly sort (zeromus, check it), now fix Harvest Moon, Orc & Elves, but some game broken (from rev 2230 - Lunar Knight, Orc & Elves no sprites);

------------------------------------------------------------------------
r2230 | zeromus | 2009-05-20 14:17:30 +0800 (三, 20  5月 2009) | 2 lines

we now have proof that a stable sort is necessary for poly sorting. this fixes advance wars regression

------------------------------------------------------------------------
r2229 | zeromus | 2009-05-20 14:05:39 +0800 (三, 20  5月 2009) | 2 lines

re-add duc importing for new savefile system

------------------------------------------------------------------------
r2228 | zeromus | 2009-05-20 12:46:23 +0800 (三, 20  5月 2009) | 2 lines

win32: dont reset spu from sound config dialog unless the core changes

------------------------------------------------------------------------
r2227 | zeromus | 2009-05-20 12:31:18 +0800 (三, 20  5月 2009) | 2 lines

this might fix the periodic crash with a null polylist

------------------------------------------------------------------------
r2226 | zeromus | 2009-05-20 11:23:16 +0800 (三, 20  5月 2009) | 2 lines

add another autodetection

------------------------------------------------------------------------
r2225 | riccardom | 2009-05-20 04:08:38 +0800 (三, 20  5月 2009) | 2 lines

Move variables in the same order they are inited.

------------------------------------------------------------------------
r2224 | riccardom | 2009-05-20 04:07:47 +0800 (三, 20  5月 2009) | 2 lines

put some unused / commented code into ifdef to shut up gcc warnings.

------------------------------------------------------------------------
r2223 | riccardom | 2009-05-20 04:00:23 +0800 (三, 20  5月 2009) | 2 lines

Declare variables in the same order they are inited to shut up gcc warnings.

------------------------------------------------------------------------
r2222 | zeromus | 2009-05-20 01:21:55 +0800 (三, 20  5月 2009) | 2 lines

add another autodetect case. still conforming to the &3 pattern...

------------------------------------------------------------------------
r2221 | zeromus | 2009-05-20 00:34:12 +0800 (三, 20  5月 2009) | 2 lines

add another autodetect case

------------------------------------------------------------------------
r2220 | zeromus | 2009-05-19 11:26:15 +0800 (二, 19  5月 2009) | 2 lines

gfx3d: make 'alternate flush mode' emulation option. this option toggles between two methods, neither of which is entirely accurate such that under one of the modes, certain games are unplayable. if a game is fixed by alternate flush mode, please report it in the bug tracker under that category for data collecting purposes. also hooked up this option in windows.

------------------------------------------------------------------------
r2219 | normmatt234 | 2009-05-19 04:36:21 +0800 (二, 19  5月 2009) | 2 lines

add another autodetectoin

------------------------------------------------------------------------
r2218 | zeromus | 2009-05-19 04:31:11 +0800 (二, 19  5月 2009) | 2 lines

add another autodetectoin

------------------------------------------------------------------------
r2217 | riccardom | 2009-05-19 03:18:52 +0800 (二, 19  5月 2009) | 2 lines

Shut up a few gcc warnings in GPU.cpp.

------------------------------------------------------------------------
r2216 | yabause | 2009-05-19 02:57:48 +0800 (二, 19  5月 2009) | 3 lines

Added some #if and some workaround so we only need
gtk 2.8 now.

------------------------------------------------------------------------
r2215 | zeromus | 2009-05-19 01:28:34 +0800 (二, 19  5月 2009) | 2 lines

add another autodetection

------------------------------------------------------------------------
r2214 | zeromus | 2009-05-19 01:15:22 +0800 (二, 19  5月 2009) | 2 lines

add another autodetection

------------------------------------------------------------------------
r2213 | zeromus | 2009-05-19 01:01:00 +0800 (二, 19  5月 2009) | 2 lines

add another autodetection

------------------------------------------------------------------------
r2212 | mtabachenko | 2009-05-18 15:35:26 +0800 (一, 18  5月 2009) | 2 lines

- fix windows resource;

------------------------------------------------------------------------
r2211 | normmatt234 | 2009-05-18 15:24:47 +0800 (一, 18  5月 2009) | 2 lines

Implement a few of the new card commands used in Made in Ore. It wont save but at least it boots now. This is just a temporary fix until something better can be worked out.

------------------------------------------------------------------------
r2210 | zeromus | 2009-05-18 14:49:51 +0800 (一, 18  5月 2009) | 2 lines

fix shared 2-bank shared wram mapping; add Release FastBuild to 2008 vcproj

------------------------------------------------------------------------
r2209 | zeromus | 2009-05-18 14:32:05 +0800 (一, 18  5月 2009) | 2 lines

win32: fix vs2008 project to support zipped roms in debug builds

------------------------------------------------------------------------
r2208 | zeromus | 2009-05-18 13:48:43 +0800 (一, 18  5月 2009) | 2 lines

fix bad new crashiness

------------------------------------------------------------------------
r2207 | zeromus | 2009-05-18 13:36:50 +0800 (一, 18  5月 2009) | 2 lines

gfx3d: fix stack corruption in normal command

------------------------------------------------------------------------
r2206 | zeromus | 2009-05-18 13:34:51 +0800 (一, 18  5月 2009) | 2 lines

win32: fix buffer overflow in savestate description generation

------------------------------------------------------------------------
r2205 | zeromus | 2009-05-18 13:07:38 +0800 (一, 18  5月 2009) | 3 lines

savedata: handle warioware touched (still gathering test cases, keep them coming)
win32: fix vs2005 fastbuild output directory

------------------------------------------------------------------------
r2204 | zeromus | 2009-05-18 12:37:03 +0800 (一, 18  5月 2009) | 2 lines

fix linux compile?

------------------------------------------------------------------------
r2203 | zeromus | 2009-05-18 12:25:19 +0800 (一, 18  5月 2009) | 2 lines

new save file system. the manual save type selection no longer does anything. If you think you still need it, we need to study the case and find out why.

------------------------------------------------------------------------
r2202 | gocha | 2009-05-18 08:15:48 +0800 (一, 18  5月 2009) | 2 lines

win32 - added wav recording

------------------------------------------------------------------------
r2201 | gocha | 2009-05-18 06:58:35 +0800 (一, 18  5月 2009) | 2 lines

Merged "Stop AVI" to "Record AVI"

------------------------------------------------------------------------
r2200 | riccardom | 2009-05-18 03:11:28 +0800 (一, 18  5月 2009) | 2 lines

Fix b shadowing warning.

------------------------------------------------------------------------
r2199 | zeromus | 2009-05-18 02:53:14 +0800 (一, 18  5月 2009) | 2 lines

fix up linux compiling

------------------------------------------------------------------------
r2198 | zeromus | 2009-05-18 01:05:29 +0800 (一, 18  5月 2009) | 2 lines

fix [2792967] Emulator crash when opening homebrew 4k intro

------------------------------------------------------------------------
r2197 | adelikat | 2009-05-17 22:58:00 +0800 (日, 17  5月 2009) | 2 lines

movies - add romname to movie when movie is created.  Win32 - Replay dialog - added some fields such as length, frames, etc.  Fields are not yet hooked up however.

------------------------------------------------------------------------
r2196 | gocha | 2009-05-17 15:30:39 +0800 (日, 17  5月 2009) | 2 lines

prevent a crash reported by Robert

------------------------------------------------------------------------
r2195 | normmatt234 | 2009-05-17 13:58:08 +0800 (日, 17  5月 2009) | 3 lines

Fix windows disassembler goto addressing.
Clear SPI variables on reset.

------------------------------------------------------------------------
r2194 | zeromus | 2009-05-17 12:58:24 +0800 (日, 17  5月 2009) | 2 lines

add gochas rerecording fixes

------------------------------------------------------------------------
r2193 | zeromus | 2009-05-17 09:26:51 +0800 (日, 17  5月 2009) | 2 lines

i really should quit checking in debug printfs

------------------------------------------------------------------------
r2192 | luigi__ | 2009-05-17 09:08:25 +0800 (日, 17  5月 2009) | 2 lines

Oops... don't know why IDC_SPU_INTERPOLATE_CB was removed...

------------------------------------------------------------------------
r2191 | matusz | 2009-05-17 09:02:17 +0800 (日, 17  5月 2009) | 2 lines

change 2 debug printf's to LOG's (should add SPUDEBUG logging channel?)

------------------------------------------------------------------------
r2190 | luigi__ | 2009-05-17 08:59:59 +0800 (日, 17  5月 2009) | 2 lines

Oh shit... tiny fix to the I/O reg dialog.

------------------------------------------------------------------------
r2189 | zeromus | 2009-05-17 08:21:41 +0800 (日, 17  5月 2009) | 2 lines

core: make adpcm cache optional (defaulted to off) temporarily until it can handle streams well. i have a plan for that but i am burnt out on it for now. bind that option into win32 gui

------------------------------------------------------------------------
r2188 | luigi__ | 2009-05-17 07:46:08 +0800 (日, 17  5月 2009) | 2 lines

Commit the remaining I/O reg viewer tab templates once for good.

------------------------------------------------------------------------
r2187 | matusz | 2009-05-17 07:18:40 +0800 (日, 17  5月 2009) | 5 lines

gtk port: janitorial stuff
some changes to make the code meaning more obvious:
split, move and rename of a few functions
add empty (for now) configure event

------------------------------------------------------------------------
r2186 | zeromus | 2009-05-17 06:22:06 +0800 (日, 17  5月 2009) | 2 lines

spu: interpolation is now an emulator option, defaulting to linear, and it is bound to the win32 gui. choosing interpolation:none can net you a small framerate boost.

------------------------------------------------------------------------
r2185 | matusz | 2009-05-17 02:39:06 +0800 (日, 17  5月 2009) | 2 lines

cli port: silence a 'shadow' warning

------------------------------------------------------------------------
r2184 | riccardom | 2009-05-17 02:14:37 +0800 (日, 17  5月 2009) | 2 lines

nds_screen_rotation_angle is really an int.

------------------------------------------------------------------------
r2183 | matusz | 2009-05-17 02:08:57 +0800 (日, 17  5月 2009) | 2 lines

one correct and one bogus warning silenced

------------------------------------------------------------------------
r2182 | riccardom | 2009-05-17 01:56:11 +0800 (日, 17  5月 2009) | 2 lines

Shut up a few gcc warnings, mostly signed vs unsigned.

------------------------------------------------------------------------
r2181 | matusz | 2009-05-17 01:48:25 +0800 (日, 17  5月 2009) | 2 lines

gtk port: allow interscreen gap

------------------------------------------------------------------------
r2180 | zeromus | 2009-05-17 00:32:35 +0800 (日, 17  5月 2009) | 2 lines

fix spu in non-windows builds.

------------------------------------------------------------------------
r2179 | zeromus | 2009-05-16 15:08:48 +0800 (六, 16  5月 2009) | 2 lines

didnt mean to checkin debug printfs

------------------------------------------------------------------------
r2178 | zeromus | 2009-05-16 14:59:12 +0800 (六, 16  5月 2009) | 2 lines

spu: sorry about the float/double thing. how about this instead: added an adpcm decode cache system.

------------------------------------------------------------------------
r2177 | luigi__ | 2009-05-16 05:56:13 +0800 (六, 16  5月 2009) | 2 lines

Reverted the types of the sample counters to double. Using floats was causing wrong frequencies sometimes.

------------------------------------------------------------------------
r2176 | adelikat | 2009-05-15 23:40:09 +0800 (五, 15  5月 2009) | 2 lines

Win32 - applied patch from Hicoder ID: 2780499, Menu option for window always on top.

------------------------------------------------------------------------
r2175 | adelikat | 2009-05-15 23:13:17 +0800 (五, 15  5月 2009) | 2 lines

Win32 - Recent ROM menu - if a recent rom doesn't exist it will now prompt the user if he wants to remove the item.

------------------------------------------------------------------------
r2174 | adelikat | 2009-05-15 21:10:33 +0800 (五, 15  5月 2009) | 2 lines

Stop movie hotkey hooked up, Play & Record movie hooked up but commented out because of a bug that causes the dialogs to open twice.

------------------------------------------------------------------------
r2173 | mtabachenko | 2009-05-15 01:51:03 +0800 (五, 15  5月 2009) | 3 lines

winport:
-fix Intel C++ project; :)

------------------------------------------------------------------------
r2172 | matusz | 2009-05-14 18:08:18 +0800 (四, 14  5月 2009) | 2 lines

just a bunch of propsets for svn:eol-style=native

------------------------------------------------------------------------
r2171 | matusz | 2009-05-14 17:54:14 +0800 (四, 14  5月 2009) | 2 lines

SPU: gcc does not like a goto, changing it to a block

------------------------------------------------------------------------
r2170 | zeromus | 2009-05-14 16:08:27 +0800 (四, 14  5月 2009) | 2 lines

a few minor speedups to spu. the doubles have been changed to float. i think this should be safe...

------------------------------------------------------------------------
r2169 | zeromus | 2009-05-14 05:44:47 +0800 (四, 14  5月 2009) | 2 lines

revert geometry flush timing to an older form. can't remember what this was supposed to fix. it was supposed to be more accurate, but it turns out to be way more complicated than I thought. the form i am checking in now should be an effective approximation. This will fix some games whose 3d was entirely broken (and even crashing the emulator). But I am more interested in what regressions it will cause, which may involve broken dual screen 3d modes or other bugs with things flickering in and out of existence. these I will track in detail while I try to understand the problem.

------------------------------------------------------------------------
r2168 | riccardom | 2009-05-14 04:01:35 +0800 (四, 14  5月 2009) | 2 lines

I think is more natural for a gtkToggleActionEntry to query the GtkToggleAction to be active instead of checking if the widget is already visible or not.

------------------------------------------------------------------------
r2167 | adelikat | 2009-05-14 01:33:08 +0800 (四, 14  5月 2009) | 2 lines

Win32 - Added Play Movie, Record Movie, and Stop Movie hotkeys, they are not yet functional though

------------------------------------------------------------------------
r2166 | adelikat | 2009-05-14 00:38:04 +0800 (四, 14  5月 2009) | 2 lines

Win32 - Hotkeys - Added a Movie page, moved read only toggle to that page

------------------------------------------------------------------------
r2165 | zeromus | 2009-05-13 15:44:06 +0800 (三, 13  5月 2009) | 2 lines

a number of little graphical speedups, and more intelligent arm7 memory access pattern optimization. good for a few fps.

------------------------------------------------------------------------
r2164 | zeromus | 2009-05-13 13:35:31 +0800 (三, 13  5月 2009) | 2 lines

gpu: fix regression introduced yesterday which messed up layer blending

------------------------------------------------------------------------
r2163 | riccardom | 2009-05-13 03:39:23 +0800 (三, 13  5月 2009) | 4 lines

Remember to load default config for keys and joypad so no need
to mess ourself setting them if we don't find the group in the
config file.

------------------------------------------------------------------------
r2162 | riccardom | 2009-05-13 03:26:34 +0800 (三, 13  5月 2009) | 2 lines

Add missing file, thanks Guillame for noticing.

------------------------------------------------------------------------
r2161 | riccardom | 2009-05-13 03:05:56 +0800 (三, 13  5月 2009) | 4 lines

Rework the way config file works in gtk frontend. From a write once on exit
we are moving to write only what changed when is changed model which i think
is more correct.

------------------------------------------------------------------------
r2160 | adelikat | 2009-05-13 00:35:22 +0800 (三, 13  5月 2009) | 2 lines

Win32 - RamWatch - hooked up accel table

------------------------------------------------------------------------
r2159 | adelikat | 2009-05-12 23:23:45 +0800 (二, 12  5月 2009) | 2 lines

Win32 - Code cleanup

------------------------------------------------------------------------
r2158 | adelikat | 2009-05-12 21:12:28 +0800 (二, 12  5月 2009) | 2 lines

Win32 - Tiny speedup - UpdateRamWatch & UpdateRamSearch return immediately if dialogs are not open

------------------------------------------------------------------------
r2157 | adelikat | 2009-05-12 20:15:42 +0800 (二, 12  5月 2009) | 2 lines

Win32 - minor Resource file cleanup

------------------------------------------------------------------------
r2156 | zeromus | 2009-05-12 15:48:45 +0800 (二, 12  5月 2009) | 2 lines

large speedup in bg pixel pipeline

------------------------------------------------------------------------
r2155 | p989 | 2009-05-11 12:40:28 +0800 (一, 11  5月 2009) | 2 lines

win32: fixed ram search endianness

------------------------------------------------------------------------
r2154 | riccardom | 2009-05-10 22:33:20 +0800 (日, 10  5月 2009) | 2 lines

Random cleanup: move some struct definitions, defines, global variables on top. Remove some silly banners or move them where they belong.

------------------------------------------------------------------------
r2153 | adelikat | 2009-05-10 05:56:09 +0800 (日, 10  5月 2009) | 2 lines

Win32 - UpdateHotkeyAssigments() - More hotkeys added.

------------------------------------------------------------------------
r2152 | adelikat | 2009-05-10 03:36:03 +0800 (日, 10  5月 2009) | 2 lines

Win32 - UpdateHotkeyAssignments() - code cleanup

------------------------------------------------------------------------
r2151 | adelikat | 2009-05-10 03:09:09 +0800 (日, 10  5月 2009) | 2 lines

Win32 - UpdateHotkeyAssignment() - fixed up code, not elegant but gets proper results

------------------------------------------------------------------------
r2150 | riccardom | 2009-05-10 01:00:32 +0800 (日, 10  5月 2009) | 2 lines

Simplify Modify_Layer() by removing some superfluos checks, we really don't care if the layer was already in the state we want now.

------------------------------------------------------------------------
r2149 | adelikat | 2009-05-10 00:13:09 +0800 (日, 10  5月 2009) | 2 lines

Win32 - UpdateHotkeyAssignments() added Save Screenshot As.  However, the keys struct doesn't properly return F keys as strings.

------------------------------------------------------------------------
r2148 | adelikat | 2009-05-09 23:37:36 +0800 (六, 09  5月 2009) | 2 lines

Win32 - minor fix to UpdateHotkeyAssignments()

------------------------------------------------------------------------
r2147 | riccardom | 2009-05-09 18:26:46 +0800 (六, 09  5月 2009) | 6 lines

Add the possibility to have a desmume quit after a timeout. The idea is to use
this feature in conjunction with load state to have a more reliable way of
profiling the same stuff in different moments. A companion to this patch
would be a script that start the profiler, start desmume and close the profiler
once desmume exited.

------------------------------------------------------------------------
r2146 | adelikat | 2009-05-09 12:09:21 +0800 (六, 09  5月 2009) | 2 lines

Win32 - UpdateHotkeyAssignments - now retrieves key assignment from hotkeys

------------------------------------------------------------------------
r2145 | p989 | 2009-05-09 12:07:51 +0800 (六, 09  5月 2009) | 2 lines

win32: pause is now the default for pause hotkey

------------------------------------------------------------------------
r2144 | p989 | 2009-05-09 10:51:11 +0800 (六, 09  5月 2009) | 2 lines

win32: pause works as a hotkey

------------------------------------------------------------------------
r2143 | adelikat | 2009-05-09 10:37:57 +0800 (六, 09  5月 2009) | 2 lines

Win32 cleanup - Removed redundant GetHWND() that I made previously.  Moved GetRomName() to common.h.  Moved Ram Watch and Ram Search menu items to tools menu.

------------------------------------------------------------------------
r2142 | adelikat | 2009-05-09 09:42:44 +0800 (六, 09  5月 2009) | 2 lines

Win32 - fix accelerator table for RamWatch

------------------------------------------------------------------------
r2141 | adelikat | 2009-05-09 09:40:54 +0800 (六, 09  5月 2009) | 2 lines

Win32 - Ramwatch - oops

------------------------------------------------------------------------
r2140 | adelikat | 2009-05-09 09:10:08 +0800 (六, 09  5月 2009) | 2 lines

Win32 - Ramwatch - fixed AskSave() when called from main window

------------------------------------------------------------------------
r2139 | matusz | 2009-05-09 06:32:16 +0800 (六, 09  5月 2009) | 2 lines

gtk-port: give pause/run focus

------------------------------------------------------------------------
r2138 | riccardom | 2009-05-09 06:20:22 +0800 (六, 09  5月 2009) | 2 lines

Move a couple of includes at top of the file

------------------------------------------------------------------------
r2137 | riccardom | 2009-05-09 06:03:50 +0800 (六, 09  5月 2009) | 2 lines

Cleanup SetRotation() a bit: use a single switch instead of multiple if, instead of exiting with a not correct angle just reset it to 0.

------------------------------------------------------------------------
r2135 | riccardom | 2009-05-09 05:16:38 +0800 (六, 09  5月 2009) | 2 lines

Remove some unneeded code from gpu_screen_to_rgb().

------------------------------------------------------------------------
r2133 | riccardom | 2009-05-09 03:51:15 +0800 (六, 09  5月 2009) | 2 lines

Set the current dir for the gtk file chooser to user home dir instead of the current path.

------------------------------------------------------------------------
r2132 | riccardom | 2009-05-09 03:41:35 +0800 (六, 09  5月 2009) | 2 lines

Let nds filter in the file chooser match againt upper case extensions.

------------------------------------------------------------------------
r2131 | adelikat | 2009-05-08 21:57:42 +0800 (五, 08  5月 2009) | 2 lines

credz

------------------------------------------------------------------------
r2130 | adelikat | 2009-05-08 21:52:28 +0800 (五, 08  5月 2009) | 2 lines

Win32 - main.cpp now keeps track of current RomName.  Set up a GetRomName() function to return name of ROM (useful for default filenames on OPENFILENAME dialogs.  Ramwatch - uses romname for default .wch filename.

------------------------------------------------------------------------
r2129 | adelikat | 2009-05-08 21:18:38 +0800 (五, 08  5月 2009) | 2 lines

Win32 - RamWatch - code cleanup

------------------------------------------------------------------------
r2128 | adelikat | 2009-05-08 20:50:43 +0800 (五, 08  5月 2009) | 2 lines

Win32 - RamWatch and RamSearch update values when Load As is selected

------------------------------------------------------------------------
r2127 | adelikat | 2009-05-08 20:43:06 +0800 (五, 08  5月 2009) | 2 lines

win32 - ramwatch - now updates values on loadstate

------------------------------------------------------------------------
r2126 | zeromus | 2009-05-08 13:32:00 +0800 (五, 08  5月 2009) | 2 lines

win32: fix auto ramwatch load getting ignored (and making it always autoload)

------------------------------------------------------------------------
r2125 | zeromus | 2009-05-08 13:24:24 +0800 (五, 08  5月 2009) | 2 lines

fix bug introduced in rev 2092 which made switching 3d renderers crashy. thanks pokefan

------------------------------------------------------------------------
r2124 | adelikat | 2009-05-08 08:21:49 +0800 (五, 08  5月 2009) | 2 lines

Win32 - Ram Search - Watch button hooked up.  Also, prompt dialog added to resource file (this could be useful for other generic input as well).

------------------------------------------------------------------------
r2123 | adelikat | 2009-05-08 08:09:43 +0800 (五, 08  5月 2009) | 2 lines

Win32 - Added Update_Ram_Search() and Update_Ram_Watch() to loadstate function.  However, the values still do not update until the dialog refreshes (such as minimizing and restoring)

------------------------------------------------------------------------
r2122 | yabause | 2009-05-08 07:49:03 +0800 (五, 08  5月 2009) | 3 lines

More endian fixes. Now the first screen with 3D in SPP
displays correctly.

------------------------------------------------------------------------
r2121 | matusz | 2009-05-08 04:17:27 +0800 (五, 08  5月 2009) | 2 lines

gtk-port: make interface elements hideable

------------------------------------------------------------------------
r2120 | adelikat | 2009-05-08 01:19:51 +0800 (五, 08  5月 2009) | 2 lines

Win32 - Added an accel table for Ram Watch, key combos with shift or ctrl are unfinished since you can't add shift or ctrl with RESEdit.  Woo, RESEdit.

------------------------------------------------------------------------
r2119 | adelikat | 2009-05-08 01:11:06 +0800 (五, 08  5月 2009) | 2 lines

Win32 - Prevent loading Ram Watch and Ram Search dialog if no rom is loaded.

------------------------------------------------------------------------
r2118 | adelikat | 2009-05-08 00:47:53 +0800 (五, 08  5月 2009) | 2 lines

Win32 - RamWatch - main window will load the watch file now

------------------------------------------------------------------------
r2117 | adelikat | 2009-05-08 00:41:51 +0800 (五, 08  5月 2009) | 2 lines

Win32 - Ramwatch - autoload now auto-loads the watch file.  However, only when opening the dialog manually, not when desmume main does.

------------------------------------------------------------------------
r2116 | adelikat | 2009-05-08 00:32:55 +0800 (五, 08  5月 2009) | 2 lines

Win32 - Ramwatch - Auto-load hooked up to main

------------------------------------------------------------------------
r2115 | adelikat | 2009-05-08 00:17:22 +0800 (五, 08  5月 2009) | 2 lines

Win32 - RamWatch - Recent Watch menu now hooked up

------------------------------------------------------------------------
r2114 | matusz | 2009-05-07 20:05:45 +0800 (四, 07  5月 2009) | 2 lines

gtk-port: 'load from' and 'save to' for savestates

------------------------------------------------------------------------
r2113 | zeromus | 2009-05-07 14:19:23 +0800 (四, 07  5月 2009) | 2 lines

maybe id better not check that in with the debug texture dumping enabled

------------------------------------------------------------------------
r2112 | zeromus | 2009-05-07 14:14:38 +0800 (四, 07  5月 2009) | 2 lines

fix bug in 16bpp texturing across vram banks

------------------------------------------------------------------------
r2111 | zeromus | 2009-05-07 14:05:43 +0800 (四, 07  5月 2009) | 2 lines

fix a crash in matrix stack handling which was corrupting emulator state

------------------------------------------------------------------------
r2110 | zeromus | 2009-05-07 12:51:54 +0800 (四, 07  5月 2009) | 2 lines

gpu: fix a bug added today which causes the backdrop not to get drawn sometimes

------------------------------------------------------------------------
r2109 | zeromus | 2009-05-07 04:50:26 +0800 (四, 07  5月 2009) | 2 lines

fix tex coord transform mode 3, which had been entirely broken since rev 1411; this will fix some cases of 3d ortho sprites

------------------------------------------------------------------------
r2108 | zeromus | 2009-05-07 03:57:08 +0800 (四, 07  5月 2009) | 2 lines

fix #2787953 (2D windows and colour effects on the backdrop)

------------------------------------------------------------------------
r2107 | zeromus | 2009-05-06 14:58:40 +0800 (三, 06  5月 2009) | 2 lines

fix bug where dma length > 128k words was misinterpreted, causing catastrophic failure.

------------------------------------------------------------------------
r2105 | zeromus | 2009-05-06 12:49:58 +0800 (三, 06  5月 2009) | 2 lines

win32: fix tile viewer lcdc mode which broke due to changed memory mapping

------------------------------------------------------------------------
r2104 | p989 | 2009-05-06 12:48:39 +0800 (三, 06  5月 2009) | 2 lines

integrate previous with trunk

------------------------------------------------------------------------
r2102 | zeromus | 2009-05-06 12:13:46 +0800 (三, 06  5月 2009) | 2 lines

win32: rollback filename parsing patch. it can't handle filenames with spaces. i know that was the point, but it doesnt even work with quoted paths.

------------------------------------------------------------------------
r2101 | riccardom | 2009-05-06 03:00:13 +0800 (三, 06  5月 2009) | 2 lines

Last hunk of ldesnogue patch to make desmume more 64 bit architectures friendly: convert Ceil28_4 to use int instead of long.

------------------------------------------------------------------------
r2100 | zeromus | 2009-05-06 01:45:13 +0800 (三, 06  5月 2009) | 2 lines

win32: apply HerrDoktorTuba patch 2787336 for better commandline parsing

------------------------------------------------------------------------
r2098 | zeromus | 2009-05-06 00:36:38 +0800 (三, 06  5月 2009) | 2 lines

take out the thing that made vc2008 express not compile

------------------------------------------------------------------------
r2097 | adelikat | 2009-05-06 00:15:18 +0800 (三, 06  5月 2009) | 2 lines

Win32 - RamWatch Hooked up AskSave() to the main window closing function.  However, AskSave() fails to open the message box when called from there.

------------------------------------------------------------------------
r2096 | adelikat | 2009-05-06 00:03:12 +0800 (三, 06  5月 2009) | 2 lines

Win32 - RamWatch- saves "Save Window position" bool, and saves window position values in .ini

------------------------------------------------------------------------
r2094 | zeromus | 2009-05-05 15:30:27 +0800 (二, 05  5月 2009) | 2 lines

a handful of tiny optimizations and important bugfixes in gfx3d savestates. also add a MSC_FORCEINLINE macro for people to use instead when they doing like my FORCEINLINES and are thinking about removing them. at least then we know which ones didnt work on gcc.

------------------------------------------------------------------------
r2093 | zeromus | 2009-05-05 08:02:43 +0800 (二, 05  5月 2009) | 2 lines

win32: fix #2785867 (date & timestamp not shown on savestate slot immediately)

------------------------------------------------------------------------
r2092 | zeromus | 2009-05-05 07:36:46 +0800 (二, 05  5月 2009) | 2 lines

import latest from rerecording branch

------------------------------------------------------------------------
r2091 | riccardom | 2009-05-05 03:13:57 +0800 (二, 05  5月 2009) | 3 lines

Use cast instead of implicit conversion in rasterize.cpp.
Taken from ldesnogue's patch at #2752961.

------------------------------------------------------------------------
r2090 | riccardom | 2009-05-05 02:09:09 +0800 (二, 05  5月 2009) | 3 lines

Apply GPU.h hunk of ldesnogue's integer type patch at patch #2752961.
Patch modified to use u32 instead of int for pointer math.

------------------------------------------------------------------------
r2088 | zeromus | 2009-05-04 15:29:08 +0800 (一, 04  5月 2009) | 2 lines

integrate 2087 from rerecording_0_9_2

------------------------------------------------------------------------
r2080 | luigi__ | 2009-05-04 05:45:10 +0800 (一, 04  5月 2009) | 3 lines

Oops... fixed the invisible scrollbars.
By the way I also fixed the French version of the pal viewer which had two auto update checkboxes.

------------------------------------------------------------------------
r2079 | luigi__ | 2009-05-04 05:39:33 +0800 (一, 04  5月 2009) | 3 lines

Fixed the "None" and "Clear" menu items of the recent roms menu.
Also there's one half of the new I/O reg viewer. I'm working on the other half :P

------------------------------------------------------------------------
r2078 | luigi__ | 2009-05-04 05:30:31 +0800 (一, 04  5月 2009) | 3 lines

Moved the IDM_RESERVED_* identifiers to common.h, like the timer IDs.
Because if they stay in resource.h they'll get wiped out by Resedit. :(

------------------------------------------------------------------------
r2076 | zeromus | 2009-05-04 04:55:35 +0800 (一, 04  5月 2009) | 2 lines

integrate 2075 from rerecording branch. this touches a lot of file because merges for me always make null changes to a ton of files and i am hoping that by checking it in this once, the problem will go away

------------------------------------------------------------------------
r2073 | yabause | 2009-05-04 02:52:00 +0800 (一, 04  5月 2009) | 2 lines

Patch by Evgeni Golov for universal binary generation.

------------------------------------------------------------------------
r2072 | yabause | 2009-05-04 02:51:06 +0800 (一, 04  5月 2009) | 2 lines

Added script to build the dmg for Mac binary distribution.

------------------------------------------------------------------------
r2071 | zeromus | 2009-05-04 02:39:32 +0800 (一, 04  5月 2009) | 2 lines

maybe one other thing we should do to reset backupmem

------------------------------------------------------------------------
r2070 | zeromus | 2009-05-04 02:12:29 +0800 (一, 04  5月 2009) | 2 lines

gah. rollback that sln

------------------------------------------------------------------------
r2069 | zeromus | 2009-05-04 02:10:30 +0800 (一, 04  5月 2009) | 2 lines

although the last change probably wouldve worked, this fix solves the real problem: save ram didnt close file pointers when roms reset

------------------------------------------------------------------------
r2068 | p989 | 2009-05-04 00:26:39 +0800 (一, 04  5月 2009) | 2 lines

sram clearing fix

------------------------------------------------------------------------
r2067 | yabause | 2009-05-03 19:49:46 +0800 (日, 03  5月 2009) | 3 lines

Patch by Evgeni Golov to fix compilation problem on
case sensitive OSX.

------------------------------------------------------------------------
r2066 | p989 | 2009-05-03 07:19:19 +0800 (日, 03  5月 2009) | 2 lines

fixed wrong byte order in ram search

------------------------------------------------------------------------
r2065 | zeromus | 2009-05-03 06:14:05 +0800 (日, 03  5月 2009) | 2 lines

this should fix use of uninitialized pad value

------------------------------------------------------------------------
r2064 | yabause | 2009-05-03 05:31:48 +0800 (日, 03  5月 2009) | 2 lines

Fixed endianess bugs so now controls are working :)

------------------------------------------------------------------------
r2063 | zeromus | 2009-05-03 03:58:18 +0800 (日, 03  5月 2009) | 2 lines

more fixes to affine scroll handling: fixes nsmb backdrops

------------------------------------------------------------------------
r2062 | zeromus | 2009-05-03 02:40:42 +0800 (日, 03  5月 2009) | 2 lines

remove 'MOVI' and 'NOMO'

------------------------------------------------------------------------
r2061 | riccardom | 2009-05-03 02:31:08 +0800 (日, 03  5月 2009) | 2 lines

Make a functin without declaration static.

------------------------------------------------------------------------
r2060 | riccardom | 2009-05-03 02:30:27 +0800 (日, 03  5月 2009) | 2 lines

Fixup a printf.

------------------------------------------------------------------------
r2059 | zeromus | 2009-05-03 01:57:06 +0800 (日, 03  5月 2009) | 2 lines

fix compile errors in movie.cpp

------------------------------------------------------------------------
r2058 | riccardom | 2009-05-02 20:22:35 +0800 (六, 02  5月 2009) | 2 lines

Add proper include file for memset.

------------------------------------------------------------------------
r2057 | riccardom | 2009-05-02 20:21:24 +0800 (六, 02  5月 2009) | 2 lines

ifdef windows specific include, i've used _MSC_VER because it's the same used for MessageBox.

------------------------------------------------------------------------
r2056 | riccardom | 2009-05-02 20:03:54 +0800 (六, 02  5月 2009) | 2 lines

Move ifdef at column 0.

------------------------------------------------------------------------
r2055 | zeromus | 2009-05-02 16:13:42 +0800 (六, 02  5月 2009) | 2 lines

[2783433] fix 64bit error in savestate writing (thanks martin)

------------------------------------------------------------------------
r2054 | zeromus | 2009-05-02 16:06:45 +0800 (六, 02  5月 2009) | 2 lines

improve compatibility even more. i have learned my lesson, all future stuff will be versioned. i thought it was a pain, but listening to people cry about their broken savestates is an even bigger pain.

------------------------------------------------------------------------
r2053 | zeromus | 2009-05-02 16:02:52 +0800 (六, 02  5月 2009) | 2 lines

even more improvements to savetate compatibility

------------------------------------------------------------------------
r2052 | zeromus | 2009-05-02 15:31:29 +0800 (六, 02  5月 2009) | 2 lines

fix the most egregious savestate backwards compatibility violation. also remove code which would have prevented non-windows from compiling

------------------------------------------------------------------------
r2051 | zeromus | 2009-05-02 14:39:45 +0800 (六, 02  5月 2009) | 2 lines

didnt need this file

------------------------------------------------------------------------
r2050 | zeromus | 2009-05-02 14:39:08 +0800 (六, 02  5月 2009) | 2 lines

integrate stuff from rerecording branch

------------------------------------------------------------------------
r2046 | luigi__ | 2009-05-02 04:56:54 +0800 (六, 02  5月 2009) | 2 lines

Fixed a bug with 3D layer scrolling where that layer would wrap incorrectly.

------------------------------------------------------------------------
r2045 | yabause | 2009-05-01 14:34:03 +0800 (五, 01  5月 2009) | 3 lines

removed some printf code that I forgot to clean up before
commiting... sorry ^^;

------------------------------------------------------------------------
r2044 | zeromus | 2009-05-01 12:51:49 +0800 (五, 01  5月 2009) | 2 lines

removed too much debug logging

------------------------------------------------------------------------
r2043 | matusz | 2009-05-01 07:51:37 +0800 (五, 01  5月 2009) | 2 lines

gtk port scaling: allow NEAREST interpolation in addition to BILINEAR

------------------------------------------------------------------------
r2042 | yabause | 2009-05-01 06:56:51 +0800 (五, 01  5月 2009) | 2 lines

Fixed "Rotozoomed 16/16 palette" for big endian systems.

------------------------------------------------------------------------
r2041 | yabause | 2009-05-01 03:31:35 +0800 (五, 01  5月 2009) | 4 lines

Testing if the zzip_read is the old (with char *) or new
(with void *) version. When the old one is detected we
cast the second parameter to char *

------------------------------------------------------------------------
r2040 | riccardom | 2009-05-01 00:51:59 +0800 (五, 01  5月 2009) | 2 lines

Move parenthesis before the shift.

------------------------------------------------------------------------
r2039 | matusz | 2009-04-30 23:15:50 +0800 (四, 30  4月 2009) | 2 lines

gtk port: rotate stylus input when screen rotated

------------------------------------------------------------------------
r2038 | yabause | 2009-04-30 04:19:43 +0800 (四, 30  4月 2009) | 2 lines

Fix for big endian systems.

------------------------------------------------------------------------
r2037 | matusz | 2009-04-29 22:34:52 +0800 (三, 29  4月 2009) | 7 lines

gtk port: screen rotation, WIP:
  no stylus rotation,
  slower conversion from nds to rgb format
minor changes:
  remove useless alias for drawing area
  rearrange actions table to make it easier to spot hot-key conflicts

------------------------------------------------------------------------
r2036 | yabause | 2009-04-29 07:32:15 +0800 (三, 29  4月 2009) | 5 lines

Removed the errors when gtk is not found, so now you
can build cli port only.
Added an error when zlib is not found as compilation
fails if it's not here.

------------------------------------------------------------------------
r2035 | yabause | 2009-04-29 04:57:20 +0800 (三, 29  4月 2009) | 2 lines

Added some empty default case in switches to keep gcc happy.

------------------------------------------------------------------------
r2034 | yabause | 2009-04-29 04:32:47 +0800 (三, 29  4月 2009) | 4 lines

Rewrote some commented parts with #if 0 instead of /*
to avoid nested comments. (didn't remove those commented
parts as I'm not sure why they were left here.)

------------------------------------------------------------------------
r2033 | yabause | 2009-04-29 03:48:48 +0800 (三, 29  4月 2009) | 3 lines

Removed the frame limiter code based on SDL semaphore that
was commented and unused.

------------------------------------------------------------------------
r2032 | yabause | 2009-04-29 03:25:04 +0800 (三, 29  4月 2009) | 7 lines

Removed -Wswitch-enum from --enable-hardcore.
-Wall already turn on -Wswitch that reports missing
enum in a switch case. The only difference is that
-Wswitch-enum report them even if there's a default
case. I don't think we want to handle each 322 cases
of the SDLkey enum :)

------------------------------------------------------------------------
r2031 | matusz | 2009-04-28 19:08:05 +0800 (二, 28  4月 2009) | 2 lines

ChangeLog: screen resize in gtk

------------------------------------------------------------------------
r2030 | matusz | 2009-04-28 19:06:35 +0800 (二, 28  4月 2009) | 2 lines

set svn:eol-style to native for Changelog

------------------------------------------------------------------------
r2029 | matusz | 2009-04-28 18:49:41 +0800 (二, 28  4月 2009) | 2 lines

move 'FORCEINLINE mmu_gpu_map()' to MMU.h, because gcc does not like it in .cpp

------------------------------------------------------------------------
r2028 | zeromus | 2009-04-28 14:07:56 +0800 (二, 28  4月 2009) | 2 lines

revert sln file

------------------------------------------------------------------------
r2027 | zeromus | 2009-04-28 14:05:41 +0800 (二, 28  4月 2009) | 2 lines

fix an issue in vram mapping which let junk get written on the screen via LCDC. also fix a bug which was causing affine layer positions not to get written to savestates. this change will possibly BREAK YOUR SAVESTATES, but there are more changes coming which will break it anyway. Ill try and add a pass of robustification to the savestates before the next release.

------------------------------------------------------------------------
r2026 | zeromus | 2009-04-28 11:30:50 +0800 (二, 28  4月 2009) | 2 lines

more fixes to vram mapping. this time, for one particular test case, gpu accesses to unmapped memory return 0 like it is supposed to. I will wait for more test cases before I change it in other places.

------------------------------------------------------------------------
r2025 | zeromus | 2009-04-28 05:08:17 +0800 (二, 28  4月 2009) | 2 lines

gfx3d: fix condition where matrices could be read/write out of bounds of the matrix stack, clobbering some other variable in the emulator

------------------------------------------------------------------------
r2024 | zeromus | 2009-04-27 14:27:15 +0800 (一, 27  4月 2009) | 2 lines

remove that @&#@#ing assert from wifi which was the dumbest thing i ever did

------------------------------------------------------------------------
r2023 | zeromus | 2009-04-27 12:48:33 +0800 (一, 27  4月 2009) | 2 lines

fix rectangular window handling for 32bit reg writes; was caused by my own unparenthesized (macro_parameters)

------------------------------------------------------------------------
r2022 | zeromus | 2009-04-27 12:08:43 +0800 (一, 27  4月 2009) | 2 lines

fix the large screen 512KByte 8bpp bitmap BG mode which was entirely broken. along the way, fix up some affine layers which were rendering at the wrong size and thus distorted and with garbage

------------------------------------------------------------------------
r2021 | yabause | 2009-04-27 02:32:12 +0800 (一, 27  4月 2009) | 2 lines

Fixed hyphens in man pages. Thanks debian games team :)

------------------------------------------------------------------------
r2020 | riccardom | 2009-04-26 21:55:29 +0800 (日, 26  4月 2009) | 2 lines

Do less work in gtkFloatExposeEvent(), this gives me 6 more fps on a static background. The heap to stack conversion helps for less than 1 fps though.

------------------------------------------------------------------------
r2019 | mtabachenko | 2009-04-26 20:58:21 +0800 (日, 26  4月 2009) | 3 lines

winport:
- fixed toggle on/off for Action Replay (double click in list)

------------------------------------------------------------------------
r2018 | mtabachenko | 2009-04-26 19:31:33 +0800 (日, 26  4月 2009) | 2 lines

cheats: small fix in AR loop code

------------------------------------------------------------------------
r2017 | mtabachenko | 2009-04-26 19:26:20 +0800 (日, 26  4月 2009) | 2 lines

- added full Action Replay code parser; (hooks not need...?)

------------------------------------------------------------------------
r2016 | yabause | 2009-04-26 14:46:31 +0800 (日, 26  4月 2009) | 3 lines

it seems osmesa depends on GL and we need to add -lGL
so compilation works with --as-needed

------------------------------------------------------------------------
r2015 | zeromus | 2009-04-26 14:36:11 +0800 (日, 26  4月 2009) | 2 lines

nothing came out of this hour of debugging but fixing a lame typo in a variable name so by golly i will check in a fix for it

------------------------------------------------------------------------
r2014 | zeromus | 2009-04-26 13:30:48 +0800 (日, 26  4月 2009) | 2 lines

more fixes to bg affine parameter handling. I am becoming increasingly dissatisfied with the way this is handled, but we need to collect more test cases. this actually reverts the changes from rev 2010 and fixes it a better way (by adding support for 16bit affine parameter startpoint writes)

------------------------------------------------------------------------
r2013 | gecko_reverse | 2009-04-26 13:25:44 +0800 (日, 26  4月 2009) | 2 lines

updated out of date version number in cocoa ports plist file

------------------------------------------------------------------------
r2012 | zeromus | 2009-04-26 11:30:51 +0800 (日, 26  4月 2009) | 2 lines

fix bug in display capture source mode B = VRAM setting which made it just capture garbage

------------------------------------------------------------------------
r2011 | zeromus | 2009-04-26 10:48:49 +0800 (日, 26  4月 2009) | 2 lines

fix master brightness logic for parameters which are outside of the reasonable range. Fixes insane color warping during fades.

------------------------------------------------------------------------
r2010 | zeromus | 2009-04-26 07:47:55 +0800 (日, 26  4月 2009) | 2 lines

fix affine BG scroll starting points. fixes totally whack affine layer positioning

------------------------------------------------------------------------
r2009 | matusz | 2009-04-26 07:19:13 +0800 (日, 26  4月 2009) | 2 lines

gtk port: resize screen first attempt - very slow

------------------------------------------------------------------------
r2008 | zeromus | 2009-04-26 06:50:35 +0800 (日, 26  4月 2009) | 2 lines

win32: fix compiling in release builds

------------------------------------------------------------------------
r2007 | zeromus | 2009-04-26 06:35:43 +0800 (日, 26  4月 2009) | 2 lines

fix major issue with poly sorting. this fixes 3d user interface elements being invisible

------------------------------------------------------------------------
r2006 | zeromus | 2009-04-26 03:42:05 +0800 (日, 26  4月 2009) | 2 lines

fix the only memory leak that wasnt a false alarm, or gnu something, or sdl something.

------------------------------------------------------------------------
r2005 | zeromus | 2009-04-26 03:24:58 +0800 (日, 26  4月 2009) | 2 lines

accidentally checked in a hack the other day

------------------------------------------------------------------------
r2004 | riccardom | 2009-04-26 00:17:12 +0800 (日, 26  4月 2009) | 3 lines

Remember to zero current_reg on close. Should fix #2781065 and hopefully
doesn't break anything.

------------------------------------------------------------------------
r2003 | riccardom | 2009-04-25 21:44:35 +0800 (六, 25  4月 2009) | 6 lines

Spring cleanup for firmware support, put all the stuff under proper ifdef and
clean it up to make it compile. I don't have a firmware bin so the only test
i've done is to load a random text file instead and see desmume not crashing.
If someone is interested into this feature it has a bit more decent base
to start from.

------------------------------------------------------------------------
r2002 | riccardom | 2009-04-25 18:26:17 +0800 (六, 25  4月 2009) | 2 lines

Looks this modulo in savestate labels is a leftover.

------------------------------------------------------------------------
r2001 | riccardom | 2009-04-25 18:22:49 +0800 (六, 25  4月 2009) | 2 lines

Remove this Close() function that has been disabled since a long time.

------------------------------------------------------------------------
r2000 | riccardom | 2009-04-25 18:21:10 +0800 (六, 25  4月 2009) | 2 lines

Poor man's mic fake implementation, don't expect it to be similar to a blow it's just noise or not.

------------------------------------------------------------------------
r1994 | riccardom | 2009-04-25 01:14:20 +0800 (六, 25  4月 2009) | 2 lines

Rework EmuLoop to save one level of indentation.

------------------------------------------------------------------------
r1993 | riccardom | 2009-04-25 01:09:00 +0800 (六, 25  4月 2009) | 2 lines

Whitespace cleanup in Emuloop.

------------------------------------------------------------------------
r1992 | riccardom | 2009-04-24 13:47:11 +0800 (五, 24  4月 2009) | 2 lines

Add some 0.9.3 entries.

------------------------------------------------------------------------
r1991 | riccardom | 2009-04-24 04:50:59 +0800 (五, 24  4月 2009) | 2 lines

Remove some stuff that was used only with gtkglext.

------------------------------------------------------------------------
r1990 | riccardom | 2009-04-24 04:34:27 +0800 (五, 24  4月 2009) | 2 lines

Whitespace cleanup in gtk_common_main

------------------------------------------------------------------------
r1989 | riccardom | 2009-04-24 04:24:51 +0800 (五, 24  4月 2009) | 2 lines

Cleanup includes ifdefs.

------------------------------------------------------------------------
r1988 | riccardom | 2009-04-24 04:15:37 +0800 (五, 24  4月 2009) | 2 lines

Remove the gtkglext support from gtk frontend.

------------------------------------------------------------------------
r1986 | riccardom | 2009-04-24 02:01:04 +0800 (五, 24  4月 2009) | 2 lines

Rename the local variable to not shadow the global ui_description.

------------------------------------------------------------------------
r1985 | zeromus | 2009-04-23 14:22:01 +0800 (四, 23  4月 2009) | 2 lines

[2777429] (missing 3d art) fixed: recent regression causing 16bpp textures to be transparent on softrasterizer

------------------------------------------------------------------------
r1984 | zeromus | 2009-04-23 11:58:44 +0800 (四, 23  4月 2009) | 2 lines

win32: apply hicoder's patch to display timestamps in savestate menu

------------------------------------------------------------------------
r1983 | matusz | 2009-04-23 09:06:36 +0800 (四, 23  4月 2009) | 2 lines

gtk port: add a FIXME

------------------------------------------------------------------------
r1982 | matusz | 2009-04-23 09:02:08 +0800 (四, 23  4月 2009) | 2 lines

gtk port: remove unused array, use better mask for input keys

------------------------------------------------------------------------
r1981 | matusz | 2009-04-23 08:55:49 +0800 (四, 23  4月 2009) | 2 lines

gtk port: switch all of menu/toolbar system to GtkAction + GtkUIManager

------------------------------------------------------------------------
r1980 | riccardom | 2009-04-22 02:17:28 +0800 (三, 22  4月 2009) | 2 lines

This file is generated by ./autogen.sh so remove it from svn.

------------------------------------------------------------------------
r1979 | matusz | 2009-04-21 16:43:33 +0800 (二, 21  4月 2009) | 3 lines

change 2 NOSSEs to NOSSE2s
remove 'static' from alpha_lookup

------------------------------------------------------------------------
r1978 | zeromus | 2009-04-21 12:13:47 +0800 (二, 21  4月 2009) | 2 lines

a bunch of small performance optimizations in the 3d engines, gains a couple of fps over the current trunk. still a little slower than 0.9.2 though, I am not sure why.

------------------------------------------------------------------------
r1977 | zeromus | 2009-04-21 02:11:37 +0800 (二, 21  4月 2009) | 2 lines

test of dumping the faq as html

------------------------------------------------------------------------
r1976 | zeromus | 2009-04-21 02:07:38 +0800 (二, 21  4月 2009) | 2 lines

test of pasting wiki contents for readme.win

------------------------------------------------------------------------
r1975 | yabause | 2009-04-20 22:05:54 +0800 (一, 20  4月 2009) | 2 lines

french -> english

------------------------------------------------------------------------
r1974 | matusz | 2009-04-20 21:43:05 +0800 (一, 20  4月 2009) | 2 lines

glade port: hide layers selector by default

------------------------------------------------------------------------
r1973 | yabause | 2009-04-20 21:29:06 +0800 (一, 20  4月 2009) | 2 lines

french -> english

------------------------------------------------------------------------
r1972 | zeromus | 2009-04-20 13:31:04 +0800 (一, 20  4月 2009) | 2 lines

tiny softrasterizer speedups: change texcache to produce different pixel formats depending on 3d renderer, and optimize getline

------------------------------------------------------------------------
r1971 | zeromus | 2009-04-20 02:44:56 +0800 (一, 20  4月 2009) | 2 lines

win32: [2761959] fixed: 3d options dont stick in other UI languages; also get rid of some dual 3d console spam i accidentally left turned on

------------------------------------------------------------------------
r1970 | zeromus | 2009-04-19 16:49:22 +0800 (日, 19  4月 2009) | 2 lines

an uncertain change: permit geometry commands after swapbuffers, up until vblank: this will fix some 3d games that rely on very picky timing, including some dual 3d games. but keep an eye open for totally destroyed 3d games and modes

------------------------------------------------------------------------
r1969 | zeromus | 2009-04-19 13:58:32 +0800 (日, 19  4月 2009) | 2 lines

win32: fixed: [2773492] When turning "Limit framerate" on or off the screen separation resets to none.

------------------------------------------------------------------------
r1968 | zeromus | 2009-04-19 07:32:14 +0800 (日, 19  4月 2009) | 2 lines

win32: try to fix language selection. works in xp; need to verify in vista

------------------------------------------------------------------------
r1967 | zeromus | 2009-04-19 05:25:41 +0800 (日, 19  4月 2009) | 2 lines

[2750702] fixed: shift key is sticky in hotkeys, making you save sometimes when you meant to load

------------------------------------------------------------------------
r1966 | zeromus | 2009-04-19 05:14:16 +0800 (日, 19  4月 2009) | 2 lines

change NOSSE2 conditional compilation. hope it still works for gcc guys

------------------------------------------------------------------------
r1965 | mtabachenko | 2009-04-19 04:32:57 +0800 (日, 19  4月 2009) | 2 lines

again :( , typo fix

------------------------------------------------------------------------
r1964 | mtabachenko | 2009-04-19 04:29:00 +0800 (日, 19  4月 2009) | 2 lines

typo fix :(

------------------------------------------------------------------------
r1963 | mtabachenko | 2009-04-19 04:01:26 +0800 (日, 19  4月 2009) | 2 lines

AR: implemented some codes and fixed early my commit

------------------------------------------------------------------------
r1962 | riccardom | 2009-04-19 03:28:59 +0800 (日, 19  4月 2009) | 2 lines

Use of macro that can be a nop inside a conditional should be protected by braces otherwise a kitten will get hurt!

------------------------------------------------------------------------
r1961 | mtabachenko | 2009-04-19 01:41:14 +0800 (日, 19  4月 2009) | 2 lines

added parser for comma when load cheats;

------------------------------------------------------------------------
r1960 | mtabachenko | 2009-04-19 00:50:21 +0800 (日, 19  4月 2009) | 2 lines

fixed bug #2772570 (CheatSystem: Address size reverting after search restart)

------------------------------------------------------------------------
r1959 | mtabachenko | 2009-04-19 00:12:25 +0800 (日, 19  4月 2009) | 3 lines

cheats:
- added some Action Replay codes processing;

------------------------------------------------------------------------
r1958 | riccardom | 2009-04-18 21:44:31 +0800 (六, 18  4月 2009) | 2 lines

Make a couple of functions static and shut up a signed vs unsigned warning in cheatSystem.cpp.

------------------------------------------------------------------------
r1957 | matusz | 2009-04-18 21:33:15 +0800 (六, 18  4月 2009) | 2 lines

glade port: rename 'ouvrir' elements to 'open'

------------------------------------------------------------------------
r1956 | mtabachenko | 2009-04-18 20:46:24 +0800 (六, 18  4月 2009) | 3 lines

winport:
- it is now possible to add Action Replay to the cheats (THIS IS ONLY ADD TO CHEATS and NOT EXECUTE AR CODE)

------------------------------------------------------------------------
r1955 | matusz | 2009-04-18 02:27:41 +0800 (六, 18  4月 2009) | 2 lines

gtk port: quit on unsupported savetype in command line option

------------------------------------------------------------------------
r1954 | matusz | 2009-04-18 02:23:15 +0800 (六, 18  4月 2009) | 2 lines

glade port: correction to savetype option and menu

------------------------------------------------------------------------
r1953 | matusz | 2009-04-18 01:18:46 +0800 (六, 18  4月 2009) | 2 lines

better ignore of NOSSE2 on linux per xrmx advice

------------------------------------------------------------------------
r1952 | matusz | 2009-04-17 22:54:25 +0800 (五, 17  4月 2009) | 2 lines

adding FASTCALLs to make function definitions consistent with structs

------------------------------------------------------------------------
r1951 | matusz | 2009-04-17 22:51:40 +0800 (五, 17  4月 2009) | 2 lines

define NOSSE2 globally until somebody finds a better way

------------------------------------------------------------------------
r1950 | mtabachenko | 2009-04-17 19:13:59 +0800 (五, 17  4月 2009) | 5 lines

cheats:
- fixed search lists (and 3 byte size work correct now);
- fixed search after load savestate;
(will next step - add Action Replay parser)

------------------------------------------------------------------------
r1949 | zeromus | 2009-04-17 13:13:11 +0800 (五, 17  4月 2009) | 2 lines

reorganize a bit of mmu code to displease me less and make a couple of minuscule optimizations

------------------------------------------------------------------------
r1948 | zeromus | 2009-04-17 10:32:43 +0800 (五, 17  4月 2009) | 2 lines

win32: continue to overhaul vs project organization. You will need to delete your sln files as I am now checking these in. Additionally, every build is now SSE2. If you want a non-sse2 build you better define NOSSE2 and turn off the codegen option.

------------------------------------------------------------------------
r1947 | luigi__ | 2009-04-17 04:46:35 +0800 (五, 17  4月 2009) | 2 lines

Remved an unused variable.

------------------------------------------------------------------------
r1946 | riccardom | 2009-04-17 02:31:42 +0800 (五, 17  4月 2009) | 2 lines

Removed unused variable.

------------------------------------------------------------------------
r1945 | riccardom | 2009-04-17 02:27:16 +0800 (五, 17  4月 2009) | 2 lines

Put braces around a possible nop.

------------------------------------------------------------------------
r1944 | matusz | 2009-04-17 01:21:56 +0800 (五, 17  4月 2009) | 2 lines

glade port: add save-type commandline option and synch it with menu; change one sprintf to snprintf

------------------------------------------------------------------------
r1943 | matusz | 2009-04-16 18:50:28 +0800 (四, 16  4月 2009) | 2 lines

gtk port: saveslot/loadslot submenus in 'File' menu

------------------------------------------------------------------------
r1942 | zeromus | 2009-04-16 16:43:57 +0800 (四, 16  4月 2009) | 2 lines

win32: add a configuration system. remove excess build configurations, which were getting hard to manage. to configure your build (such as to enable SSE2), check out the example in the defaultconfig directory. this is a bit strange. please evaluate it.

------------------------------------------------------------------------
r1940 | zeromus | 2009-04-16 12:37:15 +0800 (四, 16  4月 2009) | 2 lines

win32 revert resource changes!

------------------------------------------------------------------------
r1939 | adelikat | 2009-04-16 11:47:47 +0800 (四, 16  4月 2009) | 2 lines

Added a record to dialog to the res

------------------------------------------------------------------------
r1938 | riccardom | 2009-04-15 03:26:02 +0800 (三, 15  4月 2009) | 2 lines

Fix a few signed vs unsigned int comparison warnings.

------------------------------------------------------------------------
r1937 | riccardom | 2009-04-15 03:09:25 +0800 (三, 15  4月 2009) | 2 lines

Remove unused var.

------------------------------------------------------------------------
r1936 | zeromus | 2009-04-15 02:45:23 +0800 (三, 15  4月 2009) | 1 line

------------------------------------------------------------------------
r1935 | zeromus | 2009-04-15 02:34:10 +0800 (三, 15  4月 2009) | 2 lines

mmu: fix windows compile error. ERROR enum value wasnt necessary at all

------------------------------------------------------------------------
r1934 | riccardom | 2009-04-15 00:30:16 +0800 (三, 15  4月 2009) | 7 lines

This patch tries to fixup typedef defined in types.h in order to help x86-64 people:

- convert [us]32 to be unsigned /signed  int on both 32 and 64 bit platforms like is uint32_t in stdint.h.
- remove pointer typedef, likely cause of 32 bit / 64 bit issues but currently not used.

Please be patient if something is broken :)

------------------------------------------------------------------------
r1933 | riccardom | 2009-04-15 00:13:34 +0800 (三, 15  4月 2009) | 2 lines

Make MovieTime static, while at it cleanup the ifdef.

------------------------------------------------------------------------
r1932 | riccardom | 2009-04-14 23:57:57 +0800 (二, 14  4月 2009) | 2 lines

ok, this really wants to be declared to be an ull (sorry 64 bit guys).

------------------------------------------------------------------------
r1931 | riccardom | 2009-04-14 23:50:18 +0800 (二, 14  4月 2009) | 2 lines

gcc does not like this function to be inlined

------------------------------------------------------------------------
r1930 | riccardom | 2009-04-14 23:19:33 +0800 (二, 14  4月 2009) | 2 lines

Add missing member of enum.

------------------------------------------------------------------------
r1929 | luigi__ | 2009-04-14 18:15:11 +0800 (二, 14  4月 2009) | 2 lines

Slight code reorganization and better handling of scrollbar and mem editing.

------------------------------------------------------------------------
r1928 | zeromus | 2009-04-14 16:35:00 +0800 (二, 14  4月 2009) | 2 lines

fix another bmp sprite issue and add some mmu diagnostics

------------------------------------------------------------------------
r1927 | zeromus | 2009-04-14 14:47:57 +0800 (二, 14  4月 2009) | 2 lines

fix some bitmap objs. many more types are still broken.

------------------------------------------------------------------------
r1926 | zeromus | 2009-04-14 14:42:47 +0800 (二, 14  4月 2009) | 2 lines

win32: fix missing tool window scrollbars again. now i KNOW it must be resedit's fault

------------------------------------------------------------------------
r1925 | zeromus | 2009-04-14 13:35:49 +0800 (二, 14  4月 2009) | 2 lines

eliminate emulator crashes and freakouts when rendering some totally messed up 3d stuff. is this masking a deeper issue? quite possibly, but the checks need to be done anyway.

------------------------------------------------------------------------
r1924 | zeromus | 2009-04-14 10:05:55 +0800 (二, 14  4月 2009) | 2 lines

fix some bugs in new vram mapper

------------------------------------------------------------------------
r1923 | luigi__ | 2009-04-14 08:18:43 +0800 (二, 14  4月 2009) | 6 lines

Added ability to edit memory through the mem viewers.
Basically, it works like an hex editor, ie you click on the value you want to
edit, then you enter the new value, which is applied only once it has been
entirely entered.
Warning! it may have bugs. If you find any, tell me.

------------------------------------------------------------------------
r1922 | adelikat | 2009-04-14 03:04:24 +0800 (二, 14  4月 2009) | 2 lines

Win32 - Partial implementation of function to display hotkey mappings on corresponding menu items

------------------------------------------------------------------------
r1921 | adelikat | 2009-04-13 23:01:39 +0800 (一, 13  4月 2009) | 2 lines

Win32 - Minor cosmetic fix to Cheat search dialog

------------------------------------------------------------------------
r1920 | adelikat | 2009-04-13 22:59:23 +0800 (一, 13  4月 2009) | 2 lines

Win32 - Moved checked menu item code for Frameskip to ENTERMENULOOP

------------------------------------------------------------------------
r1919 | adelikat | 2009-04-13 22:51:07 +0800 (一, 13  4月 2009) | 2 lines

Win32 - Gray out recent ROM menu item if there are no recent ROMs

------------------------------------------------------------------------
r1918 | adelikat | 2009-04-13 22:46:41 +0800 (一, 13  4月 2009) | 2 lines

Win32 - Removed the accel table from main since we have a remappable hotkey system in place instead.

------------------------------------------------------------------------
r1917 | adelikat | 2009-04-13 22:41:23 +0800 (一, 13  4月 2009) | 2 lines

Win32 - Added Clear sound menu item to Danish & French Menus.  Removed Ctrl+O from Open ROM menu item name.

------------------------------------------------------------------------
r1916 | p989 | 2009-04-13 14:55:29 +0800 (一, 13  4月 2009) | 2 lines

simple clock for movie recording

------------------------------------------------------------------------
r1915 | adelikat | 2009-04-13 12:56:51 +0800 (一, 13  4月 2009) | 2 lines

Added Open ROM Hotkey, Removed Ctrl+O accel key.

------------------------------------------------------------------------
r1914 | adelikat | 2009-04-13 12:45:38 +0800 (一, 13  4月 2009) | 2 lines

Win32 - Code cleanup - removed a lot of redundant menuchecked and enablemenuitem code.  Moved it all to ENTERMENULOOP

------------------------------------------------------------------------
r1913 | adelikat | 2009-04-13 12:18:45 +0800 (一, 13  4月 2009) | 2 lines

Win32 - Added all gray/enabled & check/unchecked code to the ENTERMENULOOP case.  Changed Shut Up to Clear Sound

------------------------------------------------------------------------
r1912 | adelikat | 2009-04-13 06:15:08 +0800 (一, 13  4月 2009) | 2 lines

Win32 - AVI Capture - added started/ended messages to the screen.

------------------------------------------------------------------------
r1911 | adelikat | 2009-04-13 05:30:03 +0800 (一, 13  4月 2009) | 2 lines

Win32 - Record AVI and Stop AVI menu items enabled/grayed based on whether an AVI is recording or not.

------------------------------------------------------------------------
r1910 | adelikat | 2009-04-13 05:10:51 +0800 (一, 13  4月 2009) | 2 lines

Win32 - Added Record AVI and Stop avi hotkeys.  Minor change to AVI menu items.

------------------------------------------------------------------------
r1909 | adelikat | 2009-04-13 04:42:50 +0800 (一, 13  4月 2009) | 2 lines

Win32 - Added Reset hotkey.  Changed Printscreen to Save Screen Shot As to match the equivlant menu item.  Changed screenshot default key to F12 which is the more standard screenshot hotkey

------------------------------------------------------------------------
r1908 | adelikat | 2009-04-13 03:31:52 +0800 (一, 13  4月 2009) | 2 lines

Added Hotkeys for Display FPS, Input, and Frame Counter

------------------------------------------------------------------------
r1907 | adelikat | 2009-04-13 02:50:54 +0800 (一, 13  4月 2009) | 2 lines

Win - Added Lag Counter Display Toggle Hotkey

------------------------------------------------------------------------
r1905 | zeromus | 2009-04-12 17:45:09 +0800 (日, 12  4月 2009) | 2 lines

fix mario kart boot regression by readding support for arm7 shared vram banks. it still has some bg mapping issues, but it shares that in common with many games right now

------------------------------------------------------------------------
r1904 | zeromus | 2009-04-12 16:46:36 +0800 (日, 12  4月 2009) | 2 lines

better change the version number in the trunk to keep folks from releasing post 0.9.2 svn builds with 0.9.2 version tags (probably has already happened)

------------------------------------------------------------------------
r1903 | luigi__ | 2009-04-12 08:01:12 +0800 (日, 12  4月 2009) | 2 lines

Fixed the mini tile box. It still refreshes the whole screen when clicking a tile. But anyway all that shit will be remade someday.

------------------------------------------------------------------------
r1901 | luigi__ | 2009-04-12 06:07:32 +0800 (日, 12  4月 2009) | 2 lines

The display capture EVA/EVB factors are now clamped to 16. This avoids corrupted colors when the game sets these factors to values over 16.

------------------------------------------------------------------------
r1899 | yabause | 2009-04-12 04:49:48 +0800 (日, 12  4月 2009) | 2 lines

Added italian translation

------------------------------------------------------------------------
r1898 | riccardom | 2009-04-12 03:54:40 +0800 (日, 12  4月 2009) | 2 lines

This trick let desmume be compiled against osmesa 7.4, thanks Guillame.

------------------------------------------------------------------------
r1897 | riccardom | 2009-04-12 01:20:19 +0800 (日, 12  4月 2009) | 2 lines

signed long to s32 conversion based on the patch posted by ldesnogu in #2752961.

------------------------------------------------------------------------
r1896 | riccardom | 2009-04-12 01:14:19 +0800 (日, 12  4月 2009) | 2 lines

Apply ldesnogu signed long -> s32 conversion to help x86-64 from #2752961

------------------------------------------------------------------------
r1895 | riccardom | 2009-04-12 00:48:02 +0800 (日, 12  4月 2009) | 2 lines

Make SetTurbo static.

------------------------------------------------------------------------
r1894 | riccardom | 2009-04-12 00:47:16 +0800 (日, 12  4月 2009) | 2 lines

Update gfx3d.h function declaration to match the definition, this is a subset of ldesnogu patch from #2752961.

------------------------------------------------------------------------
r1892 | riccardom | 2009-04-12 00:02:41 +0800 (日, 12  4月 2009) | 2 lines

Remove unused label.

------------------------------------------------------------------------
r1891 | luigi__ | 2009-04-11 23:51:28 +0800 (六, 11  4月 2009) | 2 lines

Oops... fixed a stupid bug with MMU_DumpMemBlock. Both mem viewers would show ARM7 memory. I'm stupid sometimes...

------------------------------------------------------------------------
r1890 | riccardom | 2009-04-11 23:28:12 +0800 (六, 11  4月 2009) | 2 lines

Use u32 instead of unsigned long since that's the type of the data that is passed to armcp15_setSingleRegionAccess().

------------------------------------------------------------------------
r1889 | matusz | 2009-04-11 23:27:48 +0800 (六, 11  4月 2009) | 3 lines

glade port: disable code initializing removed fields in ARM9Mem
this is a hack to make it compile, since tileview wasn't working anyway

------------------------------------------------------------------------
r1888 | riccardom | 2009-04-11 23:14:18 +0800 (六, 11  4月 2009) | 2 lines

Change cast of cflash_read from unsigned long to u32 since it's what _MMU_ARM9_read32 is supposed to return.

------------------------------------------------------------------------
r1887 | riccardom | 2009-04-11 23:09:09 +0800 (六, 11  4月 2009) | 2 lines

Add explicit cast in FetchADPCMData() as in patch from #2752961.

------------------------------------------------------------------------
r1886 | riccardom | 2009-04-11 22:57:41 +0800 (六, 11  4月 2009) | 3 lines

Apply gtk frontend hunk of explicit type conversion patch posted
by ldesnogu_ in #2752961.

------------------------------------------------------------------------
r1885 | riccardom | 2009-04-11 22:44:57 +0800 (六, 11  4月 2009) | 2 lines

Use CLAMP in Stylus_Press too, need a bigger screen :)

------------------------------------------------------------------------
r1884 | riccardom | 2009-04-11 22:42:15 +0800 (六, 11  4月 2009) | 2 lines

Use CLAMP from glib in Stylus_Move.

------------------------------------------------------------------------
r1883 | riccardom | 2009-04-11 22:40:36 +0800 (六, 11  4月 2009) | 2 lines

Whitespace cleanup Stylus_Move, no functional changes.

------------------------------------------------------------------------
r1882 | riccardom | 2009-04-11 22:12:48 +0800 (六, 11  4月 2009) | 4 lines

Remove unuseful debug line from layers code, this fix #2750334 which reports
a crash in that line caused by the conversion from string to an enum of the
layers.

------------------------------------------------------------------------
r1881 | luigi__ | 2009-04-11 22:09:16 +0800 (六, 11  4月 2009) | 10 lines

Big tool remake started. New memory viewer.
Here are the main differences with the old one:
- threading/timer system dropped; the viewers refresh every 10 frames
- same dialog template and procedure shared for both viewers, like before
- no trouble jumping over 0x0FFFFFFF; all addresses supported
- correct interpretation of the address entered
- scrollbar working correctly
- two view dump functions: Text dump will dump the current view into a text file, in an human-readable form; Raw dump will copy the current view to a binary file that can be opened with an hex editor
- the viewers use MMU_DumpMemBlock to read memory; this is better than the MMU_readX functions as it doesn't risk affecting the emulation; but that func isn't suitable for the I/O register region, as some registers aren't written to MMU.MMU_MEM.

------------------------------------------------------------------------
r1880 | zeromus | 2009-04-11 17:09:06 +0800 (六, 11  4月 2009) | 2 lines

fix a probably broken linux build

------------------------------------------------------------------------
r1879 | zeromus | 2009-04-11 17:00:56 +0800 (六, 11  4月 2009) | 2 lines

totally rewrite vram mapping. a few of your savestates might be ugly until you reload a level or somesuch. this fixes drill spirits and kirby. some regressions are to be expected, please let me know when you see them

------------------------------------------------------------------------
r1878 | zeromus | 2009-04-11 16:54:26 +0800 (六, 11  4月 2009) | 2 lines

hey pa__ dont use ARRAYSIZE, use ARRAY_SIZE instead.

------------------------------------------------------------------------
r1877 | p989 | 2009-04-11 09:08:03 +0800 (六, 11  4月 2009) | 2 lines

win32: fixed an input display related merging mistake

------------------------------------------------------------------------
r1876 | p989 | 2009-04-11 07:41:05 +0800 (六, 11  4月 2009) | 2 lines

win32: moved turbo keys to their own hotkey page

------------------------------------------------------------------------
r1875 | p989 | 2009-04-11 07:01:53 +0800 (六, 11  4月 2009) | 2 lines

win32: microphone hotkey, sample loader, and display

------------------------------------------------------------------------
r1874 | zeromus | 2009-04-11 06:38:29 +0800 (六, 11  4月 2009) | 2 lines

prevent totally out of bounds card accesses from crashing emulator by masking to rom size

------------------------------------------------------------------------
r1873 | zeromus | 2009-04-11 04:59:44 +0800 (六, 11  4月 2009) | 2 lines

change gpu to use only one function for 1D and 2D sprite rendering. this makes it easier to debug and tweak, since they were 95% similar already. also fix a bunch of bugs in the win32 oam viewer.

------------------------------------------------------------------------
r1872 | p989 | 2009-04-11 02:40:09 +0800 (六, 11  4月 2009) | 2 lines

win32: hud editor

------------------------------------------------------------------------
r1871 | zeromus | 2009-04-11 01:20:59 +0800 (六, 11  4月 2009) | 2 lines

win32: fix scroll bars in tool dialogs. somehow they all became invisible. i blame resedit

------------------------------------------------------------------------
r1870 | p989 | 2009-04-11 01:07:54 +0800 (六, 11  4月 2009) | 2 lines

win32: autofire, autohold, input display fix

------------------------------------------------------------------------
r1869 | p989 | 2009-04-11 00:24:04 +0800 (六, 11  4月 2009) | 2 lines

win32: png file support

------------------------------------------------------------------------
r1866 | zeromus | 2009-04-10 03:30:00 +0800 (五, 10  4月 2009) | 2 lines

add authors

------------------------------------------------------------------------
r1865 | luigi__ | 2009-04-10 01:59:42 +0800 (五, 10  4月 2009) | 2 lines

Fixed a few details.

------------------------------------------------------------------------
r1863 | zeromus | 2009-04-09 13:19:16 +0800 (四, 09  4月 2009) | 2 lines

update changelog, and make every build a DEV+ build. we won't use the distinction after all for 0.9.2

------------------------------------------------------------------------
r1861 | yabause | 2009-04-09 06:19:07 +0800 (四, 09  4月 2009) | 2 lines

Added some missing files to distribution

------------------------------------------------------------------------
r1858 | zeromus | 2009-04-09 02:52:55 +0800 (四, 09  4月 2009) | 2 lines

win32: fix typo in error message and change the default frameskip options to 0, limit (desmume classic style) which people seem to like more

------------------------------------------------------------------------
r1857 | zeromus | 2009-04-09 02:07:53 +0800 (四, 09  4月 2009) | 2 lines

win32: fix yet another vs2005 build type that got broken. add a warning to wifi dialog that it doesnt actually work. fix wpcap.dll detection

------------------------------------------------------------------------
r1856 | riccardom | 2009-04-08 17:57:51 +0800 (三, 08  4月 2009) | 2 lines

Cleanup whitespace in MMU_DeInit()

------------------------------------------------------------------------
r1855 | matusz | 2009-04-08 17:32:39 +0800 (三, 08  4月 2009) | 2 lines

open memory-card-file for writing when savetype is not AUTODETECT

------------------------------------------------------------------------
r1854 | zeromus | 2009-04-08 16:09:04 +0800 (三, 08  4月 2009) | 2 lines

not sure how these vs2005 build types got messed up

------------------------------------------------------------------------
r1853 | riccardom | 2009-04-08 16:07:54 +0800 (三, 08  4月 2009) | 2 lines

Make a couple of functions static.

------------------------------------------------------------------------
r1852 | zeromus | 2009-04-08 16:01:47 +0800 (三, 08  4月 2009) | 2 lines

win32: clean up experimental wifi building to work in fastcall and run correctly without winpcap.dll etc on all build types in vs2005 and vs2008

------------------------------------------------------------------------
r1851 | zeromus | 2009-04-08 15:06:54 +0800 (三, 08  4月 2009) | 2 lines

win32: prevent wifi configuration from running when winpcap couldnt initialize

------------------------------------------------------------------------
r1850 | zeromus | 2009-04-08 14:18:20 +0800 (三, 08  4月 2009) | 2 lines

fix [2705723] 4mb flash savetype is broken.

------------------------------------------------------------------------
r1849 | zeromus | 2009-04-08 13:17:36 +0800 (三, 08  4月 2009) | 2 lines

major fixes to viewport handling which didn't work at all before since it was not executed per poly (closes out SF [1701567]). now advance wars battle scenes work

------------------------------------------------------------------------
r1848 | zeromus | 2009-04-08 12:30:20 +0800 (三, 08  4月 2009) | 2 lines

win32: vs2005: fix building of release and interim non-sse (forgot include directories)

------------------------------------------------------------------------
r1847 | zeromus | 2009-04-08 12:27:46 +0800 (三, 08  4月 2009) | 2 lines

win32: recent roms bugs: [2595745] [2598258]

------------------------------------------------------------------------
r1845 | yabause | 2009-04-08 05:05:20 +0800 (三, 08  4月 2009) | 2 lines

Some changes to fix "make dist"

------------------------------------------------------------------------
r1843 | matusz | 2009-04-08 03:44:10 +0800 (三, 08  4月 2009) | 2 lines

set svn:ignore to Makefile and Makefile.in for a few dirs

------------------------------------------------------------------------
r1842 | luigi__ | 2009-04-08 03:18:32 +0800 (三, 08  4月 2009) | 3 lines

And finally removed all the GDI+ include files. GDI+ shit is now gone for good.
BTW, it is better for us to remove them. Zeromus told me we aren't supposed to redistribute them. (I hate Microsoft more and more)

------------------------------------------------------------------------
r1841 | luigi__ | 2009-04-08 03:15:29 +0800 (三, 08  4月 2009) | 2 lines

Remeber what I did with the VS2005 project file? Did the exact same thing with the Intel one.

------------------------------------------------------------------------
r1840 | luigi__ | 2009-04-08 03:00:17 +0800 (三, 08  4月 2009) | 2 lines

Attempted to take out GDI+ shit using the Notepad. Tell me if the project breaks (normally shouldn't) or if some GDI+ shit remains, I'll take care of it.

------------------------------------------------------------------------
r1839 | luigi__ | 2009-04-08 02:56:35 +0800 (三, 08  4月 2009) | 2 lines

Taken out the GDI+ inclusions (todo: do so with the VS2005 project as the gdiplus folder will be removed at the next commit from me).

------------------------------------------------------------------------
r1838 | luigi__ | 2009-04-08 02:53:42 +0800 (三, 08  4月 2009) | 3 lines

Removed GDI+ initialization.
GDI+ shit can be taken out of the project as we'll stick to GDI which is faster.

------------------------------------------------------------------------
r1837 | luigi__ | 2009-04-08 00:37:01 +0800 (三, 08  4月 2009) | 3 lines

Hacky fix for the crash of the IO reg view tool.
Reason of the crash: a WM_COMMAND message was being sent for IDC_AUTO_UPDATE_SECS before the WM_INITDIALOG message was sent. I can't figure out why.

------------------------------------------------------------------------
r1836 | zeromus | 2009-04-07 23:59:43 +0800 (二, 07  4月 2009) | 2 lines

novice mistake: dont crash when loading a gbagame with no sram

------------------------------------------------------------------------
r1835 | matusz | 2009-04-07 20:59:04 +0800 (二, 07  4月 2009) | 4 lines

gtk port: add --save-type command line option
and sync it with save-type menu
and update gtk port's manpage

------------------------------------------------------------------------
r1834 | zeromus | 2009-04-07 16:35:06 +0800 (二, 07  4月 2009) | 2 lines

add sram support to gbagame addon

------------------------------------------------------------------------
r1833 | sigmaris | 2009-04-07 11:19:09 +0800 (二, 07  4月 2009) | 2 lines

Integrated GDB stub to Mac version and added a target to the XCode project to build with GDB stub enabled

------------------------------------------------------------------------
r1832 | adelikat | 2009-04-07 07:51:28 +0800 (二, 07  4月 2009) | 2 lines

Fix bug in HK_StateSetSlot()

------------------------------------------------------------------------
r1831 | matusz | 2009-04-07 03:52:10 +0800 (二, 07  4月 2009) | 2 lines

all .cpp .h files: convert to uniform EOLs and set svn:eol-style to native

------------------------------------------------------------------------
r1830 | matusz | 2009-04-07 00:42:02 +0800 (二, 07  4月 2009) | 3 lines

unify eols in saves.cpp and saves.h
setting svn:eol-style to native for saves.cpp and saves.h

------------------------------------------------------------------------
r1829 | normmatt234 | 2009-04-06 06:51:22 +0800 (一, 06  4月 2009) | 2 lines

typo in comment

------------------------------------------------------------------------
r1828 | normmatt234 | 2009-04-06 06:50:03 +0800 (一, 06  4月 2009) | 2 lines

Fix card reads below 0x8000

------------------------------------------------------------------------
r1827 | luigi__ | 2009-04-05 20:30:43 +0800 (日, 05  4月 2009) | 3 lines

Changed the buffer type to u8 as the data returned by WinMM is unsigned.
Added a double buffer system which reduces crackling noticeably.

------------------------------------------------------------------------
r1826 | riccardom | 2009-04-05 20:16:04 +0800 (日, 05  4月 2009) | 2 lines

Comment a variable that has its users already commented.

------------------------------------------------------------------------
r1825 | riccardom | 2009-04-05 20:13:28 +0800 (日, 05  4月 2009) | 2 lines

Comment a variable with its users already commented.

------------------------------------------------------------------------
r1824 | riccardom | 2009-04-05 20:11:26 +0800 (日, 05  4月 2009) | 2 lines

Made a couple of functions static.

------------------------------------------------------------------------
r1823 | luigi__ | 2009-04-05 15:24:24 +0800 (日, 05  4月 2009) | 2 lines

Removed the EXPERIMENTAL_WIFI define from the Interim SSE2 configuration, so it should now compile.

------------------------------------------------------------------------
r1822 | luigi__ | 2009-04-05 08:03:51 +0800 (日, 05  4月 2009) | 2 lines

Yeah, I know, skipping 3D frames is nice with the soft rasterizer, but we can't do it until somebody figures out why the 2D/3D synchronization problem happens when doing it. It's so sad :(

------------------------------------------------------------------------
r1821 | p989 | 2009-04-05 05:23:01 +0800 (日, 05  4月 2009) | 2 lines

win32: fast forward now has separate active and toggle hotkeys

------------------------------------------------------------------------
r1820 | p989 | 2009-04-04 08:10:35 +0800 (六, 04  4月 2009) | 2 lines

win32: lag frame menu typo

------------------------------------------------------------------------
r1819 | p989 | 2009-04-04 07:54:05 +0800 (六, 04  4月 2009) | 2 lines

win32: debugging windows update in frames, 1 frame default

------------------------------------------------------------------------
r1818 | luigi__ | 2009-04-04 06:00:48 +0800 (六, 04  4月 2009) | 2 lines

Add a langs folder meant to contain .mo files for all the translations, as well as some stuff useful to compile them (though my fr_FR.mo was built by Poedit).

------------------------------------------------------------------------
r1817 | luigi__ | 2009-04-04 05:55:06 +0800 (六, 04  4月 2009) | 2 lines

Added a French translation of the menu.

------------------------------------------------------------------------
r1816 | luigi__ | 2009-04-04 05:39:36 +0800 (六, 04  4月 2009) | 3 lines

Added a base .po file containing everything needed to translate the Windows menu with gettext.
This is testing, it's why I first just translate the menu. If it's not a total pain, I'll translate everything else with gettext.

------------------------------------------------------------------------
r1815 | zeromus | 2009-04-04 02:46:01 +0800 (六, 04  4月 2009) | 2 lines

change the 3d frameskipping method to take advantage of the rendering deferral system which was already there. now, whenever a 3d frame is requested, and it isnt rendered due to having been skipped, it has the capability to render itsself. This should resolve any issues like ideas frameskip synchronization -- let me know.

------------------------------------------------------------------------
r1814 | luigi__ | 2009-04-04 01:42:35 +0800 (六, 04  4月 2009) | 3 lines

The window refreshing handling when sizing/moving and/or emu paused is less hacky now.
Also fixed a slight bug with the "pause emu when main window minimized" thing: now it won't unpause the emu if it was manually paused before being minimized.

------------------------------------------------------------------------
r1813 | Luigi__ | 2009-04-03 20:33:10 +0800 (五, 03  4月 2009) | 2 lines

The frameskip now also makes the 3D soft rasterizer skip frames. But it causes a problem that appears in iDeaS: 3D and 2D aren't synchronized when using frameskip. Feel free to revert it if that problem is annoying for you.

------------------------------------------------------------------------
r1812 | Luigi__ | 2009-04-03 20:19:10 +0800 (五, 03  4月 2009) | 2 lines

More efficient frameskip by using NDS_SkipFrame(). Also tried to fix the framerate limiter (maybe we should just revert to the semaphore system and try to make it more precise?).

------------------------------------------------------------------------
r1811 | matusz | 2009-04-03 16:01:35 +0800 (五, 03  4月 2009) | 2 lines

glade: notify user about lack of 3D (failed NDS_3D_ChangeCore)

------------------------------------------------------------------------
r1810 | matusz | 2009-04-03 09:03:42 +0800 (五, 03  4月 2009) | 2 lines

update manpages for cli, gtk, glade ports

------------------------------------------------------------------------
r1809 | matusz | 2009-04-03 08:28:52 +0800 (五, 03  4月 2009) | 2 lines

synchronize default emu keys to the windows version

------------------------------------------------------------------------
r1808 | matusz | 2009-04-03 07:31:02 +0800 (五, 03  4月 2009) | 2 lines

glade: stop emu keys from blocking gui keys

------------------------------------------------------------------------
r1807 | zeromus | 2009-04-03 06:48:32 +0800 (五, 03  4月 2009) | 2 lines

change lag counter to be cumulative instead of instantaneous. also fix some file line endings

------------------------------------------------------------------------
r1806 | zeromus | 2009-04-03 06:27:06 +0800 (五, 03  4月 2009) | 2 lines

tweaks to lag frame

------------------------------------------------------------------------
r1805 | p989 | 2009-04-03 06:05:51 +0800 (五, 03  4月 2009) | 2 lines

win32: lag counter

------------------------------------------------------------------------
r1804 | Luigi__ | 2009-04-03 04:25:45 +0800 (五, 03  4月 2009) | 2 lines

Inlined desmume_cycle() and desmume_running() for speed.

------------------------------------------------------------------------
r1803 | zeromus | 2009-04-03 02:37:21 +0800 (五, 03  4月 2009) | 2 lines

see if this fixes the build in non-windows

------------------------------------------------------------------------
r1802 | zeromus | 2009-04-03 01:01:17 +0800 (五, 03  4月 2009) | 2 lines

oops i failed to checkin everything

------------------------------------------------------------------------
r1801 | zeromus | 2009-04-03 00:59:57 +0800 (五, 03  4月 2009) | 2 lines

win32: integrate patch: add fast forward, target framerate control (other than 60), and input display

------------------------------------------------------------------------
r1800 | zeromus | 2009-04-02 16:28:06 +0800 (四, 02  4月 2009) | 2 lines

rasterize: change polyid clearing method. it was a guess before, and now it is still a guess but it fixes a game

------------------------------------------------------------------------
r1799 | zeromus | 2009-04-02 15:37:32 +0800 (四, 02  4月 2009) | 2 lines

win32: fix small directdraw display bug which looked like a glitch inbetween screens sometimes with non-integer window scalings

------------------------------------------------------------------------
r1798 | zeromus | 2009-04-02 15:03:41 +0800 (四, 02  4月 2009) | 2 lines

rasterize: fix new bug with captured 3d

------------------------------------------------------------------------
r1797 | zeromus | 2009-04-02 14:59:31 +0800 (四, 02  4月 2009) | 2 lines

rasterize: fix the most serious issues with texturing. i would now call the rasterizer useable.

------------------------------------------------------------------------
r1796 | Luigi__ | 2009-04-02 03:40:39 +0800 (四, 02  4月 2009) | 3 lines

More precise and stable FPS limiter, not using the SDL semaphore system.
Also removed the "3D operation detected" dialog which is useless.

------------------------------------------------------------------------
r1795 | Luigi__ | 2009-04-02 00:17:37 +0800 (四, 02  4月 2009) | 2 lines

Dummy commit for the sake of testing if kdesvn works. Please ignore this.

------------------------------------------------------------------------
r1794 | matusz | 2009-04-01 08:20:32 +0800 (三, 01  4月 2009) | 2 lines

cli port: savetype commandline option

------------------------------------------------------------------------
r1793 | zeromus | 2009-04-01 06:11:00 +0800 (三, 01  4月 2009) | 2 lines

add a "shut up" feature which kills all the active voices without otherwise interrupting the spu. handy for shutting up streaming sounds. hook it up in windows.

------------------------------------------------------------------------
r1792 | matusz | 2009-04-01 05:40:37 +0800 (三, 01  4月 2009) | 4 lines

gtk port: make keypad allow menu/toolbar accel keys to work too
also: translate some french comments and remove some other
also: silence 2 glade warnings

------------------------------------------------------------------------
r1791 | zeromus | 2009-03-31 03:01:39 +0800 (二, 31  3月 2009) | 2 lines

fix some vs2008 builds

------------------------------------------------------------------------
r1790 | matusz | 2009-03-30 20:26:39 +0800 (一, 30  3月 2009) | 2 lines

glade port: allow 3d renderer command line selection when no GTKGLEXT

------------------------------------------------------------------------
r1789 | zeromus | 2009-03-30 06:17:30 +0800 (一, 30  3月 2009) | 2 lines

convert file to ascii

------------------------------------------------------------------------
r1788 | zeromus | 2009-03-30 05:38:06 +0800 (一, 30  3月 2009) | 2 lines

fix windows builds so that they can run without winpcap.dll being installed. this causes the initialization of softAP to be conditional. also add an assert where luigi needs to decide on a return value. also add an extensible driver system so that new platform-specific calls can be made from the core emulator without breaking all the other ports. look in windows port for an example of how to extend it. feel free to criticize the architecture before we get too stuck on it.

------------------------------------------------------------------------
r1787 | matusz | 2009-03-30 03:12:08 +0800 (一, 30  3月 2009) | 2 lines

glade port: reenable gtkglext 3d rendering

------------------------------------------------------------------------
r1786 | matusz | 2009-03-30 01:51:26 +0800 (一, 30  3月 2009) | 2 lines

add rasterizer to gtk-glade, make it default renderer for cli,gtk,glade

------------------------------------------------------------------------
r1785 | matusz | 2009-03-29 20:22:59 +0800 (日, 29  3月 2009) | 2 lines

gtk-glade: split Saves menu into File and Config submenus

------------------------------------------------------------------------
r1784 | luigi__ | 2009-03-29 07:59:36 +0800 (日, 29  3月 2009) | 2 lines

New game info dialog.

------------------------------------------------------------------------
r1783 | matusz | 2009-03-28 21:40:00 +0800 (六, 28  3月 2009) | 2 lines

gtk-glade port: load savegame from command line

------------------------------------------------------------------------
r1782 | zeromus | 2009-03-28 04:34:49 +0800 (六, 28  3月 2009) | 2 lines

fix crash in wifi

------------------------------------------------------------------------
r1781 | matusz | 2009-03-28 03:46:44 +0800 (六, 28  3月 2009) | 7 lines

gtk-port: kbd save/load ; make controls additive

one can load (f1-f10) and save (shift+f1-f10) from keyboard while playing
corrected a bug that made controls pressed together not work

changed ISO8859-1 in fr.po to ISO-8859-1

------------------------------------------------------------------------
r1780 | luigi__ | 2009-03-28 00:12:07 +0800 (六, 28  3月 2009) | 2 lines

Added more wifi emulation. Some fixes, and support for two new types of management frames, as well as support for sending data frames.

------------------------------------------------------------------------
r1779 | matusz | 2009-03-27 21:32:04 +0800 (五, 27  3月 2009) | 2 lines

gtk-port: command line option to load savegame

------------------------------------------------------------------------
r1778 | matusz | 2009-03-27 20:50:47 +0800 (五, 27  3月 2009) | 8 lines

gtk-port: add software rasterizer

gtk-port changes:
adding software rasterizer to the gtk port
adding option to select 3d renderer (null by default)

configure.ac: make osmesa enabling macro a bit more explicit

------------------------------------------------------------------------
r1777 | zeromus | 2009-03-27 07:00:40 +0800 (五, 27  3月 2009) | 2 lines

more graceful wifi compiling in vs2005

------------------------------------------------------------------------
r1776 | luigi__ | 2009-03-27 06:38:45 +0800 (五, 27  3月 2009) | 2 lines

Added code for the Wifi settings dialog.

------------------------------------------------------------------------
r1775 | zeromus | 2009-03-27 06:17:24 +0800 (五, 27  3月 2009) | 2 lines

fixes for compiling new pcap stuff

------------------------------------------------------------------------
r1774 | luigi__ | 2009-03-27 06:04:56 +0800 (五, 27  3月 2009) | 3 lines

Added the winpcap lib to the link options.
Also, I added the EXPERIMENTAL_WIFI define, and the _WINSOCKAPI_ define which is required to get the Wifi core to compile.

------------------------------------------------------------------------
r1773 | luigi__ | 2009-03-27 05:40:41 +0800 (五, 27  3月 2009) | 3 lines

Added the winpcap lib to the link options.
Also, I added the EXPERIMENTAL_WIFI define, and the _WINSOCKAPI_ define which is required to get the Wifi core to compile.

------------------------------------------------------------------------
r1772 | luigi__ | 2009-03-27 05:34:28 +0800 (五, 27  3月 2009) | 3 lines

Added all the include and lib files for WinPCap.
Warning: don't forget to provide the WinPCap DLL with the DeSmuME binaries when releasing!

------------------------------------------------------------------------
r1771 | zeromus | 2009-03-27 04:52:01 +0800 (五, 27  3月 2009) | 2 lines

[ 2710782 ] win32: saved window position gradually floats around the screen

------------------------------------------------------------------------
r1770 | luigi__ | 2009-03-27 00:51:55 +0800 (五, 27  3月 2009) | 2 lines

Added a wifi settings dialog.

------------------------------------------------------------------------
r1769 | matusz | 2009-03-26 22:07:20 +0800 (四, 26  3月 2009) | 2 lines

cli-port: updated manpage

------------------------------------------------------------------------
r1768 | matusz | 2009-03-26 09:47:51 +0800 (四, 26  3月 2009) | 2 lines

cli port: in-game save/load

------------------------------------------------------------------------
r1767 | matusz | 2009-03-26 06:56:48 +0800 (四, 26  3月 2009) | 2 lines

cli port: option for loading saved game

------------------------------------------------------------------------
r1766 | matusz | 2009-03-26 06:11:43 +0800 (四, 26  3月 2009) | 2 lines

make rasterizer optional in cli port

------------------------------------------------------------------------
r1765 | matusz | 2009-03-26 05:19:47 +0800 (四, 26  3月 2009) | 2 lines

add software rasterizer 3d to cli port

------------------------------------------------------------------------
r1764 | zeromus | 2009-03-26 01:11:16 +0800 (四, 26  3月 2009) | 2 lines

while i had a test case set up, make some small performance improvements to display capture copy loops

------------------------------------------------------------------------
r1763 | zeromus | 2009-03-25 23:14:57 +0800 (三, 25  3月 2009) | 2 lines

parenthesize expression correctly

------------------------------------------------------------------------
r1762 | mtabachenko | 2009-03-25 20:03:59 +0800 (三, 25  3月 2009) | 3 lines

core:
- fix VRAM mapping

------------------------------------------------------------------------
r1761 | zeromus | 2009-03-25 12:51:07 +0800 (三, 25  3月 2009) | 2 lines

win32: add a 3d fps counter so you can see how fast the game logic is running. this isnt as good as a proper lag counter

------------------------------------------------------------------------
r1760 | zeromus | 2009-03-25 10:40:27 +0800 (三, 25  3月 2009) | 2 lines

win32: at some point the emulator quit remembering the window position between sessions. i fixed that.

------------------------------------------------------------------------
r1759 | zeromus | 2009-03-25 06:40:03 +0800 (三, 25  3月 2009) | 2 lines

another fix to 3d capture (possibly a regression made the other day); additionally a fix to rotated bg coordinate wrapping

------------------------------------------------------------------------
r1758 | mtabachenko | 2009-03-25 04:16:56 +0800 (三, 25  3月 2009) | 5 lines

- many fixes in cheat system (core & winport);

winport:
- added edit, remove & toggle on/off cheat in list;

------------------------------------------------------------------------
r1757 | zeromus | 2009-03-24 12:11:41 +0800 (二, 24  3月 2009) | 2 lines

win32: somehow zip loading got left out of the vs2005 debug vcproj. i think there may have been some reason why, but i dont remember it

------------------------------------------------------------------------
r1756 | riccardom | 2009-03-24 05:28:36 +0800 (二, 24  3月 2009) | 2 lines

Move saves menu under emulation to keep the gtk window size the same of the display.

------------------------------------------------------------------------
r1755 | zeromus | 2009-03-24 02:05:49 +0800 (二, 24  3月 2009) | 2 lines

another fix for cross of venus, which should now display from boot-up. this is part of a nest of evil that has been opened up due to needing to support the rendering of 2d graphics even while display mode is `off` or `vram framebuffer` or `main ram from fifo` so we will need to keep our eyes peeled for games whose display modes are totally broken due to this. it should be easy to straighten out.

------------------------------------------------------------------------
r1754 | zeromus | 2009-03-23 11:02:36 +0800 (一, 23  3月 2009) | 2 lines

fix to capturing in a mode we hadnt tested yet. this fixes cross of venus

------------------------------------------------------------------------
r1753 | riccardom | 2009-03-21 22:21:22 +0800 (六, 21  3月 2009) | 2 lines

Use proper gint macros for converting pointers and ints in the new saves code. While at it convert the loop to a for one.

------------------------------------------------------------------------
r1752 | riccardom | 2009-03-21 22:09:29 +0800 (六, 21  3月 2009) | 2 lines

Correct _MSC_VER definition check

------------------------------------------------------------------------
r1751 | yabause | 2009-03-21 05:50:14 +0800 (六, 21  3月 2009) | 3 lines

Added save types to gtk port. I have no idea if
this work, please report problems... :)

------------------------------------------------------------------------
r1750 | zeromus | 2009-03-20 07:08:13 +0800 (五, 20  3月 2009) | 2 lines

win32: restore oam and pal viewer scrollbars which had mysteriously vanished

------------------------------------------------------------------------
r1749 | zeromus | 2009-03-20 02:58:14 +0800 (五, 20  3月 2009) | 2 lines

fix for loading savestates which mismatch current 8MB debug mode setting

------------------------------------------------------------------------
r1748 | zeromus | 2009-03-20 01:26:15 +0800 (五, 20  3月 2009) | 2 lines

add concept of #ifdef DEVELOPER ("dev+") build type which will be used to prevent costly diagnostics computations and finetuning configurations from slowing down other users.

------------------------------------------------------------------------
r1747 | zeromus | 2009-03-18 10:55:37 +0800 (三, 18  3月 2009) | 2 lines

rasterize: small fix to shadows. i still can't get them working perfectly though :(

------------------------------------------------------------------------
r1746 | riccardom | 2009-03-18 03:23:21 +0800 (三, 18  3月 2009) | 2 lines

Shut up gcc warnings for ignored fwrite returns. Frankly, who cares about bmp images :P

------------------------------------------------------------------------
r1745 | zeromus | 2009-03-17 13:57:37 +0800 (二, 17  3月 2009) | 2 lines

win32: [ 2607896 ] 1.5x Window Size

------------------------------------------------------------------------
r1744 | zeromus | 2009-03-17 13:45:51 +0800 (二, 17  3月 2009) | 2 lines

win32: add separate framelimiter so that you can use frameskip 0 + limit (the old pre-0.9.1 style before I broke it)

------------------------------------------------------------------------
r1743 | zeromus | 2009-03-17 10:40:42 +0800 (二, 17  3月 2009) | 2 lines

rasterize: more work on shadow accuracy. back to you, __luigi

------------------------------------------------------------------------
r1742 | riccardom | 2009-03-15 22:55:44 +0800 (日, 15  3月 2009) | 2 lines

Shut up a few more warnings.

------------------------------------------------------------------------
r1741 | riccardom | 2009-03-15 22:40:46 +0800 (日, 15  3月 2009) | 2 lines

Remove unused variable and comment BTcoords while its users are commentend too.

------------------------------------------------------------------------
r1740 | riccardom | 2009-03-15 22:33:55 +0800 (日, 15  3月 2009) | 2 lines

Fix compilation on !WIN32

------------------------------------------------------------------------
r1739 | mtabachenko | 2009-03-15 22:03:02 +0800 (日, 15  3月 2009) | 3 lines

core:
- added save/load cheats for other ports (sorry old saved cheats don't work, i change file format). later i fix winport cheat system

------------------------------------------------------------------------
r1738 | luigi__ | 2009-03-15 21:43:07 +0800 (日, 15  3月 2009) | 3 lines

Cartridge emulation entirely remade as I was trying to get the BIOS running. But I can't get the BIOS running.
The Nintendo logo checksum in the cart header is copied to 0x027FF808, allowing the firmware to detect the cart. But unfortunately you can't boot from it.

------------------------------------------------------------------------
r1737 | riccardom | 2009-03-11 05:27:40 +0800 (三, 11  3月 2009) | 2 lines

Made some functions static, removed one unused variable, and changed the type of string constant to const char*.

------------------------------------------------------------------------
r1736 | luigi__ | 2009-03-11 04:05:40 +0800 (三, 11  3月 2009) | 2 lines

Added the ARM7 GetBootProcs SWI. It fixes the firmware freeze when trying to do anything.

------------------------------------------------------------------------
r1735 | luigi__ | 2009-03-11 00:48:03 +0800 (三, 11  3月 2009) | 3 lines

Added the ability to write to the external firmware image (when there's one).
The firmware can now save new settings!

------------------------------------------------------------------------
r1734 | luigi__ | 2009-03-10 06:33:08 +0800 (二, 10  3月 2009) | 4 lines

Fixed a lot of glitches with shadows (but there are still glitches).
If you think it's wrong, read this: http://nocash.emubase.de/gbatek.htm#ds3dshadowpolygons
GBATek rocks :)

------------------------------------------------------------------------
r1733 | zeromus | 2009-03-10 00:40:30 +0800 (二, 10  3月 2009) | 2 lines

rasterize: some small speedups and experimental optimization code

------------------------------------------------------------------------
r1732 | zeromus | 2009-03-09 13:07:30 +0800 (一, 09  3月 2009) | 2 lines

win32: fix a crash which happened randomly when the app exited

------------------------------------------------------------------------
r1731 | riccardom | 2009-03-08 21:34:03 +0800 (日, 08  3月 2009) | 2 lines

Add missing include.

------------------------------------------------------------------------
r1730 | riccardom | 2009-03-08 05:03:56 +0800 (日, 08  3月 2009) | 2 lines

Remove cvs id leftover.

------------------------------------------------------------------------
r1729 | luigi__ | 2009-03-06 06:51:13 +0800 (五, 06  3月 2009) | 2 lines

Fixed another bug.

------------------------------------------------------------------------
r1728 | luigi__ | 2009-03-06 06:47:13 +0800 (五, 06  3月 2009) | 2 lines

Fixed another bug.

------------------------------------------------------------------------
r1727 | luigi__ | 2009-03-06 06:44:18 +0800 (五, 06  3月 2009) | 2 lines

Fixed a few bugs.

------------------------------------------------------------------------
r1726 | luigi__ | 2009-03-06 06:34:39 +0800 (五, 06  3月 2009) | 3 lines

Added the needed code for the emulation settings dialog.
External BIOS, SWIs from BIOS, external firmware and boot from firmware now working.

------------------------------------------------------------------------
r1725 | luigi__ | 2009-03-06 05:34:23 +0800 (五, 06  3月 2009) | 2 lines

Modified the emulation settings dialog to hold BIOS/firmware config.

------------------------------------------------------------------------
r1724 | riccardom | 2009-03-04 04:57:42 +0800 (三, 04  3月 2009) | 2 lines

Fix some gcc warnings in rasterize.cpp: remove unused variables, rename shadowing variables, make a function static, change depth type to same of the variable it is tested against.

------------------------------------------------------------------------
r1723 | riccardom | 2009-03-04 04:43:14 +0800 (三, 04  3月 2009) | 2 lines

Move nds7old under WIFI_EXPERIMENTAL, outside it's unused.

------------------------------------------------------------------------
r1722 | riccardom | 2009-03-04 04:38:25 +0800 (三, 04  3月 2009) | 2 lines

Remove nested /* */ comments

------------------------------------------------------------------------
r1721 | zeromus | 2009-03-04 04:04:16 +0800 (三, 04  3月 2009) | 2 lines

try fixing unresolved link errors with gcc

------------------------------------------------------------------------
r1720 | riccardom | 2009-03-04 03:41:49 +0800 (三, 04  3月 2009) | 2 lines

Remove three functions that has been made static in MMU.cpp

------------------------------------------------------------------------
r1719 | zeromus | 2009-03-03 10:01:38 +0800 (二, 03  3月 2009) | 2 lines

substantial core peformance improvements of a few FPS: remove checks for 0 parameters in operand ROR which was a big waste of time; also rearranged MMU read/write routines inlinedness and added some early outs for DTCM and main mem. The MMU read/writes are a mess and will be overhauled soon in separate checkins.

------------------------------------------------------------------------
r1718 | zeromus | 2009-03-02 00:40:19 +0800 (一, 02  3月 2009) | 2 lines

rasterize: clean up a little bit and speed up some

------------------------------------------------------------------------
r1717 | luigi__ | 2009-02-27 21:37:29 +0800 (五, 27  2月 2009) | 3 lines

Some bugfixes here and there. Also, better timing.
And mostly, very incomplete implementation of SoftAP. ATM, it sends beacons every 100 ms, and tries to reply to probe request frames. But it doesn't work yet. If somebody can find what's wrong, he's welcome.

------------------------------------------------------------------------
r1716 | zeromus | 2009-02-27 16:53:03 +0800 (五, 27  2月 2009) | 2 lines

rasterize: unexpected necessity: render any convex polygon without triangulating (more complex polygons can be created by culling)

------------------------------------------------------------------------
r1715 | zeromus | 2009-02-27 15:15:34 +0800 (五, 27  2月 2009) | 2 lines

rasterize: quads are now directly supported

------------------------------------------------------------------------
r1714 | zeromus | 2009-02-27 12:06:58 +0800 (五, 27  2月 2009) | 2 lines

win32: default keyboard config was wrong for L and R buttons

------------------------------------------------------------------------
r1713 | zeromus | 2009-02-27 12:01:26 +0800 (五, 27  2月 2009) | 2 lines

rasterize: continue formulating new triangle engine into a form that will be easier to extend to quads

------------------------------------------------------------------------
r1712 | zeromus | 2009-02-26 17:06:24 +0800 (四, 26  2月 2009) | 2 lines

rasterize: continue formulating new triangle engine into a form that will be easier to extend to quads

------------------------------------------------------------------------
r1711 | luigi__ | 2009-02-26 05:47:20 +0800 (四, 26  2月 2009) | 2 lines

Coorected errors with WIFI_triggerIRQ.

------------------------------------------------------------------------
r1710 | luigi__ | 2009-02-26 05:32:56 +0800 (四, 26  2月 2009) | 3 lines

More correct emulation of the power registers.
(Tested, doesn't seem to break anything)

------------------------------------------------------------------------
r1709 | luigi__ | 2009-02-26 03:20:47 +0800 (四, 26  2月 2009) | 3 lines

Hacked two regs, so most games don't freeze anymore when using wifi functionality.
But I'm perfectly conscient that it isn't correct emulation. I'll try to implement these correctly.

------------------------------------------------------------------------
r1708 | zeromus | 2009-02-25 17:58:14 +0800 (三, 25  2月 2009) | 2 lines

also ifdef my debugging code which only works on windows

------------------------------------------------------------------------
r1707 | zeromus | 2009-02-25 17:57:06 +0800 (三, 25  2月 2009) | 2 lines

add a hotkey to switch gpu cores. add a new triangle rasterizer (currently disabled) which should yield more accurate results once we wrestle with it some more. split the pixel ops out of the rasterizer so that it can be worked on mostly independently.

------------------------------------------------------------------------
r1706 | luigi__ | 2009-02-25 06:59:41 +0800 (三, 25  2月 2009) | 3 lines

Some fixes to the wifi core, mostly to the BB writes, but also a very inaccurate random generator (uses rand() atm), and saving all the I/O values to a buffer, for unsupported I/O ports, and support for 32-bit reads/writes to wifi I/O ports.
Games still freeze on wifi transmission but now they send stuff to the wifi core.

------------------------------------------------------------------------
r1705 | zeromus | 2009-02-25 04:33:15 +0800 (三, 25  2月 2009) | 2 lines

defer installation of polyattr until a begin command, and give a warning when you try to set polyattr inside a begin/end pair since this is probably a mistake.

------------------------------------------------------------------------
r1704 | gecko_reverse | 2009-02-24 16:25:50 +0800 (二, 24  2月 2009) | 2 lines

cocoa port codeblocksproj/rakefile put their stuff in the build folder now

------------------------------------------------------------------------
r1703 | gecko_reverse | 2009-02-24 11:22:12 +0800 (二, 24  2月 2009) | 2 lines

added Italian translation to cocoa port thanks to Paolo Bernini. move cocoa translation files to their own folder to simplify things

------------------------------------------------------------------------
r1702 | gecko_reverse | 2009-02-24 10:19:41 +0800 (二, 24  2月 2009) | 2 lines

cocoa compile fix (needed texcache)

------------------------------------------------------------------------
r1701 | luigi__ | 2009-02-24 08:41:48 +0800 (二, 24  2月 2009) | 2 lines

Fixed a bug with screen gap of 64 pixels.

------------------------------------------------------------------------
r1700 | luigi__ | 2009-02-17 08:59:35 +0800 (二, 17  2月 2009) | 3 lines

Display should now work for people who have their desktop color depth set to 16bpp (RGB 565).
Also added more correct handling of unsupported desktop colour depth.

------------------------------------------------------------------------
r1699 | luigi__ | 2009-02-17 06:07:37 +0800 (二, 17  2月 2009) | 3 lines

The WM_LBUTTONDBLCLK message is now handled.
This makes the SPP puzzle mini-game much easier to play.

------------------------------------------------------------------------
r1698 | luigi__ | 2009-02-16 08:30:59 +0800 (一, 16  2月 2009) | 2 lines

Enabled the lid open/close key.

------------------------------------------------------------------------
r1697 | luigi__ | 2009-02-15 20:12:37 +0800 (日, 15  2月 2009) | 2 lines

Fixed a possible bug with read/write flag of big-endian commands.

------------------------------------------------------------------------
r1696 | zeromus | 2009-02-15 10:22:26 +0800 (日, 15  2月 2009) | 2 lines

windows: change debug builds to use fast floating point. since thats what we want final builds to use. also, prevent hotkeys and input keys from working while the game window is not foreground

------------------------------------------------------------------------
r1695 | luigi__ | 2009-02-15 09:38:48 +0800 (日, 15  2月 2009) | 2 lines

Added support for viewport.

------------------------------------------------------------------------
r1694 | zeromus | 2009-02-15 09:28:36 +0800 (日, 15  2月 2009) | 2 lines

rasterize: fix an interaction between polyids and shadows resulting in failure to render shadows sometimes

------------------------------------------------------------------------
r1693 | luigi__ | 2009-02-15 09:19:28 +0800 (日, 15  2月 2009) | 3 lines

Fixed the shader availability check once again.
Also added more infos for shader creation errors.

------------------------------------------------------------------------
r1692 | zeromus | 2009-02-15 06:32:30 +0800 (日, 15  2月 2009) | 2 lines

apparently the very ancient form was wrong for thumb. now it is back to the most modern form, but it looks different than the arm equivalent. we need an expert to sort this out, or we need to find a rock solid arm cpu emulator and compare it to that.

------------------------------------------------------------------------
r1691 | zeromus | 2009-02-15 06:28:32 +0800 (日, 15  2月 2009) | 2 lines

fix ff4 zoning bugs. its the SBCS/RSCS flags again. I reverted these to very ancient forms, in arm and thumb. Lets try it out for a while.

------------------------------------------------------------------------
r1690 | zeromus | 2009-02-15 06:24:45 +0800 (日, 15  2月 2009) | 2 lines

fix the RGB ordering of dumped textures

------------------------------------------------------------------------
r1689 | luigi__ | 2009-02-15 06:04:24 +0800 (日, 15  2月 2009) | 4 lines

Added support for 16-bit and 32-bit read/writes to the RTC reg,
and fixed the little-endian commands.
With these fixes, the SPP menu background has now the right colour depending on the time (formerly it was always night blue).

------------------------------------------------------------------------
r1688 | riccardom | 2009-02-14 21:36:21 +0800 (六, 14  2月 2009) | 4 lines

Removed redefition of WORDS_BIGENDIAN on big endian machine as showed by
this build log on ppc: http://buildsys.rpmfusion.org/logs/fedora-development-rpmfusion_free/2765-desmume-0.9.1-1.fc11/ppc/build.log. Spotted by Andrea
Musuruane.

------------------------------------------------------------------------
r1687 | riccardom | 2009-02-14 21:26:33 +0800 (六, 14  2月 2009) | 2 lines

Apply patch from Andrea Musuruane to fix compilation with g++ 4.4, fix #2599049.

------------------------------------------------------------------------
r1686 | luigi__ | 2009-02-14 20:20:50 +0800 (六, 14  2月 2009) | 2 lines

Corrected the DS gap to 64 pixels (Thanks to Atma).

------------------------------------------------------------------------
r1685 | luigi__ | 2009-02-13 22:29:07 +0800 (五, 13  2月 2009) | 8 lines

Added an option to separate the screens. ATM the gap between the screens is white, maybe you won't like it, I'll try to make it prettier in the future.
There are 3 options:
-No separation (screens stuck together)
-Narrow border (5-pixel border, like NO$GBA)
-DS (90-pixel gap, approximatively reproduces the gap on the DS)

Also added the missing Help->About menu item to the French and Danish menus.

------------------------------------------------------------------------
r1684 | luigi__ | 2009-02-13 02:51:08 +0800 (五, 13  2月 2009) | 2 lines

Fixed a bug with PM hours in 24-hour mode.

------------------------------------------------------------------------
r1683 | riccardom | 2009-02-12 04:32:17 +0800 (四, 12  2月 2009) | 2 lines

Fix "gfx3d.cpp:622: warning: array subscript is above array bounds" by removing that line that is now unused (confirmed by zero).

------------------------------------------------------------------------
r1682 | zeromus | 2009-02-11 16:58:26 +0800 (三, 11  2月 2009) | 2 lines

rasterize: perspective correct material colors--not doing this was a bug. optionally interpolate material colors when clipping. the hardware doesnt do this, but it looks ugly on the hardware and unless I am debugging I want it done.

------------------------------------------------------------------------
r1681 | zeromus | 2009-02-11 13:21:40 +0800 (三, 11  2月 2009) | 2 lines

win32: cleanup and fix bug where input is ignored during frameadvance

------------------------------------------------------------------------
r1680 | zeromus | 2009-02-11 12:45:08 +0800 (三, 11  2月 2009) | 2 lines

win32: fix some hotkey bugs. change how the main wndproc works, because it was working in a lame way before. this might have some subtle undesired effects but none of them serious

------------------------------------------------------------------------
r1679 | zeromus | 2009-02-11 12:23:52 +0800 (三, 11  2月 2009) | 2 lines

win32: route all the old hardcoded accelerators through the hotkey system

------------------------------------------------------------------------
r1678 | zeromus | 2009-02-11 11:14:36 +0800 (三, 11  2月 2009) | 2 lines

win32: move hotkey code and definitions to its own file, for more easy organization

------------------------------------------------------------------------
r1677 | zeromus | 2009-02-11 11:05:59 +0800 (三, 11  2月 2009) | 2 lines

win32: pass #2 of adding snes9x input configuration - hotkey system added

------------------------------------------------------------------------
r1676 | luigi__ | 2009-02-11 06:16:18 +0800 (三, 11  2月 2009) | 2 lines

POV diagonals now work correctly.

------------------------------------------------------------------------
r1675 | zeromus | 2009-02-11 05:45:30 +0800 (三, 11  2月 2009) | 2 lines

win32: try this to fix compilation on older sdks

------------------------------------------------------------------------
r1674 | luigi__ | 2009-02-11 00:57:52 +0800 (三, 11  2月 2009) | 2 lines

Added support for decal texture blending and toon/highlight shading.

------------------------------------------------------------------------
r1673 | luigi__ | 2009-02-11 00:28:22 +0800 (三, 11  2月 2009) | 2 lines

Fixed language support for Vista.

------------------------------------------------------------------------
r1672 | mtabachenko | 2009-02-10 20:54:10 +0800 (二, 10  2月 2009) | 2 lines

-fix render & OSD (moved to gpu.cpp)

------------------------------------------------------------------------
r1671 | mtabachenko | 2009-02-10 18:56:39 +0800 (二, 10  2月 2009) | 4 lines

- fix bug #2584564;

current osd method slow and incorrect. this need to rewrite. I think need make: data send to OSD buffer in core, but data from osd buffer must render in port depend (ex. in windows with DDraw). still this will fix display capture.

------------------------------------------------------------------------
r1670 | zeromus | 2009-02-10 16:21:48 +0800 (二, 10  2月 2009) | 2 lines

win32: fix joystick up/down; add something back for rumble support, but still havent tested it

------------------------------------------------------------------------
r1669 | zeromus | 2009-02-10 14:47:06 +0800 (二, 10  2月 2009) | 2 lines

win32: pass #1 of adding snes9x input configuration - input binding system and dialog implemented, meshed with our directinput joystick system for rumble support. I have no rumble pad; can someone test it?

------------------------------------------------------------------------
r1668 | luigi__ | 2009-02-10 06:21:14 +0800 (二, 10  2月 2009) | 2 lines

The window is now refreshed even when resized or moved.

------------------------------------------------------------------------
r1667 | luigi__ | 2009-02-10 06:07:49 +0800 (二, 10  2月 2009) | 3 lines

Made the OSD messages totally rotation aware. Thus, for example, when using rotation, the FPS counter doesn't rotate anymore.
Also a bit of cleanup (removed some unused funcs in main.cpp).

------------------------------------------------------------------------
r1666 | luigi__ | 2009-02-10 03:08:06 +0800 (二, 10  2月 2009) | 2 lines

Fixed a bug with texcoord generation mode 2 (normal).

------------------------------------------------------------------------
r1665 | luigi__ | 2009-02-10 02:59:52 +0800 (二, 10  2月 2009) | 4 lines

The emu is now paused when minimized.
WM_PAINT is handled when the emu is paused so the screen is still refreshed.
The screen buffer is filled with white upon reset, if you don't like it you can set another color.

------------------------------------------------------------------------
r1664 | luigi__ | 2009-02-10 02:08:47 +0800 (二, 10  2月 2009) | 3 lines

The GPU image data is now drawn to a temporary buffer, then copied to GPU_screen.
This avoids OSD messages overprinting when the screen isn't refreshed (for example when closing the lid).

------------------------------------------------------------------------
r1663 | luigi__ | 2009-02-10 01:18:58 +0800 (二, 10  2月 2009) | 3 lines

Added support for Sleep mode (experimental), so for most games, when you close the lid, the game won't continue running. Also improved a bit the close lid func (no need to pause the SPU).
Also added basic support for the SPI power management device.

------------------------------------------------------------------------
r1662 | zeromus | 2009-02-09 10:22:00 +0800 (一, 09  2月 2009) | 2 lines

rasterize: clean up some interactions between translucent polyids and shadows

------------------------------------------------------------------------
r1661 | zeromus | 2009-02-09 09:32:47 +0800 (一, 09  2月 2009) | 2 lines

rasterize: stencil shadows

------------------------------------------------------------------------
r1660 | zeromus | 2009-02-09 08:51:19 +0800 (一, 09  2月 2009) | 2 lines

rasterize: fix same transparent-translucent blending on same polyids

------------------------------------------------------------------------
r1659 | zeromus | 2009-02-09 08:23:17 +0800 (一, 09  2月 2009) | 2 lines

rasterize: a trivial optimization which i had been itching to make

------------------------------------------------------------------------
r1658 | zeromus | 2009-02-09 07:38:21 +0800 (一, 09  2月 2009) | 2 lines

rasterize: fixes to depth buffering. now w- and z- buffer both work. also update version to 1.9.2

------------------------------------------------------------------------
r1657 | zeromus | 2009-02-09 06:52:10 +0800 (一, 09  2月 2009) | 2 lines

rasterize: clipping works the way it should now.

------------------------------------------------------------------------
r1655 | mtabachenko | 2009-02-09 05:42:16 +0800 (一, 09  2月 2009) | 3 lines

winport:
- fix Intel C++ project;

------------------------------------------------------------------------
r1654 | luigi__ | 2009-02-09 05:38:30 +0800 (一, 09  2月 2009) | 3 lines

Stub implementation for ARM7 SWI #7 (Sleep), by writing 0xC0 to HALTCNT, exactly as on the DS.
TODO: implement HALTCNT at the MMU side.

------------------------------------------------------------------------
r1650 | zeromus | 2009-02-09 05:29:40 +0800 (一, 09  2月 2009) | 2 lines

fix to authors file

------------------------------------------------------------------------
r1647 | yabause | 2009-02-08 23:45:22 +0800 (日, 08  2月 2009) | 2 lines

Added some missing files to windows port.

------------------------------------------------------------------------
r1645 | yabause | 2009-02-08 22:35:05 +0800 (日, 08  2月 2009) | 2 lines

s/0.10/0.9.1/

------------------------------------------------------------------------
r1644 | luigi__ | 2009-02-08 19:49:56 +0800 (日, 08  2月 2009) | 3 lines

The output sound buffer is now zeroed out before mixing, that prevents noise when the SPU is disabled.
Cleaned up the SPU read/write funcs (removed useless switch statements).

------------------------------------------------------------------------
r1643 | zeromus | 2009-02-08 13:55:07 +0800 (日, 08  2月 2009) | 2 lines

rasterize: fix the most serious clipping issues which rendered games unplayable. now they are merely ugly

------------------------------------------------------------------------
r1642 | riccardom | 2009-02-08 01:45:33 +0800 (日, 08  2月 2009) | 2 lines

Fix gcc compilation as suggested by zero on irc.

------------------------------------------------------------------------
r1641 | luigi__ | 2009-02-08 01:20:13 +0800 (日, 08  2月 2009) | 2 lines

oops... forgot to remove something. Never mind.

------------------------------------------------------------------------
r1640 | luigi__ | 2009-02-08 01:19:26 +0800 (日, 08  2月 2009) | 3 lines

Fixed the texcoord generation mode 2 (normal).
I know it's strange, but it seems the transform must be applied on the raw texcoord val, not on the floating-point one.

------------------------------------------------------------------------
r1639 | luigi__ | 2009-02-07 22:18:51 +0800 (六, 07  2月 2009) | 4 lines

Added support for the polygon ID shit, using the stencil buffer.
I also changed the values used when rendering opaque polygons or shadows, so they don't interfer with the translucent polygons.
We can now close the bug report #2488334 for good!

------------------------------------------------------------------------
r1638 | zeromus | 2009-02-07 18:11:18 +0800 (六, 07  2月 2009) | 2 lines

rasterize: better clipping. still a horrible bug somewhere, and w-buffer doesnt work

------------------------------------------------------------------------
r1637 | zeromus | 2009-02-07 14:56:07 +0800 (六, 07  2月 2009) | 2 lines

rasterize: first attempt at clipping. works well, but still glitches

------------------------------------------------------------------------
r1636 | zeromus | 2009-02-07 01:31:24 +0800 (六, 07  2月 2009) | 2 lines

rasterize: I dont think it made sense to interpolate material alpha. just one value per poly

------------------------------------------------------------------------
r1635 | zeromus | 2009-02-07 00:51:00 +0800 (六, 07  2月 2009) | 2 lines

nope, my way is much faster, and clearer to boot

------------------------------------------------------------------------
r1634 | luigi__ | 2009-02-06 23:13:16 +0800 (五, 06  2月 2009) | 2 lines

Oops, somebody removed my triangle-strip vertex submitting, probably not on purpose.

------------------------------------------------------------------------
r1633 | luigi__ | 2009-02-06 23:06:30 +0800 (五, 06  2月 2009) | 2 lines

Removed an assert which broke SM64DS.

------------------------------------------------------------------------
r1632 | zeromus | 2009-02-06 17:28:01 +0800 (五, 06  2月 2009) | 2 lines

rasterize: z-buffering and more accurate blending

------------------------------------------------------------------------
r1631 | zeromus | 2009-02-06 14:50:40 +0800 (五, 06  2月 2009) | 2 lines

fix a tiny error in the ogl renderer state caching

------------------------------------------------------------------------
r1630 | zeromus | 2009-02-06 12:56:14 +0800 (五, 06  2月 2009) | 2 lines

rasterize: handle polyids, improve transparency logic

------------------------------------------------------------------------
r1629 | zeromus | 2009-02-06 12:14:11 +0800 (五, 06  2月 2009) | 2 lines

rasterize: improve texturing precision

------------------------------------------------------------------------
r1628 | luigi__ | 2009-02-06 05:52:58 +0800 (五, 06  2月 2009) | 4 lines

Better culling (thanks to sgstair).
Changed the vertex submitting method as I did for OGLRender. The clockwise-defined triangles are re-ordered as the renderer doesn't seem to like them.
And last, added SoftRast before the function names, as I had to do with OGLRender.

------------------------------------------------------------------------
r1627 | luigi__ | 2009-02-05 23:56:01 +0800 (四, 05  2月 2009) | 2 lines

Seems Resedit had a problem saving this bitmap :/

------------------------------------------------------------------------
r1626 | luigi__ | 2009-02-05 23:46:57 +0800 (四, 05  2月 2009) | 3 lines

Added a 20x20 background bitmap.
(Will be used in the new viewers)

------------------------------------------------------------------------
r1625 | zeromus | 2009-02-05 18:16:19 +0800 (四, 05  2月 2009) | 2 lines

rasterizer: fix texture sampling issues and drawing of back faces

------------------------------------------------------------------------
r1624 | luigi__ | 2009-02-05 05:33:00 +0800 (四, 05  2月 2009) | 2 lines

Again some adjustments to the BG map viewer template.

------------------------------------------------------------------------
r1623 | luigi__ | 2009-02-05 04:47:26 +0800 (四, 05  2月 2009) | 2 lines

Changed a bit the new bg map viewer pattern.

------------------------------------------------------------------------
r1622 | riccardom | 2009-02-05 03:39:11 +0800 (四, 05  2月 2009) | 2 lines

Declare variables in the same order they are initialized to fix a gcc warning.

------------------------------------------------------------------------
r1621 | riccardom | 2009-02-05 03:38:23 +0800 (四, 05  2月 2009) | 2 lines

Make a function static.

------------------------------------------------------------------------
r1620 | luigi__ | 2009-02-05 03:14:13 +0800 (四, 05  2月 2009) | 3 lines

Changed the vertex submitting method: all the polys are rendered as triangles, so the vertex number can be anything you want. It doesn't seem to cause glitches.
It'll probably be required for clipping, as we'll need replacing clipping vertices properly, like the DS does.

------------------------------------------------------------------------
r1619 | zeromus | 2009-02-04 11:28:50 +0800 (三, 04  2月 2009) | 2 lines

rasterize: fix off by one texel error

------------------------------------------------------------------------
r1618 | zeromus | 2009-02-04 10:45:38 +0800 (三, 04  2月 2009) | 2 lines

didnt mean to leave texture dumping enabled

------------------------------------------------------------------------
r1617 | zeromus | 2009-02-04 10:34:07 +0800 (三, 04  2月 2009) | 2 lines

rasterizer: more correct texturing and alpha blending

------------------------------------------------------------------------
r1616 | luigi__ | 2009-02-04 06:32:29 +0800 (三, 04  2月 2009) | 3 lines

Added the template of the new map viewer. I'll start coding it tomorrow.
(For info, you shouldn't commit resource.h after having just saved it with VS just to test Resedit, it gives me conflicts with TortoiseSVN, and Resedit can still open it. It just annoys me. Thank you for your understanding.)

------------------------------------------------------------------------
r1615 | mtabachenko | 2009-02-04 06:26:45 +0800 (三, 04  2月 2009) | 2 lines

- opps, forgot remove it

------------------------------------------------------------------------
r1614 | mtabachenko | 2009-02-04 06:26:01 +0800 (三, 04  2月 2009) | 2 lines

moved timers id for Windows port in common.h :)

------------------------------------------------------------------------
r1613 | zeromus | 2009-02-04 06:04:36 +0800 (三, 04  2月 2009) | 2 lines

saving from vs2005 once more. see how resedit likes it

------------------------------------------------------------------------
r1612 | luigi__ | 2009-02-04 05:53:37 +0800 (三, 04  2月 2009) | 2 lines

Moved the timer IDs to an external include because, if they're located in resource.h, Resedit will blow them up when saving.

------------------------------------------------------------------------
r1610 | zeromus | 2009-02-04 05:42:06 +0800 (三, 04  2月 2009) | 2 lines

this is what happens when i save resources back out with vs2005. can luigi still load them?

------------------------------------------------------------------------
r1609 | mtabachenko | 2009-02-04 05:36:50 +0800 (三, 04  2月 2009) | 2 lines

fix for windows resources;

------------------------------------------------------------------------
r1608 | luigi__ | 2009-02-04 05:21:41 +0800 (三, 04  2月 2009) | 3 lines

VS doesn't seem to support sublang IDs, so we'll cheat a bit.
(Anyway I don't think they're so important)

------------------------------------------------------------------------
r1607 | luigi__ | 2009-02-04 05:11:59 +0800 (三, 04  2月 2009) | 3 lines

Fixed compatibility with Resedit.
Test: just opened the resource file with Resedit and saved it. The file is now said to be generated by Resedit. If VS can't handle it, revert this commit.

------------------------------------------------------------------------
r1606 | luigi__ | 2009-02-04 04:49:01 +0800 (三, 04  2月 2009) | 3 lines

Added two defs for Resedit to work correctly with the resource file.
(Reminder: I plan to remake the tools and I'll use Resedit as my VS2008 is Express and doesn't have resource edition)

------------------------------------------------------------------------
r1605 | riccardom | 2009-02-04 04:08:21 +0800 (三, 04  2月 2009) | 2 lines

Add static qualifier where due.

------------------------------------------------------------------------
r1604 | zeromus | 2009-02-04 03:51:58 +0800 (三, 04  2月 2009) | 2 lines

rasterize: i give up trying to make the interpolator precision good. that is a waste of time right now. just clamp material colors to the right range

------------------------------------------------------------------------
r1603 | riccardom | 2009-02-04 03:40:05 +0800 (三, 04  2月 2009) | 2 lines

Add missing files to makefile and add proper includes to let desmume compile again.

------------------------------------------------------------------------
r1602 | zeromus | 2009-02-04 02:32:07 +0800 (三, 04  2月 2009) | 2 lines

if microsoft is going to play games with where they stuff their libraries, i will just checkin their libraries myself

------------------------------------------------------------------------
r1601 | luigi__ | 2009-02-04 01:37:19 +0800 (三, 04  2月 2009) | 2 lines

Oops... forgotten to add chan->x to savestates (this variable is needed for PSG white noise).

------------------------------------------------------------------------
r1600 | luigi__ | 2009-02-04 01:34:10 +0800 (三, 04  2月 2009) | 3 lines

Added GDI+ setup as I plan to rewrite the viewers soon (they'll use GDI+).
But, we do keep DirectDraw for the main window!

------------------------------------------------------------------------
r1599 | zeromus | 2009-02-03 16:17:43 +0800 (二, 03  2月 2009) | 2 lines

rasterize: speedups

------------------------------------------------------------------------
r1598 | zeromus | 2009-02-03 15:49:28 +0800 (二, 03  2月 2009) | 2 lines

rasterize: perspective correct textures and backface culling

------------------------------------------------------------------------
r1597 | zeromus | 2009-02-03 14:36:36 +0800 (二, 03  2月 2009) | 2 lines

rasterize: textures, shading, blending

------------------------------------------------------------------------
r1596 | zeromus | 2009-02-03 12:51:18 +0800 (二, 03  2月 2009) | 2 lines

fix a bug in the vertex list generation which resulted in empty, unlinked vertices in the list. also added a few variables to savestate

------------------------------------------------------------------------
r1595 | zeromus | 2009-02-03 10:36:53 +0800 (二, 03  2月 2009) | 2 lines

add recently created files to vs2008 vcproj

------------------------------------------------------------------------
r1594 | zeromus | 2009-02-03 10:08:06 +0800 (二, 03  2月 2009) | 2 lines

add new file to makefile. add newline to end of common.h

------------------------------------------------------------------------
r1593 | zeromus | 2009-02-03 10:03:49 +0800 (二, 03  2月 2009) | 2 lines

extract texture cache from OGLRender so that it can be reused by rasterizer. add interpolator for material color and texture to rasterizer

------------------------------------------------------------------------
r1592 | mtabachenko | 2009-02-03 09:15:57 +0800 (二, 03  2月 2009) | 2 lines

typo fix in 3d save state;

------------------------------------------------------------------------
r1591 | zeromus | 2009-02-03 08:06:34 +0800 (二, 03  2月 2009) | 2 lines

fix the lurking issue that made alpha permanently break after loading a savestate. astounding, yes, but true. this MUST make it into 0.9.1

------------------------------------------------------------------------
r1589 | zeromus | 2009-02-03 06:15:46 +0800 (二, 03  2月 2009) | 2 lines

rasterize: fix viewport and perspective transformations. now triangles are rendered terribly in the correct place

------------------------------------------------------------------------
r1588 | riccardom | 2009-02-03 06:11:53 +0800 (二, 03  2月 2009) | 2 lines

Remove an empty function, used as a callback though.

------------------------------------------------------------------------
r1587 | zeromus | 2009-02-03 06:09:09 +0800 (二, 03  2月 2009) | 2 lines

software rasterizer stub complete with terrible flat shaded tri renderer

------------------------------------------------------------------------
r1586 | riccardom | 2009-02-03 06:03:27 +0800 (二, 03  2月 2009) | 2 lines

Hook the nice NDS_SkipFrame() function, this gives us a bit more boost with frameskip on.

------------------------------------------------------------------------
r1584 | yabause | 2009-02-03 05:47:31 +0800 (二, 03  2月 2009) | 2 lines

s/addons.c/addons.cpp/

------------------------------------------------------------------------
r1582 | riccardom | 2009-02-03 05:18:48 +0800 (二, 03  2月 2009) | 2 lines

Looks like this should be const instead of static, nothing changed in practice.

------------------------------------------------------------------------
r1581 | riccardom | 2009-02-03 05:13:15 +0800 (二, 03  2月 2009) | 2 lines

Enable reset at launch time and not on rom file open. This way it will work even when the rom is passed as argument.

------------------------------------------------------------------------
r1579 | zeromus | 2009-02-03 04:46:21 +0800 (二, 03  2月 2009) | 2 lines

fix changelog

------------------------------------------------------------------------
r1578 | riccardom | 2009-02-03 04:46:06 +0800 (二, 03  2月 2009) | 2 lines

Remove another unused var.

------------------------------------------------------------------------
r1577 | zeromus | 2009-02-03 04:39:00 +0800 (二, 03  2月 2009) | 2 lines

get rid of gcc warnings.

------------------------------------------------------------------------
r1575 | riccardom | 2009-02-03 04:34:46 +0800 (二, 03  2月 2009) | 2 lines

Remove unused variable.

------------------------------------------------------------------------
r1574 | mtabachenko | 2009-02-02 16:08:20 +0800 (一, 02  2月 2009) | 2 lines

minor fix ChangeLog

------------------------------------------------------------------------
r1573 | zeromus | 2009-02-02 12:37:25 +0800 (一, 02  2月 2009) | 2 lines

minor speedups to gpu

------------------------------------------------------------------------
r1572 | zeromus | 2009-02-02 10:43:08 +0800 (一, 02  2月 2009) | 2 lines

fixed a bug in the aboutbox scrolly credits

------------------------------------------------------------------------
r1571 | zeromus | 2009-02-02 07:21:41 +0800 (一, 02  2月 2009) | 2 lines

windows: very slightly speed up rotation / final color conversion

------------------------------------------------------------------------
r1570 | zeromus | 2009-02-01 10:13:22 +0800 (日, 01  2月 2009) | 2 lines

work on the changelog

------------------------------------------------------------------------
r1569 | zeromus | 2009-02-01 09:28:34 +0800 (日, 01  2月 2009) | 2 lines

correction to the new affine bg handling: parameters must be reset to the last user-specified value before scanline 0.

------------------------------------------------------------------------
r1568 | luigi__ | 2009-02-01 08:24:03 +0800 (日, 01  2月 2009) | 2 lines

Rewritten the incorrectly implemented setFinalBGColorSpecialIncreaseWnd and setFinalBGColorSpecialDecreaseWnd functions. This fixes the part 1 of the glitch #2488334 (SPP puzzle glitch).

------------------------------------------------------------------------
r1567 | zeromus | 2009-02-01 07:45:12 +0800 (日, 01  2月 2009) | 3 lines

[ 2488334 ] fix (SPP affine rotation display bug)
also start capturing register disp3dcnt but not using it for anything yet

------------------------------------------------------------------------
r1566 | zeromus | 2009-02-01 06:15:20 +0800 (日, 01  2月 2009) | 2 lines

add new newIrqFlags variable to savestates

------------------------------------------------------------------------
r1565 | luigi__ | 2009-02-01 03:37:06 +0800 (日, 01  2月 2009) | 3 lines

Better BIOS IRQ wait routines, supporting old IRQ flags discarding.
This seems to fix all the SPP problems!

------------------------------------------------------------------------
r1564 | riccardom | 2009-02-01 01:20:49 +0800 (日, 01  2月 2009) | 2 lines

Rename a variable that returns something ret from i.

------------------------------------------------------------------------
r1563 | riccardom | 2009-02-01 01:01:13 +0800 (日, 01  2月 2009) | 2 lines

Move rom serial related code from NDS_LoadROM to an helper function and clean it up a bit.

------------------------------------------------------------------------
r1562 | zeromus | 2009-02-01 00:44:06 +0800 (日, 01  2月 2009) | 2 lines

re-add my change to stop throttling when frameskip is 0, but do it right this time, so that autoframeskip causes the throttling to enable as a limiter

------------------------------------------------------------------------
r1561 | riccardom | 2009-01-31 21:23:31 +0800 (六, 31  1月 2009) | 2 lines

Add a missing free of a NDS_header struct. While at it cleanup things a bit.

------------------------------------------------------------------------
r1560 | luigi__ | 2009-01-31 21:13:54 +0800 (六, 31  1月 2009) | 3 lines

Revert the last change because we lost the ability to limit framerate when using auto frameskip, which can be annoying.
I think we should rather add a "Limit framerate" option.

------------------------------------------------------------------------
r1559 | zeromus | 2009-01-31 13:20:06 +0800 (六, 31  1月 2009) | 2 lines

disable throttling when frameskip is 0 in windows, so you can sort of fast forward, or test how fast the emu is running. also revert a couple hacks in oglrender which I do think cause a net glitch count increase

------------------------------------------------------------------------
r1558 | zeromus | 2009-01-31 12:47:23 +0800 (六, 31  1月 2009) | 2 lines

fix: [ 2550645 ] Super Princess Peach: crash when starting a puzzle

------------------------------------------------------------------------
r1557 | gecko_reverse | 2009-01-31 12:36:48 +0800 (六, 31  1月 2009) | 2 lines

added more keyboard buttons to the input settings

------------------------------------------------------------------------
r1556 | gecko_reverse | 2009-01-31 12:20:53 +0800 (六, 31  1月 2009) | 2 lines

fixed left and right key config (thanks to Arakun for finding the bugged code)

------------------------------------------------------------------------
r1555 | zeromus | 2009-01-31 12:01:10 +0800 (六, 31  1月 2009) | 2 lines

fix vertex source texcoord generation (fixes environment mapping e.g. stars in sm64); this is a low risk fix and could be safely ported into release branch

------------------------------------------------------------------------
r1554 | zeromus | 2009-01-31 11:40:20 +0800 (六, 31  1月 2009) | 2 lines

fix a serious bug which crippled 3d engine loading from savestates. this should be ported to release branch. also add some missing dma state to savestate.

------------------------------------------------------------------------
r1553 | zeromus | 2009-01-31 10:58:45 +0800 (六, 31  1月 2009) | 2 lines

fix dual screen 3d bug: when capturing 2d+3d output, but the display mode is not producing 2d+3d data (such as in vram display mode), then we should peek directly at the 3d output as if we were capturing 3d output only

------------------------------------------------------------------------
r1552 | luigi__ | 2009-01-30 21:08:50 +0800 (五, 30  1月 2009) | 4 lines

Added casts from s16 to s32 in the PSG noise func.
Added the new channel_struct variables to savestates.
Fixed the wave write core (WMP doesn't complain anymore when playing a wave file recorded from DeSmuME)

------------------------------------------------------------------------
r1551 | gecko_reverse | 2009-01-30 07:54:55 +0800 (五, 30  1月 2009) | 2 lines

mac compile fix

------------------------------------------------------------------------
r1549 | zeromus | 2009-01-29 22:38:11 +0800 (四, 29  1月 2009) | 2 lines

revert something crazymax did in dma which broke repeating dmas

------------------------------------------------------------------------
r1548 | luigi__ | 2009-01-29 22:34:28 +0800 (四, 29  1月 2009) | 2 lines

Added support for PSG white noise.

------------------------------------------------------------------------
r1547 | riccardom | 2009-01-27 03:52:42 +0800 (二, 27  1月 2009) | 2 lines

Put brackets around a possible empty macro.

------------------------------------------------------------------------
r1546 | riccardom | 2009-01-27 03:51:07 +0800 (二, 27  1月 2009) | 2 lines

Make gfx3d_FlushFIFO() static.

------------------------------------------------------------------------
r1545 | zeromus | 2009-01-27 02:43:34 +0800 (二, 27  1月 2009) | 2 lines

add some diagnostic messages

------------------------------------------------------------------------
r1544 | mtabachenko | 2009-01-26 21:18:17 +0800 (一, 26  1月 2009) | 5 lines

core:
- add busy flag in GXSTAT for BoxTest, PosTest & VecTest;
- fix pop matrix stack;
- GXFIFO emulation (with USE_GEOMETRY_FIFO_EMULATION definition in FIFO.h): I some corrected FIFO, but this have errors. On Homebrew roms (with small commands buffer) it`s work perfectly, but in commercial games with glitches. I can`t understand when it is needed flush GXFIFO to render. I always get the buffer overflow and loss of data. Where is a bug? I wrote small test for GXFIFO for comparing to the real DS (http://www.turboupload.com/files/get/wuf9IR3Oo1/fifo-3d.zip)

------------------------------------------------------------------------
r1543 | zeromus | 2009-01-26 17:28:09 +0800 (一, 26  1月 2009) | 2 lines

speedup to x/y window handling code by precalculating as much as possible at beginning of scanline or when WIN0H* are set

------------------------------------------------------------------------
r1542 | zeromus | 2009-01-26 15:58:13 +0800 (一, 26  1月 2009) | 2 lines

fix a bug that made some sprites get cut off in x=255; also some small speedups in GPU

------------------------------------------------------------------------
r1541 | zeromus | 2009-01-26 15:55:36 +0800 (一, 26  1月 2009) | 2 lines

change back to linear interpolation in SPU. it seems a bit extravagant now. perhaps we should make it configurable.. or, for luigi__'s consideration, I added a commented-out cos lookup table instead of doing the full call to cos()

------------------------------------------------------------------------
r1540 | zeromus | 2009-01-26 15:53:42 +0800 (一, 26  1月 2009) | 2 lines

fix a bug in windows framerate throttling which made frameskip auto unable to skip frames.

------------------------------------------------------------------------
r1539 | zeromus | 2009-01-26 15:02:50 +0800 (一, 26  1月 2009) | 2 lines

check me crazymax: it is a shame to have to memset the fifo so often. would it be sufficient just to reset the tail?

------------------------------------------------------------------------
r1538 | zeromus | 2009-01-26 06:11:50 +0800 (一, 26  1月 2009) | 2 lines

readme crazymax: matrix stack "size" is 31 for 32 entry stack (silly, i know) so your overrun check was wrong.

------------------------------------------------------------------------
r1537 | mtabachenko | 2009-01-26 04:49:24 +0800 (一, 26  1月 2009) | 3 lines

core:
- added stack level into GXSTAT register;

------------------------------------------------------------------------
r1536 | zeromus | 2009-01-26 04:16:19 +0800 (一, 26  1月 2009) | 2 lines

fix to sprite windows which I broke the other day. various speedups in win32 and in GPU

------------------------------------------------------------------------
r1535 | riccardom | 2009-01-25 23:52:53 +0800 (日, 25  1月 2009) | 2 lines

Remove extern stuff thas has been made static in GPU.cpp

------------------------------------------------------------------------
r1534 | zeromus | 2009-01-25 15:26:01 +0800 (日, 25  1月 2009) | 2 lines

finish some things i meant to do in the mosaic system and do some other gpu cleanups.

------------------------------------------------------------------------
r1533 | zeromus | 2009-01-25 14:12:19 +0800 (日, 25  1月 2009) | 3 lines

fix recently introduced bug which made >256 wide BGs crash the map viewer debug tool.
remove redundant GPU blending code and add a lookup table.

------------------------------------------------------------------------
r1532 | riccardom | 2009-01-24 21:43:46 +0800 (六, 24  1月 2009) | 2 lines

Reenable gtk-glade compilation with offscreen mesa enabled for gtk frontend.

------------------------------------------------------------------------
r1531 | riccardom | 2009-01-24 21:07:46 +0800 (六, 24  1月 2009) | 2 lines

gtk-glade: make a couple of functions static

------------------------------------------------------------------------
r1530 | riccardom | 2009-01-24 06:30:44 +0800 (六, 24  1月 2009) | 2 lines

Oops, i missed to commit the same change to header :)

------------------------------------------------------------------------
r1529 | riccardom | 2009-01-24 06:28:45 +0800 (六, 24  1月 2009) | 2 lines

We can make quite a bit of data const.

------------------------------------------------------------------------
r1528 | riccardom | 2009-01-24 06:21:14 +0800 (六, 24  1月 2009) | 2 lines

Make a few functions static and put parentheses around shift operators

------------------------------------------------------------------------
r1527 | riccardom | 2009-01-24 06:13:13 +0800 (六, 24  1月 2009) | 2 lines

Add proper includes to compile on linux (patch by gualteri)

------------------------------------------------------------------------
r1526 | yabause | 2009-01-23 22:21:28 +0800 (五, 23  1月 2009) | 6 lines

Updated version number to something else, so users testing
svn won't get confused.
Also removed the check for a C compiler. It seems that
when searching for both a C and a C++ compiler, configure
don't care that there's no C++ if there's a C one.

------------------------------------------------------------------------
r1525 | mtabachenko | 2009-01-23 18:09:09 +0800 (五, 23  1月 2009) | 2 lines

fix typos in addons and make functions is static (thanks xrmx)

------------------------------------------------------------------------
r1524 | mtabachenko | 2009-01-23 05:50:51 +0800 (五, 23  1月 2009) | 3 lines

core:
- add experimental GFX FIFO emulation (It has a bit bugs and a revision is required. I will endeavour to correct it soon)

------------------------------------------------------------------------
r1523 | riccardom | 2009-01-23 04:49:13 +0800 (五, 23  1月 2009) | 2 lines

Fix a buffer overflow :)

------------------------------------------------------------------------
r1522 | riccardom | 2009-01-23 04:40:18 +0800 (五, 23  1月 2009) | 2 lines

noext is allocated by malloc in strdup so use free instead of delete [].

------------------------------------------------------------------------
r1521 | riccardom | 2009-01-23 04:17:57 +0800 (五, 23  1月 2009) | 2 lines

Make a couple of functions static.

------------------------------------------------------------------------
r1520 | riccardom | 2009-01-23 04:13:05 +0800 (五, 23  1月 2009) | 2 lines

gcc does not like to skip variable initialization with gotos

------------------------------------------------------------------------
r1519 | zeromus | 2009-01-22 15:24:57 +0800 (四, 22  1月 2009) | 2 lines

apply my planned mosaic optimizations to BG

------------------------------------------------------------------------
r1518 | zeromus | 2009-01-22 15:22:46 +0800 (四, 22  1月 2009) | 2 lines

fix crash after loading savestate matrix stacks originating from revision 1513

------------------------------------------------------------------------
r1517 | zeromus | 2009-01-22 14:29:21 +0800 (四, 22  1月 2009) | 2 lines

never mind. i was persuaded that i was wrong

------------------------------------------------------------------------
r1516 | zeromus | 2009-01-22 13:59:45 +0800 (四, 22  1月 2009) | 2 lines

I think we should throw out touch input when it is out of bounds of the touchscreen, instead of clamping it. what do other people think?

------------------------------------------------------------------------
r1515 | luigi__ | 2009-01-22 06:35:46 +0800 (四, 22  1月 2009) | 4 lines

Implemented a more efficient frameskip support, skipping frames at GPU level, which is loads faster.
It only works for Windows port atm, to make it work in the other ports :
call NDS_SkipFrame with param : true = skip the current frame, false = render the current frame.

------------------------------------------------------------------------
r1514 | luigi__ | 2009-01-22 05:48:44 +0800 (四, 22  1月 2009) | 3 lines

Some minor optimiSome minor optimizations to the BG mosaic func.
Feel free to correct any problem I may have introduced!

------------------------------------------------------------------------
r1513 | mtabachenko | 2009-01-22 03:43:40 +0800 (四, 22  1月 2009) | 3 lines

core:
- fix quick save states (bug in geometry)

------------------------------------------------------------------------
r1512 | luigi__ | 2009-01-22 03:25:08 +0800 (四, 22  1月 2009) | 2 lines

Oops... the blending is forced only if the 3D layer has the highest prio, not if it's selected as 1st target...

------------------------------------------------------------------------
r1511 | riccardom | 2009-01-22 02:59:47 +0800 (四, 22  1月 2009) | 2 lines

Make a couple of functions static and put () around & operands.

------------------------------------------------------------------------
r1510 | mtabachenko | 2009-01-21 22:06:16 +0800 (三, 21  1月 2009) | 3 lines

core:
- added VRAM mapping for DMA;

------------------------------------------------------------------------
r1509 | mtabachenko | 2009-01-21 21:12:34 +0800 (三, 21  1月 2009) | 2 lines

fixed bug in dma

------------------------------------------------------------------------
r1508 | mtabachenko | 2009-01-21 19:30:54 +0800 (三, 21  1月 2009) | 2 lines

- some cleanup (added template DMA & change send data to TOONTABLE implementation)

------------------------------------------------------------------------
r1507 | zeromus | 2009-01-21 16:28:13 +0800 (三, 21  1月 2009) | 2 lines

apply a similar mosaic approach to sprites. however, it is substantially different in practice, and I am sure it is not entirely accurate. however, it is reasonably close, and immediately mosaic will work decently for every kind of sprite, so it is a good starting point.

------------------------------------------------------------------------
r1506 | zeromus | 2009-01-21 14:54:08 +0800 (三, 21  1月 2009) | 2 lines

fix recently introduced exit-time crashy bug in windows

------------------------------------------------------------------------
r1505 | riccardom | 2009-01-21 14:41:48 +0800 (三, 21  1月 2009) | 2 lines

Add static where due, remove unused variable

------------------------------------------------------------------------
r1504 | riccardom | 2009-01-21 14:41:17 +0800 (三, 21  1月 2009) | 2 lines

stop shadowing of i

------------------------------------------------------------------------
r1503 | mtabachenko | 2009-01-21 08:16:36 +0800 (三, 21  1月 2009) | 2 lines

- add clear data for paths variables;

------------------------------------------------------------------------
r1502 | mtabachenko | 2009-01-21 08:09:43 +0800 (三, 21  1月 2009) | 2 lines

- added detect Homebrews for game serial :)

------------------------------------------------------------------------
r1501 | mtabachenko | 2009-01-21 07:20:32 +0800 (三, 21  1月 2009) | 2 lines

:( stupid me!!! I declared variable "buf" as array pointers "char" with size MAX_PATH in LoadROM. sorry

------------------------------------------------------------------------
r1500 | luigi__ | 2009-01-21 06:32:33 +0800 (三, 21  1月 2009) | 2 lines

Optimized the 3D pixel blitting funcs a bit.

------------------------------------------------------------------------
r1499 | zeromus | 2009-01-21 06:12:20 +0800 (三, 21  1月 2009) | 2 lines

forgot to checkin a file

------------------------------------------------------------------------
r1498 | zeromus | 2009-01-21 06:10:41 +0800 (三, 21  1月 2009) | 2 lines

example of how i think mosaic should work, for 16 and 256 color standard BGs. not tested well.

------------------------------------------------------------------------
r1497 | mtabachenko | 2009-01-21 06:03:55 +0800 (三, 21  1月 2009) | 2 lines

- opps I broke display FIFO. fixed :)

------------------------------------------------------------------------
r1496 | luigi__ | 2009-01-21 05:36:44 +0800 (三, 21  1月 2009) | 2 lines

Blending should now work correctly in SPP.

------------------------------------------------------------------------
r1495 | mtabachenko | 2009-01-21 05:31:32 +0800 (三, 21  1月 2009) | 4 lines

core:
- fix display FIFO;
- more accurate RTC implementation (is working more correct with Homebrew now);

------------------------------------------------------------------------
r1494 | luigi__ | 2009-01-21 00:47:28 +0800 (三, 21  1月 2009) | 3 lines

Oops, forgotten to remove a hack to disable mosaic :(
(anyway mosaic is buggy)

------------------------------------------------------------------------
r1493 | luigi__ | 2009-01-20 06:28:57 +0800 (二, 20  1月 2009) | 4 lines

Oops, it seems that the palette index can't be used when using regular palettes on 16-bit affine backgrounds.
BTW, DeSmuME now validates all the graphics tests! (http://wiki.akkit.org/Nds_test_app_releases)
Does somebody have champagne? :P

------------------------------------------------------------------------
r1492 | luigi__ | 2009-01-20 05:42:45 +0800 (二, 20  1月 2009) | 2 lines

Fixed a bug with 16-color affine BGs.

------------------------------------------------------------------------
r1491 | yabause | 2009-01-20 05:36:27 +0800 (二, 20  1月 2009) | 4 lines

Added copyright headers for files coming from FCEU.
I'm mostly unsure about those one :)
Again, feel free to update them.

------------------------------------------------------------------------
r1490 | yabause | 2009-01-20 04:46:49 +0800 (二, 20  1月 2009) | 3 lines

Added missing copyright headers.
Again, feel free to fix any error I made.

------------------------------------------------------------------------
r1489 | yabause | 2009-01-20 04:25:40 +0800 (二, 20  1月 2009) | 3 lines

Added/fixed some copyright headers.
Feel free to double check and further fix what I've done.

------------------------------------------------------------------------
r1488 | luigi__ | 2009-01-20 03:04:10 +0800 (二, 20  1月 2009) | 2 lines

Better determination if BG0 has the highest prio.

------------------------------------------------------------------------
r1487 | luigi__ | 2009-01-19 00:40:31 +0800 (一, 19  1月 2009) | 3 lines

Cleaner and better blending logic for backgrounds.
For info, not performing blending if BLDALPHA_EVA is 16 can cause glitches.

------------------------------------------------------------------------
r1486 | luigi__ | 2009-01-18 23:49:09 +0800 (日, 18  1月 2009) | 2 lines

Changed default color to pink, so we can now distinguish between transparent and black pixels.

------------------------------------------------------------------------
r1485 | mtabachenko | 2009-01-18 23:25:57 +0800 (日, 18  1月 2009) | 3 lines

core:
-fix VRAM mapping for textures (broke in rev 1459, zeromus check it)

------------------------------------------------------------------------
r1484 | mtabachenko | 2009-01-18 21:48:18 +0800 (日, 18  1月 2009) | 2 lines

- added display FIFO data to savestate;

------------------------------------------------------------------------
r1483 | mtabachenko | 2009-01-18 21:43:05 +0800 (日, 18  1月 2009) | 3 lines

core:
- added display memory FIFO;

------------------------------------------------------------------------
r1482 | luigi__ | 2009-01-18 20:47:53 +0800 (日, 18  1月 2009) | 3 lines

I made the first correct implementation ever for sprite blending!
(Transparency for bitmap sprites isn't supported yet... tell me if you see sprites that still don't blend correctly)

------------------------------------------------------------------------
r1481 | mtabachenko | 2009-01-18 16:07:53 +0800 (日, 18  1月 2009) | 3 lines

winport:
- fix crash when close the input config dialog and on exit (on systems where no feedback game devices);

------------------------------------------------------------------------
r1480 | luigi__ | 2009-01-18 08:39:24 +0800 (日, 18  1月 2009) | 3 lines

Changed the sprite drawing functions to save sprite type & alpha.
I've figured out how to implement sprite blending, I'll do it soon.

------------------------------------------------------------------------
r1479 | riccardom | 2009-01-18 04:09:53 +0800 (日, 18  1月 2009) | 2 lines

Fix strange usage of decrement operator.

------------------------------------------------------------------------
r1478 | luigi__ | 2009-01-18 01:29:47 +0800 (日, 18  1月 2009) | 3 lines

Reverted the save file extension to sav.
Why was it changed to dmc ? I can't find a good reason, it's only annoying.

------------------------------------------------------------------------
r1477 | mtabachenko | 2009-01-18 00:12:46 +0800 (日, 18  1月 2009) | 7 lines

core: - cleanup LoadROM and adden paths variables;  I changed file saves extension for different with others emuls. :)
for saves (memory cards): dmc (DeSmuME memory card);
for quick saves: dsx (DeSmuME saves when x-number of slot);
for cheats: dct (DeSmuME cheats).

may need later add import saves (memory card) from another emuls.

------------------------------------------------------------------------
r1476 | luigi__ | 2009-01-17 23:08:55 +0800 (六, 17  1月 2009) | 3 lines

Reverted the direct sprite blitting as it causes problems when sprites are behind translucent backgrounds.
Added a new param to the sprite rendering funcs, meant for proper sprite blending.

------------------------------------------------------------------------
r1475 | mtabachenko | 2009-01-17 22:16:07 +0800 (六, 17  1月 2009) | 2 lines

ops... forgot update file :( - fix winport compile

------------------------------------------------------------------------
r1474 | luigi__ | 2009-01-17 21:48:58 +0800 (六, 17  1月 2009) | 3 lines

Changed sprite blitting to draw them directly on GPU_screen instead of a separate buffer.
We'll now be able to do proper sprite blending.

------------------------------------------------------------------------
r1473 | luigi__ | 2009-01-17 20:12:42 +0800 (六, 17  1月 2009) | 2 lines

Added support for disabling the sound speakers (bit1 of POWCNT2)

------------------------------------------------------------------------
r1472 | mtabachenko | 2009-01-17 19:47:13 +0800 (六, 17  1月 2009) | 6 lines

core:
- fix lid folding;
- fix rumblePak addon;
winport:
- added feedback support & analog joysticks;

------------------------------------------------------------------------
r1471 | riccardom | 2009-01-17 07:04:09 +0800 (六, 17  1月 2009) | 2 lines

Add needed header osmesa_3Demu.h, remove unneeded stdio.h and move stdlib.h on top because.

------------------------------------------------------------------------
r1470 | luigi__ | 2009-01-17 06:41:01 +0800 (六, 17  1月 2009) | 2 lines

Fixed a possible bug with 256-color backgrounds not using extended palettes.

------------------------------------------------------------------------
r1469 | luigi__ | 2009-01-17 06:07:58 +0800 (六, 17  1月 2009) | 2 lines

Removed some hacks that were supposed to force blending for sprites and that actually cause glitches.

------------------------------------------------------------------------
r1468 | luigi__ | 2009-01-17 04:35:40 +0800 (六, 17  1月 2009) | 3 lines

Fixed a bug with scrolling on 16-color text backgrounds.
Fixed a possible bug with 3D layer scrolling.

------------------------------------------------------------------------
r1467 | riccardom | 2009-01-17 04:04:00 +0800 (六, 17  1月 2009) | 2 lines

Add enable / disable audio switch to gtk frontend.

------------------------------------------------------------------------
r1466 | riccardom | 2009-01-17 03:52:08 +0800 (六, 17  1月 2009) | 2 lines

This is more useful not commented, desmume handles the error fine.

------------------------------------------------------------------------
r1465 | luigi__ | 2009-01-16 23:25:12 +0800 (五, 16  1月 2009) | 3 lines

Fixed scrolling for 3D layer (it would scroll backwards).
Plus, we can now get rid of the start/end params in the 3D GetLine func.

------------------------------------------------------------------------
r1464 | riccardom | 2009-01-16 05:09:43 +0800 (五, 16  1月 2009) | 2 lines

Put brackets around a possible noop inside an if.

------------------------------------------------------------------------
r1463 | riccardom | 2009-01-16 05:02:47 +0800 (五, 16  1月 2009) | 2 lines

This is static in NDSSystem.cpp so declaring it extern here does not make sense.

------------------------------------------------------------------------
r1462 | riccardom | 2009-01-16 05:01:35 +0800 (五, 16  1月 2009) | 2 lines

Move MAX_PATH definition for _GNU_C platform to types.h since it's used more than once.

------------------------------------------------------------------------
r1461 | riccardom | 2009-01-16 04:59:37 +0800 (五, 16  1月 2009) | 2 lines

Add chetSystem to compilation and fix compilation.

------------------------------------------------------------------------
r1460 | zeromus | 2009-01-16 04:16:49 +0800 (五, 16  1月 2009) | 2 lines

fix texture debug dumping to flip bmp so that they are wysiwyg

------------------------------------------------------------------------
r1459 | zeromus | 2009-01-16 03:33:04 +0800 (五, 16  1月 2009) | 2 lines

mount empty memory for tex and tex palette memory when slots are unmapped. provide diagnostics when unmapped slots are referenced by textures.

------------------------------------------------------------------------
r1458 | mtabachenko | 2009-01-15 19:43:25 +0800 (四, 15  1月 2009) | 2 lines

minor fix in cheat system

------------------------------------------------------------------------
r1457 | mtabachenko | 2009-01-15 08:46:18 +0800 (四, 15  1月 2009) | 5 lines

core:
- add cheat system (i will Action Replay & Codebreaker parser later :( )
winport:
- add cheats finder and cheats editor;

------------------------------------------------------------------------
r1456 | luigi__ | 2009-01-15 06:33:43 +0800 (四, 15  1月 2009) | 2 lines

Added a table for alpha conversion from 5-bit to 4-bit. Avoids having the 3D layer slightly transparent where it should be opaque.

------------------------------------------------------------------------
r1455 | zeromus | 2009-01-15 03:03:15 +0800 (四, 15  1月 2009) | 2 lines

fix more of the same &0xF instead of &0x1F in shift ops problem, this time in arm opcodes.

------------------------------------------------------------------------
r1454 | zeromus | 2009-01-14 09:22:59 +0800 (三, 14  1月 2009) | 2 lines

never mind; i have concluded that anyone who says they need the directx sdk is building an old version of the source.

------------------------------------------------------------------------
r1453 | zeromus | 2009-01-14 09:11:41 +0800 (三, 14  1月 2009) | 2 lines

try fixing directx sdk dependencies

------------------------------------------------------------------------
r1452 | luigi__ | 2009-01-14 03:58:54 +0800 (三, 14  1月 2009) | 3 lines

Commented out the "depth write for alpha poly" stuff as it causes glitches more than everything else.
Changed the first depth func from GL_LESS to GL_LEQUAL, it fixes Z-fighting in some cases where the depth func is GL_LESS and two elements have the same depth.

------------------------------------------------------------------------
r1451 | riccardom | 2009-01-14 03:54:13 +0800 (三, 14  1月 2009) | 2 lines

Comment a variable used for already commented code.

------------------------------------------------------------------------
r1450 | luigi__ | 2009-01-14 03:44:33 +0800 (三, 14  1月 2009) | 2 lines

Added the pos test coords to the savestate struct.

------------------------------------------------------------------------
r1449 | luigi__ | 2009-01-14 03:29:47 +0800 (三, 14  1月 2009) | 3 lines

Implemented PosTest (I'm rapid, amn't I ? :P )
It fixes some mini-games in RRR2.

------------------------------------------------------------------------
r1448 | riccardom | 2009-01-14 03:25:51 +0800 (三, 14  1月 2009) | 2 lines

Even more hardcore --enable-hardcore.

------------------------------------------------------------------------
r1447 | luigi__ | 2009-01-14 03:19:40 +0800 (三, 14  1月 2009) | 2 lines

Hooked up the gfx3d_glGet{Pos/Vec}Res funcs as I plan to implement these tests soon.

------------------------------------------------------------------------
r1446 | luigi__ | 2009-01-14 01:32:56 +0800 (三, 14  1月 2009) | 3 lines

Changed the vertex transformation method so now we don't have to pass the projection matrices to OpenGL.
(I left the proj matrix cache commented so if this change causes problems, we can revert it easily)

------------------------------------------------------------------------
r1445 | gecko_reverse | 2009-01-13 20:25:09 +0800 (二, 13  1月 2009) | 2 lines

added mic and addon files to cocoa port project files

------------------------------------------------------------------------
r1444 | zeromus | 2009-01-13 13:58:06 +0800 (二, 13  1月 2009) | 2 lines

fix recently added bugs in texture caching and 4x4 textures

------------------------------------------------------------------------
r1443 | mtabachenko | 2009-01-13 08:59:16 +0800 (二, 13  1月 2009) | 3 lines

core:
- more correctly IPC FIFO implementation;

------------------------------------------------------------------------
r1442 | riccardom | 2009-01-13 06:41:19 +0800 (二, 13  1月 2009) | 2 lines

Cleanup Modify_Layer() a bit more.

------------------------------------------------------------------------
r1441 | riccardom | 2009-01-13 06:39:51 +0800 (二, 13  1月 2009) | 2 lines

White space cleanup.

------------------------------------------------------------------------
r1440 | riccardom | 2009-01-13 05:10:35 +0800 (二, 13  1月 2009) | 2 lines

tiny style fix.

------------------------------------------------------------------------
r1439 | riccardom | 2009-01-13 05:07:08 +0800 (二, 13  1月 2009) | 2 lines

Try to fix rake compilation for mac port at least :)

------------------------------------------------------------------------
r1438 | riccardom | 2009-01-13 04:48:31 +0800 (二, 13  1月 2009) | 2 lines

Move stub mic implementation for not win32 platforms to a separate file.

------------------------------------------------------------------------
r1437 | mtabachenko | 2009-01-13 01:53:01 +0800 (二, 13  1月 2009) | 2 lines

-fix windows port compiling;

------------------------------------------------------------------------
r1436 | luigi__ | 2009-01-13 00:41:57 +0800 (二, 13  1月 2009) | 2 lines

Fixed microphone problem 3 : the emu doesn't freeze anymore when closing it.

------------------------------------------------------------------------
r1435 | luigi__ | 2009-01-13 00:17:18 +0800 (二, 13  1月 2009) | 6 lines

Surprise! Added support for microphone emulation, but only for Win32.
There are 3 problems :
1. the sound crackles a bit
2. the microphone amplifier isn't supported
3. the emu freezes if you don't close it by the console

------------------------------------------------------------------------
r1434 | luigi__ | 2009-01-13 00:17:03 +0800 (二, 13  1月 2009) | 6 lines

Surprise! Added support for microphone emulation, but only for Win32.
There are 3 problems :
1. the sound crackles a bit
2. the microphone amplifier isn't supported
3. the emu freezes if you don't close it by the console

------------------------------------------------------------------------
r1433 | luigi__ | 2009-01-13 00:16:33 +0800 (二, 13  1月 2009) | 6 lines

Surprise! Added support for microphone emulation, but only for Win32.
There are 3 problems :
1. the sound crackles a bit
2. the microphone amplifier isn't supported
3. the emu freezes if you don't close it by the console

------------------------------------------------------------------------
r1432 | mtabachenko | 2009-01-12 23:38:49 +0800 (一, 12  1月 2009) | 3 lines

core:
- fix bug in IPC FIFO (https://sourceforge.net/tracker2/?func=detail&aid=2490867&group_id=164579&atid=832291)

------------------------------------------------------------------------
r1431 | mtabachenko | 2009-01-11 18:41:00 +0800 (日, 11  1月 2009) | 2 lines

rename variable 'i' in setupTexture to 'tx' :)

------------------------------------------------------------------------
r1430 | riccardom | 2009-01-11 18:26:00 +0800 (日, 11  1月 2009) | 2 lines

Shut up last gcc signed vs unsigned comparison warnings

------------------------------------------------------------------------
r1429 | riccardom | 2009-01-11 18:18:03 +0800 (日, 11  1月 2009) | 2 lines

Shut up some gcc warnings about functions without declaration, shadowing variables, unsigned vs signed comparison and no brackets around empty if.

------------------------------------------------------------------------
r1428 | mtabachenko | 2009-01-11 17:21:00 +0800 (日, 11  1月 2009) | 2 lines

fix black screen in some games when using 3D (zeromus check it)

------------------------------------------------------------------------
r1427 | zeromus | 2009-01-11 13:56:36 +0800 (日, 11  1月 2009) | 2 lines

clean up texture format conversion code, but rework it at same time to be more powerful and safer from making mistakes in the caching, although this is hard to test. also made it safe from textures and palettes which straddle texture and palette slots. i may have broken something, but now the code is much closer to where it needs to be.

------------------------------------------------------------------------
r1426 | zeromus | 2009-01-11 09:19:26 +0800 (日, 11  1月 2009) | 2 lines

fix bug in 3d h-scrolling which was introduced by new 3d compositing

------------------------------------------------------------------------
r1425 | luigi__ | 2009-01-11 07:23:18 +0800 (日, 11  1月 2009) | 2 lines

oops, I had forgotten to set gpu->bgPixels in one of the 3D pixel blitting funcs.

------------------------------------------------------------------------
r1424 | luigi__ | 2009-01-11 06:50:00 +0800 (日, 11  1月 2009) | 2 lines

Fixed rotation.

------------------------------------------------------------------------
r1423 | zeromus | 2009-01-11 06:00:43 +0800 (日, 11  1月 2009) | 2 lines

fix a typo in the symbol name irqExeption which has always bugged me

------------------------------------------------------------------------
r1422 | luigi__ | 2009-01-11 05:02:13 +0800 (日, 11  1月 2009) | 3 lines

Resize handling entirely remade, it should work flawlessly now, even under Vista.
Except there's still a display bug when using a rotation of 90 or 270 degrees :( but hopefully I should fix this quickly enough

------------------------------------------------------------------------
r1421 | riccardom | 2009-01-11 01:47:05 +0800 (日, 11  1月 2009) | 2 lines

Add missing licence header. The original author is missing but we can add it later.

------------------------------------------------------------------------
r1420 | riccardom | 2009-01-11 01:16:58 +0800 (日, 11  1月 2009) | 2 lines

Remove whitespace on empty lines.

------------------------------------------------------------------------
r1419 | mtabachenko | 2009-01-10 23:15:39 +0800 (六, 10  1月 2009) | 3 lines

core:
- fix cache texture palette;

------------------------------------------------------------------------
r1418 | mtabachenko | 2009-01-10 22:53:01 +0800 (六, 10  1月 2009) | 2 lines

fix Zelda crash :)

------------------------------------------------------------------------
r1417 | riccardom | 2009-01-10 05:00:06 +0800 (六, 10  1月 2009) | 2 lines

Add a default label to assure that paletteAddress is always initialized.

------------------------------------------------------------------------
r1416 | zeromus | 2009-01-09 17:12:19 +0800 (五, 09  1月 2009) | 3 lines

- fix emu crashing bug caused by error in rot bg routine
- remove all y-coordinate passing from GPU. these seemed almost entirely archaic, since we have a scanline based renderer. the current scanline can be stored in GPU. please, some GPU veterans consider for a moment whether this will be a problem.

------------------------------------------------------------------------
r1415 | zeromus | 2009-01-09 16:10:14 +0800 (五, 09  1月 2009) | 2 lines

win32: fix spu wav writer

------------------------------------------------------------------------
r1414 | zeromus | 2009-01-09 15:54:15 +0800 (五, 09  1月 2009) | 2 lines

fix the sbc assertion. we'll take these out in a few days.

------------------------------------------------------------------------
r1413 | zeromus | 2009-01-09 15:49:15 +0800 (五, 09  1月 2009) | 2 lines

add in assertions to validate overflow checks in adc and sbc

------------------------------------------------------------------------
r1412 | zeromus | 2009-01-09 15:20:29 +0800 (五, 09  1月 2009) | 2 lines

fix bug in thumb ROR

------------------------------------------------------------------------
r1411 | zeromus | 2009-01-09 09:47:40 +0800 (五, 09  1月 2009) | 3 lines

- change around texture coordinate logic; this removes the necessity for a hack in texcoordgen mode 1 which had always bugged me (which was necessary to get scrolling textures to work). I don't know of any test cases offhand, but this should fix other texcoordgen modes as well.
- change texture palette decoding logic to be more correct. no known test cases for this, but it was clearly broken. this was a necessary step towards more correct texture memory mapping

------------------------------------------------------------------------
r1410 | yabause | 2009-01-09 08:02:57 +0800 (五, 09  1月 2009) | 2 lines

Fixed compilation on linux

------------------------------------------------------------------------
r1409 | mtabachenko | 2009-01-09 07:20:29 +0800 (五, 09  1月 2009) | 2 lines

- hack for GBA slot with GBAgame. real BIOS is not needed now :)

------------------------------------------------------------------------
r1408 | shashClp | 2009-01-09 06:14:32 +0800 (五, 09  1月 2009) | 2 lines

- Added missing key information on the windows readme

------------------------------------------------------------------------
r1407 | mtabachenko | 2009-01-09 05:34:16 +0800 (五, 09  1月 2009) | 8 lines

core:
- add experimental GBA slot implementations (100% work only in Windows, need port to others os);
windows:
- add configuration dialog for GBA slot (Emulation->GBA slot);
- add new command line commands for GBA slot;

see remark in common.h at line 47

------------------------------------------------------------------------
r1406 | yabause | 2009-01-09 04:06:02 +0800 (五, 09  1月 2009) | 2 lines

Fixed compilation when gtkglext is not installed.

------------------------------------------------------------------------
r1405 | mtabachenko | 2009-01-08 16:22:44 +0800 (四, 08  1月 2009) | 2 lines

fix winport compiling;

------------------------------------------------------------------------
r1404 | zeromus | 2009-01-08 10:49:30 +0800 (四, 08  1月 2009) | 2 lines

fix texture handling for texels with MSB set (fixes some texture corruption)

------------------------------------------------------------------------
r1403 | yabause | 2009-01-08 07:06:13 +0800 (四, 08  1月 2009) | 3 lines

Removed dependency on gdkglext as we already have one on
gtkglext.

------------------------------------------------------------------------
r1402 | yabause | 2009-01-08 06:34:07 +0800 (四, 08  1月 2009) | 3 lines

Ooops... there was two place were glActiveTexture was WIN32
protected.

------------------------------------------------------------------------
r1401 | yabause | 2009-01-08 05:08:47 +0800 (四, 08  1月 2009) | 2 lines

Setting minimum needed automake version.

------------------------------------------------------------------------
r1400 | yabause | 2009-01-08 04:55:56 +0800 (四, 08  1月 2009) | 4 lines

Testing if opengl api version is < 1.3 instead of testing
if we're compiling on windows. This shouldn't break
anything and fix some compilation problems.

------------------------------------------------------------------------
r1398 | zeromus | 2009-01-06 06:16:25 +0800 (二, 06  1月 2009) | 2 lines

reverting my revert. now i understand that the vcproj files had the configurations renamed and the sln didnt know about them. to fix this, i recreated the sln file.

------------------------------------------------------------------------
r1397 | yabause | 2009-01-06 06:13:42 +0800 (二, 06  1月 2009) | 3 lines

Better initialization of gtkglext so it doesn't works
only for depth >= 24bpp

------------------------------------------------------------------------
r1396 | zeromus | 2009-01-06 05:49:15 +0800 (二, 06  1月 2009) | 2 lines

something is seriously messed up in this vcproj. i cant build any release builds with it. reverted to fix it.

------------------------------------------------------------------------
r1395 | mtabachenko | 2009-01-06 05:40:24 +0800 (二, 06  1月 2009) | 3 lines

core:
- delete doubled declaration of cnt_r variable (thanks xrmx)

------------------------------------------------------------------------
r1394 | yabause | 2009-01-06 05:13:25 +0800 (二, 06  1月 2009) | 2 lines

Removed the custom debug code to use the desmume one.

------------------------------------------------------------------------
r1393 | mtabachenko | 2009-01-06 00:42:14 +0800 (二, 06  1月 2009) | 2 lines

typo fix in readme.win

------------------------------------------------------------------------
r1392 | riccardom | 2009-01-05 22:38:56 +0800 (一, 05  1月 2009) | 2 lines

Remove unused global variables, windows frontend has them too.

------------------------------------------------------------------------
r1391 | mtabachenko | 2009-01-05 22:23:43 +0800 (一, 05  1月 2009) | 3 lines

core:
- optimization in ipc fifo;

------------------------------------------------------------------------
r1390 | riccardom | 2009-01-05 22:09:17 +0800 (一, 05  1月 2009) | 2 lines

Move display size and layers menu out of graphics menu; split frameskip, display size and submenu to separated functions.

------------------------------------------------------------------------
r1389 | riccardom | 2009-01-05 21:16:31 +0800 (一, 05  1月 2009) | 2 lines

Convert Cur_Keypad to a local variable

------------------------------------------------------------------------
r1388 | riccardom | 2009-01-05 21:00:12 +0800 (一, 05  1月 2009) | 2 lines

Correct type and cast from / to gpointers for G_CALLBACK argument

------------------------------------------------------------------------
r1387 | riccardom | 2009-01-05 18:41:52 +0800 (一, 05  1月 2009) | 2 lines

Handle OBJ layers in layer visibility switch, this brings feature parity with gtk-glade in this area.

------------------------------------------------------------------------
r1386 | riccardom | 2009-01-05 18:29:56 +0800 (一, 05  1月 2009) | 2 lines

Rework layer visibilty handling to be something sane, in the process fix subscreen layers that were not working. OBJs are still not handled.

------------------------------------------------------------------------
r1385 | riccardom | 2009-01-05 07:22:36 +0800 (一, 05  1月 2009) | 2 lines

Move GPU_screen to rgb loop in a helper function since it is repeated three times.

------------------------------------------------------------------------
r1384 | shashClp | 2009-01-05 00:05:14 +0800 (一, 05  1月 2009) | 2 lines

Update general and windows READMEs

------------------------------------------------------------------------
r1383 | riccardom | 2009-01-04 22:27:25 +0800 (日, 04  1月 2009) | 2 lines

Oops, fixup previous changes: missing free and correct cast in malloc.

------------------------------------------------------------------------
r1382 | riccardom | 2009-01-04 22:24:42 +0800 (日, 04  1月 2009) | 2 lines

This experimental patch avoids an intermediate step in sdl for rgb555 to rgb conversion. In my limited testing this gives me a couple more fps, possibly because of 1 less allocation and memcpy.

------------------------------------------------------------------------
r1381 | mtabachenko | 2009-01-04 19:43:00 +0800 (日, 04  1月 2009) | 5 lines

- add extended version string;
winport:
- add to projects "release" solutions (for developers and beta versions 'Interim')
- change about dialog box :)

------------------------------------------------------------------------
r1380 | gecko_reverse | 2009-01-04 16:47:06 +0800 (日, 04  1月 2009) | 2 lines

svn:ignore files generated by codeblock and xcode in the cocoa port

------------------------------------------------------------------------
r1377 | zeromus | 2009-01-04 08:35:22 +0800 (日, 04  1月 2009) | 2 lines

add changelog for homebrew fix

------------------------------------------------------------------------
r1373 | yabause | 2009-01-04 07:37:26 +0800 (日, 04  1月 2009) | 9 lines

Added osmesa "backend" for OpenGL (off-screen) rendering
in gtk port.
This is enabled with --enable-osmesa configure switch and
shouldn't break (or change) anything when the switch is not
used.
If someone feels like porting that to glade port, go ahead...
but there's a number of opengl/gtkglext/etc. issues that will
need to be fixed first.

------------------------------------------------------------------------
r1372 | riccardom | 2009-01-04 06:53:17 +0800 (日, 04  1月 2009) | 2 lines

Disable ability to change screen size: it doesn't work and there's a lot of code that relies on default size.

------------------------------------------------------------------------
r1371 | riccardom | 2009-01-04 06:05:24 +0800 (日, 04  1月 2009) | 2 lines

Kill Modify_Key() related global variables and put them in a struct passed to the callback function.

------------------------------------------------------------------------
r1370 | yabause | 2009-01-04 05:49:19 +0800 (日, 04  1月 2009) | 3 lines

AFAIK, the layout file was needed by dev-cpp and is useless
now.

------------------------------------------------------------------------
r1369 | riccardom | 2009-01-04 05:10:56 +0800 (日, 04  1月 2009) | 2 lines

cleanup status bar code: convert pStatusBar_Change from macro to function, convert pStatusBar_Ctx from global to local

------------------------------------------------------------------------
r1368 | riccardom | 2009-01-04 04:30:03 +0800 (日, 04  1月 2009) | 2 lines

gtk frontend: use ternary operator instead of if/else

------------------------------------------------------------------------
r1367 | riccardom | 2009-01-04 02:44:02 +0800 (日, 04  1月 2009) | 7 lines

Move menu and toolbar creation to helper functions in gtk frontend to make
common_gtk_main() more readable.
In the process i had to do these changes:
- set limiter_timer to NULL because gcc warns it could be used uninitialized
- made pToolbar local instead of global static
- remove a double gtk_check_menu_item_set_active() call

------------------------------------------------------------------------
r1366 | riccardom | 2009-01-03 01:36:58 +0800 (六, 03  1月 2009) | 2 lines

More global to local varialbe converison.

------------------------------------------------------------------------
r1365 | riccardom | 2009-01-03 00:47:39 +0800 (六, 03  1月 2009) | 2 lines

Remove unused global variables, move desmume_last_cycle from global to static in desmume_cycle(), no need to initialize static variables.

------------------------------------------------------------------------
r1364 | mtabachenko | 2009-01-02 18:13:26 +0800 (五, 02  1月 2009) | 2 lines

- fix VERSION define;

------------------------------------------------------------------------
r1363 | mtabachenko | 2009-01-02 17:52:50 +0800 (五, 02  1月 2009) | 2 lines

- fix Intel C++ windows port project;

------------------------------------------------------------------------
r1362 | zeromus | 2009-01-02 16:20:37 +0800 (五, 02  1月 2009) | 2 lines

fix homebrew 3d--one issue, at least. one of the vram register writes wasnt storing into the MMU memory (only executing the reconfiguration logic); but devkitpro is reading back from that register in its function vramIsTextureBank() which is used to allocate texture memory. this system of acting upon register writes, and stuffing the values for use later for register reads, is disturbing and bugprone this way... someone should probably look for early returns from MMU writes and make sure none of them are illegitimate.

------------------------------------------------------------------------
r1361 | zeromus | 2009-01-02 14:32:09 +0800 (五, 02  1月 2009) | 4 lines

- re-enable the 'suspected invalid' logic in the texture cache after trying to fix what might have been broken in it, which was a failure to invalidate the cache when tex palettes changed.
- fix a bug which breaks any texture that spans a texture bank. this was only tested for 4bpp textures but applies to all but 4x4 and 16bpp
- I believe we were sending the 3d vblank end signal on the wrong scanline

------------------------------------------------------------------------
r1360 | riccardom | 2009-01-02 07:43:48 +0800 (五, 02  1月 2009) | 2 lines

Revert the thumb_instructions.cpp part of 1344 commit too

------------------------------------------------------------------------
r1359 | riccardom | 2009-01-02 07:28:54 +0800 (五, 02  1月 2009) | 2 lines

Revert changes from 1344: they break at least audio for me and Luigi__.

------------------------------------------------------------------------
r1354 | zeromus | 2009-01-02 05:24:32 +0800 (五, 02  1月 2009) | 2 lines

disable shaders in 0.9 release. reflect this in changelogs. change version number to 0.9

------------------------------------------------------------------------
r1352 | zeromus | 2009-01-02 03:28:47 +0800 (五, 02  1月 2009) | 2 lines

fix changelog to remove features which arent going to make it into 0.9

------------------------------------------------------------------------
r1351 | MightyMax | 2009-01-02 01:54:16 +0800 (五, 02  1月 2009) | 2 lines

more WIFI registers implemented, some fixed to match behavior on hardware

------------------------------------------------------------------------
r1350 | riccardom | 2009-01-02 01:47:52 +0800 (五, 02  1月 2009) | 2 lines

Rename references to .c files.

------------------------------------------------------------------------
r1349 | riccardom | 2009-01-02 01:40:16 +0800 (五, 02  1月 2009) | 2 lines

Cleanup keyval_names.h: move stuff where it should be.

------------------------------------------------------------------------
r1348 | riccardom | 2009-01-02 00:51:13 +0800 (五, 02  1月 2009) | 2 lines

Cleanup struct TextureCache definition.

------------------------------------------------------------------------
r1347 | riccardom | 2009-01-02 00:08:52 +0800 (五, 02  1月 2009) | 2 lines

No need to shadow i (gcc warning).

------------------------------------------------------------------------
r1346 | mtabachenko | 2009-01-01 04:13:19 +0800 (四, 01  1月 2009) | 3 lines

core:
-fix texture caching

------------------------------------------------------------------------
r1345 | MightyMax | 2009-01-01 04:00:14 +0800 (四, 01  1月 2009) | 2 lines

MMU_write32: replaced comparison heavy (two per case: >=,<) if-chain with a switch/case (only one if can be true at any time)

------------------------------------------------------------------------
r1344 | shashClp | 2009-01-01 02:10:43 +0800 (四, 01  1月 2009) | 5 lines

Reapplying the changes, as fixing was just looking
the changes and adding a cast, as it was in the
past. Avoid reverts when the fix is as simple as this
one and everyone will be happier :)

------------------------------------------------------------------------
r1343 | riccardom | 2009-01-01 01:34:03 +0800 (四, 01  1月 2009) | 2 lines

Revert revision 1338 "Reduce code required for some flag calculations in two opcode's. (Shouldn't break things but best too do more testing before adding to release branch)." because it broke compilation on linux.

------------------------------------------------------------------------
r1341 | yabause | 2008-12-31 22:54:59 +0800 (三, 31 12月 2008) | 2 lines

Removed zero_private from distributed files

------------------------------------------------------------------------
r1339 | mtabachenko | 2008-12-31 22:07:09 +0800 (三, 31 12月 2008) | 3 lines

core:
- fix BGs;

------------------------------------------------------------------------
r1338 | normmatt234 | 2008-12-31 19:24:55 +0800 (三, 31 12月 2008) | 2 lines

Reduce code required for some flag calculations in two opcode's. (Shouldn't break things but best too do more testing before adding to release branch).

------------------------------------------------------------------------
r1337 | zeromus | 2008-12-31 19:12:42 +0800 (三, 31 12月 2008) | 2 lines

someone got pushed off the aboutbox list.

------------------------------------------------------------------------
r1336 | zeromus | 2008-12-31 19:11:25 +0800 (三, 31 12月 2008) | 2 lines

overhaul changelog. tried to collapse, reconcile, and merge changes to create a list which will be useful for a press release, since the previous list had been nearly abandoned due to too much happening, and while I was at it I scrounged for good changes back to 0.8. This might be a controversial move, but it is a valuable asset, and i spent a few hours doing it. someone still needs to get all the gtk and cocoa changes in there; i skipped over all of it because I dont know enough about the builds.

------------------------------------------------------------------------
r1335 | zeromus | 2008-12-31 17:50:11 +0800 (三, 31 12月 2008) | 2 lines

fix SBC bug in thumb (same bug as the one normatt fixed in arm in r923)

------------------------------------------------------------------------
r1334 | zeromus | 2008-12-31 13:30:31 +0800 (三, 31 12月 2008) | 3 lines

- fix bug with 512 tall BG
- remove zero_private junk file

------------------------------------------------------------------------
r1332 | yabause | 2008-12-31 06:51:42 +0800 (三, 31 12月 2008) | 2 lines

More files in "make dist"

------------------------------------------------------------------------
r1328 | riccardom | 2008-12-31 03:38:40 +0800 (三, 31 12月 2008) | 2 lines

Make some data const.

------------------------------------------------------------------------
r1327 | zeromus | 2008-12-31 03:32:49 +0800 (三, 31 12月 2008) | 2 lines

disable bios loading. this was for our testing and not for general consumption. we will make it solid in 0.91

------------------------------------------------------------------------
r1326 | zeromus | 2008-12-31 02:55:32 +0800 (三, 31 12月 2008) | 2 lines

removing old code from gpu

------------------------------------------------------------------------
r1325 | riccardom | 2008-12-31 02:41:56 +0800 (三, 31 12月 2008) | 2 lines

Fix compile error for not gtk.

------------------------------------------------------------------------
r1324 | riccardom | 2008-12-31 01:34:40 +0800 (三, 31 12月 2008) | 2 lines

Remove variables not used warnings.

------------------------------------------------------------------------
r1323 | riccardom | 2008-12-31 01:30:28 +0800 (三, 31 12月 2008) | 3 lines

I know you would hate me but these functions are too big to be inlined by gcc.
Does it make any difference in windows? if so feel free to revert.

------------------------------------------------------------------------
r1322 | riccardom | 2008-12-31 01:12:01 +0800 (三, 31 12月 2008) | 2 lines

Fix "format not a string literal, argument types not checked" warnings.

------------------------------------------------------------------------
r1321 | riccardom | 2008-12-31 01:11:24 +0800 (三, 31 12月 2008) | 2 lines

Fix "enumeration value not handled in switch" warnings.

------------------------------------------------------------------------
r1320 | riccardom | 2008-12-31 00:32:26 +0800 (三, 31 12月 2008) | 2 lines

Rework conditionals in execsqrt() and execdiv() so that gcc stop saying that ret, den and num can be used uninitialized. I assume that all the possibile value of the test are already there otherwise these changes are wrong! :)

------------------------------------------------------------------------
r1319 | riccardom | 2008-12-31 00:16:31 +0800 (三, 31 12月 2008) | 2 lines

Make a couple of functions static.

------------------------------------------------------------------------
r1318 | yabause | 2008-12-31 00:13:35 +0800 (三, 31 12月 2008) | 2 lines

one more file to "make dist"

------------------------------------------------------------------------
r1317 | riccardom | 2008-12-31 00:09:24 +0800 (三, 31 12月 2008) | 2 lines

Cleanup packed attribute headers for gcc.

------------------------------------------------------------------------
r1316 | mtabachenko | 2008-12-30 23:42:33 +0800 (二, 30 12月 2008) | 2 lines

remove INFO()

------------------------------------------------------------------------
r1315 | riccardom | 2008-12-30 23:40:12 +0800 (二, 30 12月 2008) | 2 lines

Ok, This stuff is not used and that's not very elegant but that would be at least a leak and this shut up gcc.

------------------------------------------------------------------------
r1314 | riccardom | 2008-12-30 23:38:23 +0800 (二, 30 12月 2008) | 5 lines

Fixup gcc warnings:
- add missing header include for DecryptSecureArea declaration
- make some functions static
- put under if 0 stuff currently not used

------------------------------------------------------------------------
r1313 | riccardom | 2008-12-30 23:35:57 +0800 (二, 30 12月 2008) | 2 lines

The name should be const.

------------------------------------------------------------------------
r1312 | riccardom | 2008-12-30 23:31:39 +0800 (二, 30 12月 2008) | 2 lines

Fix screen corruption by missing memory zero'ing.

------------------------------------------------------------------------
r1306 | riccardom | 2008-12-30 21:43:32 +0800 (二, 30 12月 2008) | 2 lines

Fix up ARM9_struct definition.

------------------------------------------------------------------------
r1304 | luigi__ | 2008-12-30 20:39:20 +0800 (二, 30 12月 2008) | 3 lines

The clear alpha is now the one selected by the game.
Removed the stencil blitting stuff, as it doesn't take care of whether the rear-plane is opaque or not (I left it commented if you've a good reason for re-enabling it).

------------------------------------------------------------------------
r1303 | luigi__ | 2008-12-30 20:31:47 +0800 (二, 30 12月 2008) | 3 lines

The color effects are now correctly applied to the 3D layer.
3D/2D blending is now performed by the 2D core. This gives a speedup when the blending isn't enabled because the GetLine func doesn't have to perform any blending now.

------------------------------------------------------------------------
r1302 | zeromus | 2008-12-30 13:01:30 +0800 (二, 30 12月 2008) | 3 lines

- fix vs2005 project after asm file removal
- fix error in new fadein/fadeout table usage (pixels werent masked by 0x7FFF causing table overruns)

------------------------------------------------------------------------
r1301 | shashClp | 2008-12-30 12:22:33 +0800 (二, 30 12月 2008) | 2 lines

- Minimal fix to proper GFXFIFO parameter number handling

------------------------------------------------------------------------
r1300 | shashClp | 2008-12-30 10:32:48 +0800 (二, 30 12月 2008) | 4 lines

- Removed custom memcpy routines as they're slower than
the libc ones (check profiling numbers on the developers
list).

------------------------------------------------------------------------
r1299 | mtabachenko | 2008-12-30 08:37:38 +0800 (二, 30 12月 2008) | 3 lines

core:
- rewrited and moved memcpy_fast to new file (.asm) for compiling x86/x64 versions (sorry, if I broke others ports... check it please)

------------------------------------------------------------------------
r1298 | luigi__ | 2008-12-30 06:11:26 +0800 (二, 30 12月 2008) | 5 lines

Added tables to optimize fading.
The special effect for sprites was always blending, which broke fading on sprites. Fixed.
The fading is now applied to the backdrop color.
Fixed a bit the windows.

------------------------------------------------------------------------
r1297 | yabause | 2008-12-30 00:23:53 +0800 (二, 30 12月 2008) | 2 lines

Fixed automake files after removal of dev-cpp files.

------------------------------------------------------------------------
r1296 | riccardom | 2008-12-29 21:17:58 +0800 (一, 29 12月 2008) | 2 lines

Cleanup a bit NDS_Reset().

------------------------------------------------------------------------
r1295 | riccardom | 2008-12-29 21:06:42 +0800 (一, 29 12月 2008) | 2 lines

Make a function static.

------------------------------------------------------------------------
r1294 | riccardom | 2008-12-29 21:05:09 +0800 (一, 29 12月 2008) | 2 lines

Fix a couple of warnings.

------------------------------------------------------------------------
r1293 | yabause | 2008-12-29 20:50:55 +0800 (一, 29 12月 2008) | 5 lines

Fixed the sprintf problem.
See http://permalink.gmane.org/gmane.linux.debian.devel.general/135067
for details.
Thanks to debian games team for reporting :)

------------------------------------------------------------------------
r1292 | yabause | 2008-12-29 20:44:15 +0800 (一, 29 12月 2008) | 5 lines

Fixed compilation for linux:
- template stuff should be in .h files
- for some reason you can't use a static function pointer
  as a template parameter

------------------------------------------------------------------------
r1291 | zeromus | 2008-12-29 16:24:00 +0800 (一, 29 12月 2008) | 2 lines

use template and forceinline magic to speed up rotated bgs. amounts to ~1fps on nsmb ingame. this helps so much because the gpu functions pass around TONS of parameters through bunches of functions and function pointers. there is much more to be done here, but anything tricky should wait for next release

------------------------------------------------------------------------
r1290 | zeromus | 2008-12-29 15:26:15 +0800 (一, 29 12月 2008) | 2 lines

fixed sprite window inefficiencies. Big speedup; major speedup in SPP. I do not know a good sprite window test case, so i had to test it by turning on sprite window for SPP in a hacky way, so keep your eyes peeled for problems. But even if there are problems, the old way of handling sprite window was unacceptable.

------------------------------------------------------------------------
r1289 | zeromus | 2008-12-29 09:32:58 +0800 (一, 29 12月 2008) | 2 lines

switch back to using templates for mmu 7/9 splitting. to make it worth the trouble, i also split the embedded bios functions in the same way

------------------------------------------------------------------------
r1288 | luigi__ | 2008-12-29 07:56:05 +0800 (一, 29 12月 2008) | 2 lines

Changed the types of the precalc tables as suggested by zeromus.

------------------------------------------------------------------------
r1287 | luigi__ | 2008-12-29 07:40:15 +0800 (一, 29 12月 2008) | 2 lines

A few optimizations to the ADPCM sound decoding func.

------------------------------------------------------------------------
r1286 | zeromus | 2008-12-29 07:22:35 +0800 (一, 29 12月 2008) | 2 lines

major speedup to 3d by using a different pixel format for retrieving opengl framebuffer!

------------------------------------------------------------------------
r1285 | gecko_reverse | 2008-12-29 04:12:44 +0800 (一, 29 12月 2008) | 2 lines

fixed compilation on osx

------------------------------------------------------------------------
r1284 | mtabachenko | 2008-12-29 03:03:27 +0800 (一, 29 12月 2008) | 2 lines

fix compilation for windows

------------------------------------------------------------------------
r1283 | yabause | 2008-12-29 03:01:21 +0800 (一, 29 12月 2008) | 2 lines

Fixing compilation for linux.

------------------------------------------------------------------------
r1282 | luigi__ | 2008-12-29 02:53:22 +0800 (一, 29 12月 2008) | 2 lines

Texturing shouldn't break anymore when changing the 3D core.

------------------------------------------------------------------------
r1281 | luigi__ | 2008-12-29 02:33:36 +0800 (一, 29 12月 2008) | 2 lines

If OpenGL has already been inited, it won't be inited a second time now.

------------------------------------------------------------------------
r1280 | luigi__ | 2008-12-29 01:49:11 +0800 (一, 29 12月 2008) | 2 lines

Fixed a bug with 3D core hot swapping when no ROM has been loaded.

------------------------------------------------------------------------
r1279 | luigi__ | 2008-12-29 01:47:34 +0800 (一, 29 12月 2008) | 2 lines

Fixed a bug with 3D core hot swapping when no ROM has been loaded.

------------------------------------------------------------------------
r1278 | luigi__ | 2008-12-29 01:35:14 +0800 (一, 29 12月 2008) | 2 lines

The 3D settings dialog is now hooked up and fully functional. 3D core hot swapping seems to work correctly.

------------------------------------------------------------------------
r1277 | luigi__ | 2008-12-29 01:11:54 +0800 (一, 29 12月 2008) | 3 lines

Added a 3D settings dialog for changing the 3D core.
Added a French version of the Firmware settings dialog.

------------------------------------------------------------------------
r1276 | luigi__ | 2008-12-29 01:00:42 +0800 (一, 29 12月 2008) | 4 lines

Added NDS_3D_ChangeCore for hot swapping between 3D cores, because I plan to write a software renderer someday.
The OpenGL shaders are now properly released on close.
Added "OGL" before the names of the OpenGL core funcs for clarity.

------------------------------------------------------------------------
r1275 | riccardom | 2008-12-29 00:54:54 +0800 (一, 29 12月 2008) | 2 lines

Add parentheses to macro parameters where needed.

------------------------------------------------------------------------
r1274 | mtabachenko | 2008-12-29 00:18:47 +0800 (一, 29 12月 2008) | 3 lines

core:
- changes in reads/writes MMU;

------------------------------------------------------------------------
r1273 | riccardom | 2008-12-28 23:10:31 +0800 (日, 28 12月 2008) | 3 lines

Give a name to a global struct to shut up this gcc warning:
gfx3d.cpp:162: warning: non-local variable ‘<anonymous struct> tempVertInfo’ uses anonymous type

------------------------------------------------------------------------
r1272 | riccardom | 2008-12-28 23:03:59 +0800 (日, 28 12月 2008) | 2 lines

Put not used functions under if 0 for now.

------------------------------------------------------------------------
r1271 | riccardom | 2008-12-28 23:01:16 +0800 (日, 28 12月 2008) | 2 lines

Made two functions static a put parentheses around | operand as suggested by gcc.

------------------------------------------------------------------------
r1270 | riccardom | 2008-12-28 22:53:57 +0800 (日, 28 12月 2008) | 2 lines

Fix some unused variable warnings by ifdefing code and made some functions static.

------------------------------------------------------------------------
r1269 | shashClp | 2008-12-28 22:27:17 +0800 (日, 28 12月 2008) | 5 lines

[2471938] Applied patch attached on this issue.

- This is too from the infamous r1196, which I already
said was useless and stupid.

------------------------------------------------------------------------
r1268 | luigi__ | 2008-12-28 20:13:19 +0800 (日, 28 12月 2008) | 2 lines

The recent ROM names are now compacted using PathCompactPath, instead of being cut to 128 characters.

------------------------------------------------------------------------
r1267 | zeromus | 2008-12-28 10:27:13 +0800 (日, 28 12月 2008) | 7 lines

- add IDM_DEFSIZE to resource.h (luigi__ will have merge issues).
- add code to use bios if the bios files exist. this code is preliminary. it seems to freeze games right now. to use this, make sure BiosNds7.ROM and BiosNds9.ROM exist in the application startup working directory. this is probably not a good way to do it, but it is a start.
- fix recently created spu issues with adpcm and psg.
- change execute = FALSE; to emu_pause(); so that other things can be done or disabled in one place.
- analyze performance of MatrixIdentity for speedup.
- accept crazymax's correction to my matrix caching. that was boneheaded, sorry!

------------------------------------------------------------------------
r1266 | luigi__ | 2008-12-28 08:11:32 +0800 (日, 28 12月 2008) | 2 lines

The duplicating bug of the recent ROMs menu should now be definitively gone.

------------------------------------------------------------------------
r1265 | luigi__ | 2008-12-28 08:06:21 +0800 (日, 28 12月 2008) | 4 lines

Added a few missing menu items to the French & Danish menus.
Added a new option to resize the window to its default size.
Better menu item names for the French menu.

------------------------------------------------------------------------
r1264 | mtabachenko | 2008-12-28 07:49:08 +0800 (日, 28 12月 2008) | 2 lines

fix matrixes cache handle in some games. zeromus check it

------------------------------------------------------------------------
r1263 | luigi__ | 2008-12-28 07:42:50 +0800 (日, 28 12月 2008) | 2 lines

Choosing Danish as language would save French instead of Danish. Fixed.

------------------------------------------------------------------------
r1262 | luigi__ | 2008-12-28 07:13:03 +0800 (日, 28 12月 2008) | 2 lines

Better recent ROMs menu with a Clear option and fixed the bug where all the recent ROM items were duplicated when changing the language.

------------------------------------------------------------------------
r1261 | luigi__ | 2008-12-28 03:19:06 +0800 (日, 28 12月 2008) | 2 lines

Removed the proc variables for execdiv and execsqrt since the ARM7 deosn't have the div/sqrt funcs.

------------------------------------------------------------------------
r1260 | mtabachenko | 2008-12-27 19:09:16 +0800 (六, 27 12月 2008) | 3 lines

core:
- fix in 3D capturing;

------------------------------------------------------------------------
r1259 | mtabachenko | 2008-12-27 17:24:05 +0800 (六, 27 12月 2008) | 3 lines

core:
- more accurate IPC FIFO & Geometry Commands FIFO;

------------------------------------------------------------------------
r1258 | zeromus | 2008-12-27 16:10:45 +0800 (六, 27 12月 2008) | 2 lines

fix repeating dma. the incremented source and dest address werent being written back into the internal dma control variables. this fixes nsmb parallaxing backgrounds. we still have a rather large BUG in that the updated dma registers can't be read back by the game software. wait until next version to retool the dma control logic.

------------------------------------------------------------------------
r1257 | zeromus | 2008-12-27 14:47:18 +0800 (六, 27 12月 2008) | 2 lines

add 3d layer h-scrolling

------------------------------------------------------------------------
r1256 | zeromus | 2008-12-27 13:58:37 +0800 (六, 27 12月 2008) | 2 lines

minor speedup in gfx3d: build verts directly into the main vertex list instead of a 32B temp struct which needs to be copied each time a poly is completed.

------------------------------------------------------------------------
r1255 | zeromus | 2008-12-27 13:34:59 +0800 (六, 27 12月 2008) | 2 lines

revert my recent changes to backupmem autodetection. it fixed some games and broke others. I am disinclined to change it too close to a release.

------------------------------------------------------------------------
r1254 | zeromus | 2008-12-27 11:49:18 +0800 (六, 27 12月 2008) | 4 lines

minor optimizations to gpu and gfx3d:
- sprwin was too big (256x256 instead of 256x192)
- line render buffer initializer was a per pixel loop instead of a 256 wide memset

------------------------------------------------------------------------
r1253 | zeromus | 2008-12-27 10:42:54 +0800 (六, 27 12月 2008) | 2 lines

speedup to spu: having two cores is a bit extravagant.. but i fixed it so the core spu doesnt actually do any mixing (only incrementing of sample counters)

------------------------------------------------------------------------
r1252 | luigi__ | 2008-12-27 09:12:40 +0800 (六, 27 12月 2008) | 4 lines

The default language upon first launch is now really English, not French.
The menus are now better, though still not perfect.
Removed "HMENU menu" as it was useless due to "HMENU mainMenu".

------------------------------------------------------------------------
r1251 | zeromus | 2008-12-27 08:57:13 +0800 (六, 27 12月 2008) | 3 lines

- various minuscule gfx3d speedups via caching logical values derived from ds values
- very large speedup during opengl by caching projection matrices and not changing unless the game does.

------------------------------------------------------------------------
r1250 | luigi__ | 2008-12-27 08:49:51 +0800 (六, 27 12月 2008) | 2 lines

The default window position is now CW_USEDEFAULT instead of 0, so upon the first launch the window isn't placed in the top-left corner.

------------------------------------------------------------------------
r1249 | zeromus | 2008-12-27 07:03:28 +0800 (六, 27 12月 2008) | 2 lines

add the sqrt and div timing to savestates

------------------------------------------------------------------------
r1248 | zeromus | 2008-12-27 06:57:48 +0800 (六, 27 12月 2008) | 3 lines

- comment out that assert which strikes arm7less homebrews
- speed up GetLine() by 2x. this affected GetLineCaptured(), which I havent tested.

------------------------------------------------------------------------
r1247 | shashClp | 2008-12-27 05:38:43 +0800 (六, 27 12月 2008) | 2 lines

- Fix for the Dead'n'furious "black screen" bug.

------------------------------------------------------------------------
r1246 | luigi__ | 2008-12-27 05:03:53 +0800 (六, 27 12月 2008) | 2 lines

Oh, stupid of me : I was wrong with div/sqrt cycles again. They must be doubled to be 33mhz units, ie 13 cycles in 33mhz would be 26 cycles for nds.cycles.

------------------------------------------------------------------------
r1245 | zeromus | 2008-12-27 04:05:43 +0800 (六, 27 12月 2008) | 2 lines

fix an issue which could cause an invalid SWI in thumb mode to crash the emulator

------------------------------------------------------------------------
r1244 | luigi__ | 2008-12-27 01:35:28 +0800 (六, 27 12月 2008) | 2 lines

Oops, I forgot that the div/sqrt cycles are in 33 mhz units, not 66mhz units...

------------------------------------------------------------------------
r1243 | luigi__ | 2008-12-27 00:29:36 +0800 (六, 27 12月 2008) | 3 lines

Division and sqrt now take the right time before completing.
This seems to fix the teleport bug in SM64DS.

------------------------------------------------------------------------
r1242 | zeromus | 2008-12-26 16:24:26 +0800 (五, 26 12月 2008) | 2 lines

change backupmem autodetection to catch more cases of unusual usage patterns

------------------------------------------------------------------------
r1241 | zeromus | 2008-12-26 13:49:54 +0800 (五, 26 12月 2008) | 2 lines

so, some of my changes broke homebrew game loading. i fixed that.

------------------------------------------------------------------------
r1240 | zeromus | 2008-12-26 07:08:50 +0800 (五, 26 12月 2008) | 3 lines

[ 2394336 ] - desmume does not compile with dev-cpp
fixed: dev-cpp support is removed since there is nobody around to support it.

------------------------------------------------------------------------
r1239 | yabause | 2008-12-26 05:53:58 +0800 (五, 26 12月 2008) | 3 lines

Added more file to "make dist" and remove gtk/globals.h
that is now gone.

------------------------------------------------------------------------
r1238 | yabause | 2008-12-26 05:44:09 +0800 (五, 26 12月 2008) | 3 lines

Fixed compilation with autotools script and for case sensitive
platforms.

------------------------------------------------------------------------
r1237 | riccardom | 2008-12-26 05:21:00 +0800 (五, 26 12月 2008) | 2 lines

Rename the help menu Help from ? like usual gtk programs.

------------------------------------------------------------------------
r1236 | zeromus | 2008-12-26 05:17:25 +0800 (五, 26 12月 2008) | 2 lines

fix vs2008 build

------------------------------------------------------------------------
r1235 | riccardom | 2008-12-26 05:04:46 +0800 (五, 26 12月 2008) | 2 lines

Kill globals.h and move needed includes and defintion in main.cpp which was its only user.

------------------------------------------------------------------------
r1234 | zeromus | 2008-12-26 04:43:59 +0800 (五, 26 12月 2008) | 4 lines

- add secure area decryption from ndstool (little endian host only)
- change how the portable packed structure declarations are made
- reorganize and cleanup changelog

------------------------------------------------------------------------
r1233 | riccardom | 2008-12-25 00:29:01 +0800 (四, 25 12月 2008) | 2 lines

cast to int to avoid gcc signed vs unsigned comparison warnings as already done in the code.

------------------------------------------------------------------------
r1232 | mtabachenko | 2008-12-24 21:18:33 +0800 (三, 24 12月 2008) | 3 lines

winport:
- fix IO registers tools (fix and add new registers)

------------------------------------------------------------------------
r1231 | luigi__ | 2008-12-24 19:08:35 +0800 (三, 24 12月 2008) | 2 lines

Added my name

------------------------------------------------------------------------
r1230 | luigi__ | 2008-12-24 19:07:14 +0800 (三, 24 12月 2008) | 2 lines

Added my name

------------------------------------------------------------------------
r1229 | mtabachenko | 2008-12-24 18:27:39 +0800 (三, 24 12月 2008) | 3 lines

core:
- fix debug log in MMU;

------------------------------------------------------------------------
r1228 | gecko_reverse | 2008-12-24 10:21:46 +0800 (三, 24 12月 2008) | 2 lines

fixed PPC compilation errors

------------------------------------------------------------------------
r1227 | mtabachenko | 2008-12-24 09:37:18 +0800 (三, 24 12月 2008) | 3 lines

winport:
- fix compilation with define EXPERIMENTAL_WIFI (winsock2)

------------------------------------------------------------------------
r1226 | mtabachenko | 2008-12-24 08:25:48 +0800 (三, 24 12月 2008) | 3 lines

core:
- Add functions for a lid open/close. Holding key (default "Backspace" in Windows port) while game is freeze/non freeze

------------------------------------------------------------------------
r1225 | riccardom | 2008-12-24 07:02:46 +0800 (三, 24 12月 2008) | 2 lines

u32 needs l lenght modifier.

------------------------------------------------------------------------
r1224 | riccardom | 2008-12-24 06:49:46 +0800 (三, 24 12月 2008) | 2 lines

Fix missing indentation.

------------------------------------------------------------------------
r1223 | riccardom | 2008-12-24 06:41:37 +0800 (三, 24 12月 2008) | 2 lines

Fix most compile warnings with --enable-hardcore.

------------------------------------------------------------------------
r1222 | mtabachenko | 2008-12-24 06:03:35 +0800 (三, 24 12月 2008) | 3 lines

core:
-fix gxstat register;

------------------------------------------------------------------------
r1221 | luigi__ | 2008-12-24 05:44:07 +0800 (三, 24 12月 2008) | 2 lines

MMU.fw.data is now entirely cleared to zero (instead of the first 512 bytes) before anything (NDS_CreateDummyFirmware)

------------------------------------------------------------------------
r1220 | yabause | 2008-12-24 05:20:13 +0800 (三, 24 12月 2008) | 3 lines

Dirty fix for the bad context bug.
Instead of fixing it, we're trapping the error and disabling 3D.

------------------------------------------------------------------------
r1219 | mtabachenko | 2008-12-24 05:16:27 +0800 (三, 24 12月 2008) | 3 lines

core:
- added to capture display support for 3D and blend sources A+B capturing;

------------------------------------------------------------------------
r1218 | mtabachenko | 2008-12-23 20:56:52 +0800 (二, 23 12月 2008) | 2 lines

oops :) sorry, forgot

------------------------------------------------------------------------
r1217 | luigi__ | 2008-12-23 19:48:27 +0800 (二, 23 12月 2008) | 2 lines

Fixed a compilation error. silly of me :(

------------------------------------------------------------------------
r1216 | mtabachenko | 2008-12-23 19:42:33 +0800 (二, 23 12月 2008) | 2 lines

forgot file :(

------------------------------------------------------------------------
r1215 | luigi__ | 2008-12-23 19:39:23 +0800 (二, 23 12月 2008) | 2 lines

Fixed a bit the shadows, they don't cause any more glitches when overlapping translucent polygons

------------------------------------------------------------------------
r1214 | mtabachenko | 2008-12-23 19:08:25 +0800 (二, 23 12月 2008) | 3 lines

core:
- fix BMP sprite;

------------------------------------------------------------------------
r1213 | yabause | 2008-12-23 07:53:34 +0800 (二, 23 12月 2008) | 3 lines

Adding manpages from debian, not sure why they were
added there at first.

------------------------------------------------------------------------
r1212 | luigi__ | 2008-12-22 18:45:25 +0800 (一, 22 12月 2008) | 3 lines

Fixed 16-bit and 32-bit accesses to the VRAM regs
Added basic support for the VRAMSTAT, WRAMCNT, WRAMSTAT and EXMEMCNT regs (writes to these regs now write the appropriate values at the other side)

------------------------------------------------------------------------
r1211 | mtabachenko | 2008-12-22 04:22:56 +0800 (一, 22 12月 2008) | 3 lines

core:
- fixed silly bug in VRAM mapping (typo)

------------------------------------------------------------------------
r1210 | luigi__ | 2008-12-21 23:47:42 +0800 (日, 21 12月 2008) | 2 lines

Corrected a small mistake with WFC profile #3.

------------------------------------------------------------------------
r1209 | mtabachenko | 2008-12-20 19:44:07 +0800 (六, 20 12月 2008) | 3 lines

core:
- temporally fix in VRAM mapping and add BGx scroll;

------------------------------------------------------------------------
r1208 | luigi__ | 2008-12-20 02:10:03 +0800 (六, 20 12月 2008) | 2 lines

Added the 3 WFC profiles with their CRC16's, now Mario Kart boots a bit more (the next problem for it seems to be a DMA timing problem).

------------------------------------------------------------------------
r1207 | luigi__ | 2008-12-20 00:27:01 +0800 (六, 20 12月 2008) | 3 lines

Added the flag OFN_NOCHANGEDIR when opening a file (prevents changing the working directory).
This prevents the config file from being exported to the ROM folder, resulting in config saving problems.

------------------------------------------------------------------------
r1206 | luigi__ | 2008-12-19 23:33:06 +0800 (五, 19 12月 2008) | 2 lines

Added more values to the default firmware (mostly Wifi settings)

------------------------------------------------------------------------
r1205 | mtabachenko | 2008-12-18 21:16:21 +0800 (四, 18 12月 2008) | 3 lines

core:
- fixed Master Brightness (this is fix games with black screens ex. "Pirates of the Caribbean At Worlds End");

------------------------------------------------------------------------
r1204 | mtabachenko | 2008-12-18 08:36:54 +0800 (四, 18 12月 2008) | 3 lines

core:
- fix capture display (fixed blinking with both 3D screens ex.Sonic Rush, Metroid Prime etc)

------------------------------------------------------------------------
r1203 | yabause | 2008-12-18 07:45:07 +0800 (四, 18 12月 2008) | 2 lines

Added the movie thing and its dependencies into autotools scripts.

------------------------------------------------------------------------
r1202 | mtabachenko | 2008-12-17 01:17:23 +0800 (三, 17 12月 2008) | 2 lines

typo fix

------------------------------------------------------------------------
r1201 | mtabachenko | 2008-12-17 00:54:50 +0800 (三, 17 12月 2008) | 3 lines

core:
- fixed in 3D render and added simulation Geometry FIFO;

------------------------------------------------------------------------
r1200 | riccardom | 2008-12-16 05:25:46 +0800 (二, 16 12月 2008) | 2 lines

Make functions without declaration static and remove unused i variables.

------------------------------------------------------------------------
r1199 | mtabachenko | 2008-12-15 03:48:43 +0800 (一, 15 12月 2008) | 3 lines

core:
- cleanup gfx3d.cpp;

------------------------------------------------------------------------
r1198 | shashClp | 2008-12-15 02:14:47 +0800 (一, 15 12月 2008) | 4 lines

Removing credits for a persons work is something that I won't tolerate, more when it's my work.
It's OK to add more people, but not removing them. Also, as a general comment, that speed "improvement"
is completely stupid.

------------------------------------------------------------------------
r1197 | luigi__ | 2008-12-15 00:32:19 +0800 (一, 15 12月 2008) | 2 lines

minor optimization to lighting formula

------------------------------------------------------------------------
r1196 | mtabachenko | 2008-12-14 22:56:26 +0800 (日, 14 12月 2008) | 4 lines

core:
- 1st step for MMU split for procs (speedup);
- some changes in FIFO;

------------------------------------------------------------------------
r1195 | zeromus | 2008-12-14 08:29:51 +0800 (日, 14 12月 2008) | 2 lines

change arm9 sqrt and div. sqrt should be more precise, and the register access is more straightforward.

------------------------------------------------------------------------
r1194 | luigi__ | 2008-12-14 04:30:31 +0800 (日, 14 12月 2008) | 2 lines

Fixed ARM9 hardware division when the denom is zero (see http://nocash.emubase.de/gbatek.htm#dsmaths)

------------------------------------------------------------------------
r1193 | luigi__ | 2008-12-11 02:31:56 +0800 (四, 11 12月 2008) | 3 lines

Fixed a few bugs with looping feature (looped sounds now play corectly when using PAlib)
Changed interpolation to cosine interpolation (makes transitions smoother)

------------------------------------------------------------------------
r1192 | zeromus | 2008-12-09 06:03:57 +0800 (二, 09 12月 2008) | 2 lines

fix windows build (fs-windows.cpp moved)

------------------------------------------------------------------------
r1191 | yabause | 2008-12-09 05:57:05 +0800 (二, 09 12月 2008) | 5 lines

Started to fix "make dist" as we should release sometime soon.
This commit broke the visual studio compilation as I moved
fs-windows.cpp back in "src".
I also removed some old files from gtk dir.

------------------------------------------------------------------------
r1190 | yabause | 2008-12-09 04:27:09 +0800 (二, 09 12月 2008) | 2 lines

Fixed compilation on linux.

------------------------------------------------------------------------
r1189 | luigi__ | 2008-12-09 02:07:40 +0800 (二, 09 12月 2008) | 2 lines

Fixed texturing when using fixed pipeline (thanks to zeromus for reporting this bug)

------------------------------------------------------------------------
r1188 | mtabachenko | 2008-12-08 21:11:05 +0800 (一, 08 12月 2008) | 3 lines

core:
- some fixes;

------------------------------------------------------------------------
r1187 | mtabachenko | 2008-12-08 20:31:43 +0800 (一, 08 12月 2008) | 3 lines

core:
- fix VRAM mapping control (now this correct, in future need only add WRAM mapping);

------------------------------------------------------------------------
r1186 | mtabachenko | 2008-12-08 18:18:50 +0800 (一, 08 12月 2008) | 2 lines

- exclude check address range in VRAM (may crash in some games :( );

------------------------------------------------------------------------
r1185 | mtabachenko | 2008-12-08 17:15:40 +0800 (一, 08 12月 2008) | 3 lines

core:
- fix VRAM bug (ex. NSMB fixed background missing on map)

------------------------------------------------------------------------
r1184 | gecko_reverse | 2008-12-08 15:19:49 +0800 (一, 08 12月 2008) | 2 lines

compile fix for NDS_exec

------------------------------------------------------------------------
r1183 | zeromus | 2008-12-08 15:09:06 +0800 (一, 08 12月 2008) | 2 lines

fix more bugs in map view tool (values were mismatched and messed up)

------------------------------------------------------------------------
r1182 | zeromus | 2008-12-08 14:52:38 +0800 (一, 08 12月 2008) | 2 lines

revert crazymax's change to master brightness. it looks 100% wrong, so I dunno what he was trying to do. now fades on subscreen work correctly

------------------------------------------------------------------------
r1181 | zeromus | 2008-12-08 14:32:29 +0800 (一, 08 12月 2008) | 7 lines

- I think other ports will be broken. Please change NDS_exec() to NDS_exec<FALSE>()
- Repair some things which had recently degraded win32 performance
- Render 3d on scanline 213 instead of at vblank, since that is when rendering begins on the device; this eliminates transient texture corruption when dynamic textures are uploaded after vblank
- myriad tiny performance boosts to emu and cpu core
- fix other tool dialog boxes which were malfunctioning
- add layer visibility flag to mapview tool

------------------------------------------------------------------------
r1180 | zeromus | 2008-12-08 11:52:04 +0800 (一, 08 12月 2008) | 2 lines

fix bug(?) in new input config dialog that caused it to act freaky

------------------------------------------------------------------------
r1179 | adelikat | 2008-12-08 09:00:48 +0800 (一, 08 12月 2008) | 2 lines

shaders.h fixes

------------------------------------------------------------------------
r1178 | yabause | 2008-12-07 23:55:16 +0800 (日, 07 12月 2008) | 2 lines

Removed config.h file as the file doesn't exists anymore.

------------------------------------------------------------------------
r1177 | yabause | 2008-12-07 23:54:10 +0800 (日, 07 12月 2008) | 2 lines

fixed compilation for windows

------------------------------------------------------------------------
r1176 | yabause | 2008-12-07 23:53:35 +0800 (日, 07 12月 2008) | 2 lines

Fixed compilation for linux and windows

------------------------------------------------------------------------
r1175 | riccardom | 2008-12-07 23:52:48 +0800 (日, 07 12月 2008) | 3 lines

Don't need two more variables, use them straight. Removes a ton of
warnings of unused vars.

------------------------------------------------------------------------
r1174 | riccardom | 2008-12-07 23:36:54 +0800 (日, 07 12月 2008) | 2 lines

Make createShaders() static.

------------------------------------------------------------------------
r1173 | riccardom | 2008-12-07 23:33:29 +0800 (日, 07 12月 2008) | 2 lines

Make a loop counter variable unsigned to shut up gcc warnings.

------------------------------------------------------------------------
r1172 | riccardom | 2008-12-07 23:28:44 +0800 (日, 07 12月 2008) | 3 lines

Put second argument of macros under round brackets to avoid operator precedence
problems.

------------------------------------------------------------------------
r1171 | gecko_reverse | 2008-12-07 04:24:44 +0800 (日, 07 12月 2008) | 2 lines

cococa port compiling again

------------------------------------------------------------------------
r1170 | yabause | 2008-12-06 07:10:36 +0800 (六, 06 12月 2008) | 3 lines

Patch by Salva Peiró (from inferno-ds):
See http://groups.google.com/group/inferno-ds/browse_thread/thread/acedc438fae01829

------------------------------------------------------------------------
r1169 | yabause | 2008-12-06 06:50:45 +0800 (六, 06 12月 2008) | 4 lines

Fixed compilation for linux, I guess it's still broke
on mac. (AFAIK, there's no need for *GetProcAddress on
mac)

------------------------------------------------------------------------
r1168 | luigi__ | 2008-12-05 06:08:02 +0800 (五, 05 12月 2008) | 2 lines

Forgot to update the project file. sorry...

------------------------------------------------------------------------
r1167 | luigi__ | 2008-12-05 06:04:09 +0800 (五, 05 12月 2008) | 2 lines

Fixed unaligned accesses. Now Rayman DS shows 3 intros.

------------------------------------------------------------------------
r1166 | luigi__ | 2008-12-05 05:58:24 +0800 (五, 05 12月 2008) | 2 lines

Modified the GXSTAT register handling, this is still an ugly hack but some games (like Super Mario 64) don't freeze anymore.

------------------------------------------------------------------------
r1165 | luigi__ | 2008-12-05 03:48:46 +0800 (五, 05 12月 2008) | 5 lines

Added shaders for better 3D graphics
Fixed toon table uploading
GL extensions should now work under Linux with glXGetProcAddress (not tested)
GFX3D::HIGHLIGHT is now 1 as it's supposed to be

------------------------------------------------------------------------
r1164 | luigi__ | 2008-12-05 02:48:32 +0800 (五, 05 12月 2008) | 2 lines

Implemented the lighting formula used by the DS + shininess table + fixed gfx3d_glGetDirectionalMatrix (I'm REALLY astonished that nobody ever seen how this function was incorrectly coded)

------------------------------------------------------------------------
r1163 | luigi__ | 2008-12-05 02:46:02 +0800 (五, 05 12月 2008) | 2 lines

Fixed a few 3D function mismatches (for example setting light direction through reg at 0x040004C8 would assign the value as light color)

------------------------------------------------------------------------
r1162 | mtabachenko | 2008-12-01 08:26:06 +0800 (一, 01 12月 2008) | 3 lines

core:
- fix bug in VRAM;

------------------------------------------------------------------------
r1161 | mtabachenko | 2008-12-01 07:54:05 +0800 (一, 01 12月 2008) | 3 lines

core:
- small fix in VRAM mapping control;

------------------------------------------------------------------------
r1160 | mtabachenko | 2008-12-01 01:09:55 +0800 (一, 01 12月 2008) | 3 lines

core:
- fix master bright (use only in EngineA);

------------------------------------------------------------------------
r1159 | mtabachenko | 2008-12-01 00:21:11 +0800 (一, 01 12月 2008) | 3 lines

winport:
- fix compile Intel C++ project;

------------------------------------------------------------------------
r1158 | mtabachenko | 2008-11-30 23:42:15 +0800 (日, 30 11月 2008) | 2 lines

oops, sorry (forgot remove one extern)

------------------------------------------------------------------------
r1157 | mtabachenko | 2008-11-30 23:35:10 +0800 (日, 30 11月 2008) | 3 lines

core:
- rewrite VRAM mapping control & rendering;

------------------------------------------------------------------------
r1156 | riccardom | 2008-11-29 23:09:43 +0800 (六, 29 11月 2008) | 2 lines

Removed printscreen.cpp entry, don't know if this will make it build again.

------------------------------------------------------------------------
r1155 | riccardom | 2008-11-29 23:07:31 +0800 (六, 29 11月 2008) | 4 lines

Kill WriteBMP and use the very same Printscreen functions from the gtk frontend.
This means a few more code duplication but remove some ugliness.
Now dev-cpp (i suppose) compilation is broken.

------------------------------------------------------------------------
r1154 | yabause | 2008-11-29 22:29:07 +0800 (六, 29 11月 2008) | 10 lines

Patch 2358908 by StrontiumDog with some changes.
This patch fix some more warnings. Most of them
being warnings about unused fread/fwrite results.
Instead of just discarding the result, the number of
read/write is stored in the variable and can be use
to know if there was a problem in the fread/fwrite calls.
(also change the variable names to elems_ instead of
bytes_ as the function returns the number of items not the
number of bytes).

------------------------------------------------------------------------
r1153 | yabause | 2008-11-29 07:26:26 +0800 (六, 29 11月 2008) | 4 lines

Added back the *DEBUG macros so you can choose which debug
messages you get by defining one or more of those macros.
Added configure switch to enable them.

------------------------------------------------------------------------
r1152 | yabause | 2008-11-29 06:57:28 +0800 (六, 29 11月 2008) | 3 lines

Removed gdbstub directory from compilation process when
--enable-gdb-stub is not used.

------------------------------------------------------------------------
r1151 | riccardom | 2008-11-29 06:38:11 +0800 (六, 29 11月 2008) | 2 lines

Add missing gtk_message_dialog_new() argument, pointed out by Strontium.

------------------------------------------------------------------------
r1150 | riccardom | 2008-11-29 06:30:30 +0800 (六, 29 11月 2008) | 3 lines

Removed unused variables pointed out by Strontium on irc, while
at it remove an useless initialization.

------------------------------------------------------------------------
r1149 | riccardom | 2008-11-29 06:06:08 +0800 (六, 29 11月 2008) | 2 lines

Fix whitespace

------------------------------------------------------------------------
r1148 | mtabachenko | 2008-11-26 22:09:41 +0800 (三, 26 11月 2008) | 2 lines

- printlog() replaced on INFO();

------------------------------------------------------------------------
r1147 | yabause | 2008-11-26 05:04:31 +0800 (三, 26 11月 2008) | 2 lines

Removed the shadow on some variable just to keep gcc quiet.

------------------------------------------------------------------------
r1146 | yabause | 2008-11-23 22:52:43 +0800 (日, 23 11月 2008) | 5 lines

Some changes to the "memory profiling" feature:
- gtk frontend and core now use the same preprocessor definition
  to protect their code.
- removed the #define from the code and added a configure switch.

------------------------------------------------------------------------
r1145 | adelikat | 2008-11-22 07:17:14 +0800 (六, 22 11月 2008) | 2 lines

Fixed windows build

------------------------------------------------------------------------
r1144 | yabause | 2008-11-22 06:36:40 +0800 (六, 22 11月 2008) | 4 lines

Here comes the new debug code...
there's good chance that I just broke the cocoa and
windows frontends, sorry about that.

------------------------------------------------------------------------
r1143 | riccardom | 2008-11-21 18:39:14 +0800 (五, 21 11月 2008) | 2 lines

Whitespace cleanup, no functional changes.

------------------------------------------------------------------------
r1142 | riccardom | 2008-11-21 18:28:31 +0800 (五, 21 11月 2008) | 2 lines

Use delete to release header memory. adelikat certified it doesn't break :)

------------------------------------------------------------------------
r1141 | riccardom | 2008-11-21 03:58:24 +0800 (五, 21 11月 2008) | 2 lines

Revert nds magic number check because it broke loading some homebrew roms.

------------------------------------------------------------------------
r1140 | adelikat | 2008-11-19 22:28:49 +0800 (三, 19 11月 2008) | 2 lines

Win32 - frameCounter resets when loading a new rom.  Removed some of my debugging printlog statements

------------------------------------------------------------------------
r1139 | mtabachenko | 2008-11-19 15:56:57 +0800 (三, 19 11月 2008) | 3 lines

core:
- fixed broken input (typo fix);

------------------------------------------------------------------------
r1138 | normmatt234 | 2008-11-19 15:48:00 +0800 (三, 19 11月 2008) | 3 lines

More Save Auto Detection Sizes added.
Opps broke one of the save type buttons.

------------------------------------------------------------------------
r1137 | normmatt234 | 2008-11-19 14:50:00 +0800 (三, 19 11月 2008) | 4 lines

Fix broken windows debugging tools (Disassembler Still not working correctly).
Added Flash 4Mbit save type
Fixed 2Mbit save type incorrectly set as FRAM.

------------------------------------------------------------------------
r1136 | mtabachenko | 2008-11-18 17:24:23 +0800 (二, 18 11月 2008) | 3 lines

core:
- fix textures (ex. Castlevania DOS)

------------------------------------------------------------------------
r1135 | riccardom | 2008-11-18 05:04:12 +0800 (二, 18 11月 2008) | 3 lines

Make not modified array const instead of static. gcc generates
the very same code though.

------------------------------------------------------------------------
r1134 | riccardom | 2008-11-18 04:17:10 +0800 (二, 18 11月 2008) | 3 lines

Fix variable shadowing in OGLRender by reusing u32 *dwdst
instead of declaring a u16 *dst.

------------------------------------------------------------------------
r1133 | riccardom | 2008-11-18 04:14:32 +0800 (二, 18 11月 2008) | 4 lines

More robust check for roms:
- check nds roms magic number
- check that rom size is at least the expected size of the rom header

------------------------------------------------------------------------
r1132 | mtabachenko | 2008-11-16 22:15:23 +0800 (日, 16 11月 2008) | 2 lines

ops

------------------------------------------------------------------------
r1131 | mtabachenko | 2008-11-16 21:59:53 +0800 (日, 16 11月 2008) | 2 lines

- forgot for me :(

------------------------------------------------------------------------
r1130 | riccardom | 2008-11-16 07:11:21 +0800 (日, 16 11月 2008) | 2 lines

Whitespace cleanup in list_files to save one level of indentation

------------------------------------------------------------------------
r1129 | riccardom | 2008-11-16 07:09:46 +0800 (日, 16 11月 2008) | 3 lines

Reduce stack size a bit using proper size for buffer; reorder code a bit to
have a simpler error checking.

------------------------------------------------------------------------
r1128 | adelikat | 2008-11-16 04:04:22 +0800 (日, 16 11月 2008) | 2 lines

Win32 - fix NDS_UnPause to not attempt to unpause if no ROM is loaded (causes a rom to try to be loaded and errors).  NDS_Pause and NDS_UnPause only respond if paused = false or true respectively.  Minor fix to Drag and Drop

------------------------------------------------------------------------
r1127 | adelikat | 2008-11-16 03:50:23 +0800 (日, 16 11月 2008) | 2 lines

Win32 - Fix bug where DeSmuME attempts runs LoadROM on startup even if no ROM is specified on commandline

------------------------------------------------------------------------
r1126 | adelikat | 2008-11-16 02:21:27 +0800 (日, 16 11月 2008) | 2 lines

oops, fixed bug in UpdateRecentROM()

------------------------------------------------------------------------
r1125 | mtabachenko | 2008-11-16 02:09:41 +0800 (日, 16 11月 2008) | 3 lines

core:
- temporary implementations for clearing VRAM (garbage on screen);

------------------------------------------------------------------------
r1124 | mtabachenko | 2008-11-16 01:51:17 +0800 (日, 16 11月 2008) | 4 lines

winport:
- fix crashes tools on Windows XP;
- added refresh on cycles in Disassembler tool;

------------------------------------------------------------------------
r1123 | mtabachenko | 2008-11-15 23:56:03 +0800 (六, 15 11月 2008) | 3 lines

winport:
- fix crash (RecentROM)

------------------------------------------------------------------------
r1122 | adelikat | 2008-11-15 21:57:54 +0800 (六, 15 11月 2008) | 2 lines

Win32 - Added Recent ROMs menu

------------------------------------------------------------------------
r1121 | riccardom | 2008-11-15 21:54:17 +0800 (六, 15 11月 2008) | 2 lines

Format my name, first desmume commit :)

------------------------------------------------------------------------
r1120 | yabause | 2008-11-15 21:16:34 +0800 (六, 15 11月 2008) | 4 lines

Added Zeromus, Magliocchetti Riccardo and adelikat to
"team" list and moved inactive members to "contributors".
We may use a better format for that file though...

------------------------------------------------------------------------
r1119 | yabause | 2008-11-15 18:20:18 +0800 (六, 15 11月 2008) | 4 lines

Patch by Magliocchetti Riccardo:
remove silly log messages, convert some sprintf to g_strdup_printf
and where not practical at least to snprintf

------------------------------------------------------------------------
r1118 | adelikat | 2008-11-12 12:28:07 +0800 (三, 12 11月 2008) | 2 lines

Oh right, multi-language menus

------------------------------------------------------------------------
r1117 | adelikat | 2008-11-12 12:26:12 +0800 (三, 12 11月 2008) | 2 lines

Win32 - added Ctrl+O accel key for Open Rom

------------------------------------------------------------------------
r1116 | adelikat | 2008-11-11 09:32:55 +0800 (二, 11 11月 2008) | 2 lines

changed reference to Disassembler.cpp to Disassembler.h

------------------------------------------------------------------------
r1115 | zeromus | 2008-11-11 09:04:13 +0800 (二, 11 11月 2008) | 2 lines

i am dumb

------------------------------------------------------------------------
r1114 | yabause | 2008-11-11 08:17:58 +0800 (二, 11 11月 2008) | 4 lines

Patch by ico2:
Outputs a listing of executed code during execution.
define preprocessor variable WANTASMLISTING to use it.

------------------------------------------------------------------------
r1113 | zeromus | 2008-11-11 06:37:21 +0800 (二, 11 11月 2008) | 2 lines

oops forgot a couple of files

------------------------------------------------------------------------
r1112 | zeromus | 2008-11-11 06:34:52 +0800 (二, 11 11月 2008) | 2 lines

need to move these files over to another computer. dont think they should get in anyone else's way

------------------------------------------------------------------------
r1111 | yabause | 2008-11-11 06:27:08 +0800 (二, 11 11月 2008) | 3 lines

Patch by ico2:
changed width to event->width as it was preventing compilation.

------------------------------------------------------------------------
r1110 | yabause | 2008-11-11 06:23:49 +0800 (二, 11 11月 2008) | 3 lines

Patch by Magliocchetti Riccardo:
show key name instead of code when modifying controls, the very same change has been committed some times ago to the function that show it

------------------------------------------------------------------------
r1109 | yabause | 2008-11-11 06:18:54 +0800 (二, 11 11月 2008) | 3 lines

Patch by Magliocchetti Riccardo:
fix shadowing of size variable, renamed the offender sz

------------------------------------------------------------------------
r1108 | yabause | 2008-11-11 06:12:19 +0800 (二, 11 11月 2008) | 3 lines

Patch by Magliocchetti Riccardo:
fix may be used uninitialized, while at it add proper error checking in fps limiter code

------------------------------------------------------------------------
r1107 | yabause | 2008-11-11 06:09:39 +0800 (二, 11 11月 2008) | 3 lines

Patch by Magliocchetti Riccardo:
fix some sign vs unsigned warnings casting signed variables / constants to unsigned types

------------------------------------------------------------------------
r1106 | yabause | 2008-11-11 06:07:20 +0800 (二, 11 11月 2008) | 3 lines

Patch by Magliocchetti Riccardo:
Removed shadow on "i" variable.

------------------------------------------------------------------------
r1105 | yabause | 2008-11-11 05:59:54 +0800 (二, 11 11月 2008) | 3 lines

Patch by Magliocchetti Riccardo:
Removed shadow on size variable.

------------------------------------------------------------------------
r1104 | yabause | 2008-11-11 05:47:21 +0800 (二, 11 11月 2008) | 3 lines

Patch by Magliocchetti Riccardo:
Removed shadow on fpath.

------------------------------------------------------------------------
r1103 | yabause | 2008-11-11 05:40:44 +0800 (二, 11 11月 2008) | 4 lines

Patch by Magliocchetti Riccardo:
removed shadow on pal variable
(guill: it should be ok, pal isn't used afterward)

------------------------------------------------------------------------
r1102 | yabause | 2008-11-11 05:23:32 +0800 (二, 11 11月 2008) | 3 lines

Patch by Magliocchetti Riccardo:
Removed warnings about uninitialized fields in the hardcode setup.

------------------------------------------------------------------------
r1101 | gecko_reverse | 2008-11-10 12:51:49 +0800 (一, 10 11月 2008) | 2 lines

minor compile fix for cocoa port

------------------------------------------------------------------------
r1100 | zeromus | 2008-11-10 07:15:26 +0800 (一, 10 11月 2008) | 4 lines

fix SF [ 2217044 ] Rotation bug - 90 and 270 crash the emu
also repair the mouse x/y transform which suffered from similar bugs and rendered rotate modes unusable.
change a typo in a function name "releasTouch"

------------------------------------------------------------------------
r1099 | adelikat | 2008-11-10 05:33:03 +0800 (一, 10 11月 2008) | 2 lines

Windows - Added saveslot selected to messages

------------------------------------------------------------------------
r1098 | adelikat | 2008-11-10 05:27:03 +0800 (一, 10 11月 2008) | 2 lines

Windows - added a general messages display function.  Savestate loaded/saved messages now displayed when saving states.

------------------------------------------------------------------------
r1097 | adelikat | 2008-11-10 04:12:51 +0800 (一, 10 11月 2008) | 2 lines

Windows - added quicksave and quickload functions.  It uses up 0,1,2,3,4,5,6,7,8,9,I, and P for accel keys.  This is temporary until a re-mappable hotkey system is in place.

------------------------------------------------------------------------
r1096 | adelikat | 2008-11-10 03:26:50 +0800 (一, 10 11月 2008) | 3 lines

fixed void OSDCLASS::addFixed so that it actually uses the u16 x and u16 y values that it receives.
Win32 - fixed so that fps and framecounter display in different places

------------------------------------------------------------------------
r1095 | adelikat | 2008-11-10 03:16:47 +0800 (一, 10 11月 2008) | 2 lines

Win32 - Display FPS moved to Display category in ini file

------------------------------------------------------------------------
r1094 | adelikat | 2008-11-10 02:31:10 +0800 (一, 10 11月 2008) | 2 lines

Win32-remembers framecounter status

------------------------------------------------------------------------
r1093 | adelikat | 2008-11-10 00:44:41 +0800 (一, 10 11月 2008) | 2 lines

Win32 - remembers window position

------------------------------------------------------------------------
r1092 | yabause | 2008-11-09 22:30:33 +0800 (日, 09 11月 2008) | 2 lines

More ARRAY_SIZE usage by Magliocchetti Riccardo.

------------------------------------------------------------------------
r1091 | yabause | 2008-11-09 22:28:15 +0800 (日, 09 11月 2008) | 3 lines

Patch by ico2 with changes by Magliocchetti Riccardo:
This fixes compilation issues on 64 bits.

------------------------------------------------------------------------
r1090 | yabause | 2008-11-09 21:43:02 +0800 (日, 09 11月 2008) | 3 lines

Patch by Magliocchetti Riccardo:
introduce ARRAY_SIZE to calculate array size and use it instead of magic numbers.

------------------------------------------------------------------------
r1089 | yabause | 2008-11-09 21:37:44 +0800 (日, 09 11月 2008) | 3 lines

Patch by Magliocchetti Riccardo:
remove old code that has been replaced and thus commentend more that one year ago.

------------------------------------------------------------------------
r1088 | yabause | 2008-11-09 17:14:28 +0800 (日, 09 11月 2008) | 4 lines

Patch by Magliocchetti Riccardo:
Switch the screenshoot feature to make use of gdk-pixbuf to make png
instead of a open coded bmp encoder (NDSsystem.cpp already provides that).

------------------------------------------------------------------------
r1087 | yabause | 2008-11-09 17:12:23 +0800 (日, 09 11月 2008) | 3 lines

Patch by Magliocchetti Riccardo:
fix GDB_STUB regression in gtk frontend.

------------------------------------------------------------------------
r1086 | yabause | 2008-11-08 04:40:54 +0800 (六, 08 11月 2008) | 4 lines

Patch by Magliocchetti Riccardo:
use g_printerr instead of fprintf or g_print for reporting
errors, use LOG instead of commented printf for debug log.

------------------------------------------------------------------------
r1085 | yabause | 2008-11-08 04:39:10 +0800 (六, 08 11月 2008) | 3 lines

Patch by Magliocchetti Riccardo:
Moved header inclusion to a better place.

------------------------------------------------------------------------
r1084 | yabause | 2008-11-05 06:03:26 +0800 (三, 05 11月 2008) | 4 lines

Patch by Magliocchetti Riccardo:
gtk frontend: require gtk 2.6 at configure time and removed
some compatibility code for older versions.

------------------------------------------------------------------------
r1083 | yabause | 2008-11-05 06:01:09 +0800 (三, 05 11月 2008) | 3 lines

Patch by Magliocchetti Riccardo:
this moves shading initialization to follow the same order the variable are declared later.

------------------------------------------------------------------------
r1082 | yabause | 2008-11-05 05:53:33 +0800 (三, 05 11月 2008) | 2 lines

Memory leak fix by Magliocchetti Riccardo.

------------------------------------------------------------------------
r1081 | yabause | 2008-11-05 05:52:02 +0800 (三, 05 11月 2008) | 2 lines

Memory leak fix by Magliocchetti Riccardo.

------------------------------------------------------------------------
r1080 | yabause | 2008-11-05 05:48:46 +0800 (三, 05 11月 2008) | 2 lines

The dTools_running == NULL patch by Magliocchetti Riccardo (riccardom).

------------------------------------------------------------------------
r1079 | yabause | 2008-11-05 05:45:48 +0800 (三, 05 11月 2008) | 4 lines

Riccardom patch:
armcpu.cpp: move some debug stuff under #if 0. Disassembler.cpp, Render3d.cpp: make some functions static
(I didn't removed the #if'ed code... not sure what it was used for...)

------------------------------------------------------------------------
r1078 | yabause | 2008-11-05 05:30:29 +0800 (三, 05 11月 2008) | 3 lines

riccardom patch:
move mmu_select_savetype in MMU.cpp and move save_types to the file of its only user

------------------------------------------------------------------------
r1077 | yabause | 2008-11-05 05:26:56 +0800 (三, 05 11月 2008) | 3 lines

Moved print_memory_profiling declaration to a better place.
(riccardom patch).

------------------------------------------------------------------------
r1076 | yabause | 2008-11-05 05:21:53 +0800 (三, 05 11月 2008) | 3 lines

savestate_save and savestate_load are now static.
part of riccardom hardcore patches.

------------------------------------------------------------------------
r1075 | adelikat | 2008-11-04 09:53:52 +0800 (二, 04 11月 2008) | 2 lines

Windows - If the game is paused, savestate will not unpause automatically

------------------------------------------------------------------------
r1074 | adelikat | 2008-11-03 22:53:20 +0800 (一, 03 11月 2008) | 2 lines

Fix Windows build from r1072

------------------------------------------------------------------------
r1073 | adelikat | 2008-11-03 22:22:37 +0800 (一, 03 11月 2008) | 2 lines

Win32 - added "All Useable Files" option to Open Rom dialog

------------------------------------------------------------------------
r1072 | yabause | 2008-11-03 05:52:15 +0800 (一, 03 11月 2008) | 3 lines

Now checking if a rom is a regular file before opening.
Patch 2214354 by riccardom.

------------------------------------------------------------------------
r1071 | yabause | 2008-11-03 05:47:31 +0800 (一, 03 11月 2008) | 3 lines

Whitespace cleanup in writeBMP.
Patch by riccardom.

------------------------------------------------------------------------
r1070 | yabause | 2008-11-03 05:45:51 +0800 (一, 03 11月 2008) | 4 lines

Removed support for glib version older than 2.8 and added
check for glib version in configure script.
Patch by riccardom.

------------------------------------------------------------------------
r1069 | zeromus | 2008-11-03 04:24:35 +0800 (一, 03 11月 2008) | 2 lines

fix SF [ 2216986 ] - Win32 - File > Quit does nothing

------------------------------------------------------------------------
r1068 | yabause | 2008-10-31 22:18:26 +0800 (五, 31 10月 2008) | 3 lines

Patch by riccardom so desmume doesn't complain about
joystick when there's no joystick.

------------------------------------------------------------------------
r1067 | yabause | 2008-10-31 22:14:41 +0800 (五, 31 10月 2008) | 9 lines

CLI patch 2209984 by riccardom:

Use glib command line option parser instead of doing our own. The benefits
are 50 lines less in main.cpp and automatic --help text. While at it i've
removed screen_render_config structure because i think it's not needed.
Another change that was necessary was to change arm gdb port from u16 to
int because there is not a proper GOptionArg value for u16, i felt it was
better to use a bit more memory instead og getting it truncated at runtime.

------------------------------------------------------------------------
r1066 | yabause | 2008-10-31 22:05:30 +0800 (五, 31 10月 2008) | 2 lines

Core part of riccardom cleanup patch 2200793

------------------------------------------------------------------------
r1065 | yabause | 2008-10-31 22:03:35 +0800 (五, 31 10月 2008) | 2 lines

Gtk-glade part of riccardom cleanup patch 2200793

------------------------------------------------------------------------
r1064 | yabause | 2008-10-31 22:02:54 +0800 (五, 31 10月 2008) | 2 lines

Gtk part of riccardom cleanup patch 2200793

------------------------------------------------------------------------
r1063 | yabause | 2008-10-28 04:11:28 +0800 (二, 28 10月 2008) | 2 lines

Some more const patch by riccardom (2200785)

------------------------------------------------------------------------
r1062 | yabause | 2008-10-28 03:57:50 +0800 (二, 28 10月 2008) | 4 lines

Patch 2200776 by riccardom:
this patch fix some memory and fd leaks in case of malloc() errors, and
some misc cleanup around malloc().

------------------------------------------------------------------------
r1061 | yabause | 2008-10-24 16:13:44 +0800 (五, 24 10月 2008) | 2 lines

Misc fixes by riccardom

------------------------------------------------------------------------
r1060 | yabause | 2008-10-24 16:03:10 +0800 (五, 24 10月 2008) | 3 lines

Patch 2185448 by riccardom that checks fopen return
value for gtk(-glade) ports.

------------------------------------------------------------------------
r1059 | yabause | 2008-10-24 15:48:12 +0800 (五, 24 10月 2008) | 8 lines

Riccardom warnings fixes patches:
- cflash.cpp: this was straightforward, i've moved p declaration only
because there it's easier to follow where it is used.
- GPU.cpp: that functions is very long and has an horrible formatting,
please review.
- MMU.cpp: return in case of default inside a switch is used often inside
the code so i've done the same.

------------------------------------------------------------------------
r1058 | zeromus | 2008-10-22 09:49:23 +0800 (三, 22 10月 2008) | 2 lines

ssize_t is nonstandard, and ive never heard of it before. besides stl uses size_t everywhere so we stick with it in memorystream.h.

------------------------------------------------------------------------
r1057 | yabause | 2008-10-22 03:59:54 +0800 (三, 22 10月 2008) | 2 lines

Sound pause fix by riccardom (patch 2185284, fix bug 1804778)

------------------------------------------------------------------------
r1056 | yabause | 2008-10-22 03:50:47 +0800 (三, 22 10月 2008) | 5 lines

Patch 2182315 by riccardom that close 1722970 too:

The patch checks the fd before calling fseek and if it is
found null it logs it and returns 0 instead of segfaulting.

------------------------------------------------------------------------
r1055 | yabause | 2008-10-22 03:41:04 +0800 (三, 22 10月 2008) | 5 lines

Patch by riccardom:
a negative integral was passed to a unsigned variable so
declared it signed and casted it to unsigned when it is known
to be positive (size_t vs ssize_t).

------------------------------------------------------------------------
r1054 | yabause | 2008-10-22 03:39:10 +0800 (三, 22 10月 2008) | 2 lines

Warnings fixes by riccardom.

------------------------------------------------------------------------
r1053 | yabause | 2008-10-20 00:52:41 +0800 (一, 20 10月 2008) | 3 lines

Using a u8 to index a 0x8000 array it not a good idea :)
thanks to riccardom for reporting.

------------------------------------------------------------------------
r1052 | yabause | 2008-10-19 23:52:47 +0800 (日, 19 10月 2008) | 5 lines

Patch by riccardom to remove the extra read16le function.
The function is not used internaly is not defined in any
header file, so I guess it's ok to remove it. Feel free
to revert me if I'm wrong though.

------------------------------------------------------------------------
r1051 | yabause | 2008-10-19 23:37:16 +0800 (日, 19 10月 2008) | 3 lines

Another warnings fix patch by riccardom, this is also
protecting the non-portable DebugDumpTexture.

------------------------------------------------------------------------
r1050 | yabause | 2008-10-19 17:19:23 +0800 (日, 19 10月 2008) | 3 lines

Patch 2176985 by riccardom to fix compilation when gdb stub
is enabled.

------------------------------------------------------------------------
r1049 | yabause | 2008-10-18 15:49:51 +0800 (六, 18 10月 2008) | 4 lines

More #ifdef protection for gdb stub by riccardom
(patch 2168060).
Added a --enable-gdb-stub to configure too.

------------------------------------------------------------------------
r1048 | yabause | 2008-10-17 18:41:37 +0800 (五, 17 10月 2008) | 3 lines

--enable-hardcore configure flag is now even more hardcore!
(patch 2157019 by riccardom)

------------------------------------------------------------------------
r1047 | yabause | 2008-10-17 18:28:01 +0800 (五, 17 10月 2008) | 3 lines

More warnings fixes by riccardom (patch 2157019)
Also removed the unused execute_gdb function.

------------------------------------------------------------------------
r1046 | yabause | 2008-10-17 18:11:50 +0800 (五, 17 10月 2008) | 4 lines

More warnings fixes by riccardom (patch 2157019)
Removed three unused functions including SPU_ReadByte
and SPU_ReadLong.

------------------------------------------------------------------------
r1045 | yabause | 2008-10-17 17:55:15 +0800 (五, 17 10月 2008) | 6 lines

More warnings fixes by riccardom (patch 2157019)
This patch also protects the DebugDumpTexture
with DEBUG_DUMP_TEXTURE preprocessor define.
(btw, there's much chance that function won't
works on non windows platforms...)

------------------------------------------------------------------------
r1044 | yabause | 2008-10-17 17:49:03 +0800 (五, 17 10月 2008) | 2 lines

More warnings fixes by riccardom (patch 2157019)

------------------------------------------------------------------------
r1043 | yabause | 2008-10-17 17:42:47 +0800 (五, 17 10月 2008) | 2 lines

More warnings fixes by riccardom (patch 2157019)

------------------------------------------------------------------------
r1042 | yabause | 2008-10-17 17:40:27 +0800 (五, 17 10月 2008) | 4 lines

More warnings fixes by riccardom (patch 2157019)
Removed armcpu_prefetchExeption as it seems to
be unused.

------------------------------------------------------------------------
r1041 | yabause | 2008-10-17 17:27:42 +0800 (五, 17 10月 2008) | 2 lines

More warnings fixes by riccardom (patch 2157019)

------------------------------------------------------------------------
r1040 | yabause | 2008-10-17 17:26:29 +0800 (五, 17 10月 2008) | 2 lines

More warnings fixes by riccardom (patch 2157019)

------------------------------------------------------------------------
r1039 | yabause | 2008-10-17 17:23:46 +0800 (五, 17 10月 2008) | 2 lines

More warnings fixes by riccardom (patch 2157019)

------------------------------------------------------------------------
r1038 | yabause | 2008-10-17 17:20:38 +0800 (五, 17 10月 2008) | 2 lines

More warnings fixes by riccardom (patch 2157019)

------------------------------------------------------------------------
r1037 | yabause | 2008-10-17 17:16:13 +0800 (五, 17 10月 2008) | 4 lines

More warnings fixes by riccardom (patch 2157019)
This one fix the warnings for SDL related stuff.
I also removed an unused function...

------------------------------------------------------------------------
r1036 | yabause | 2008-10-17 17:12:36 +0800 (五, 17 10月 2008) | 2 lines

More warnings fixes by riccardom (patch 2157019)

------------------------------------------------------------------------
r1035 | yabause | 2008-10-14 03:30:19 +0800 (二, 14 10月 2008) | 3 lines

Ok... last patch in the "riccardom warnings fix" serie, this
close 2157019 :)

------------------------------------------------------------------------
r1034 | yabause | 2008-10-14 03:28:26 +0800 (二, 14 10月 2008) | 2 lines

Some more warning fixes by riccardom.

------------------------------------------------------------------------
r1033 | yabause | 2008-10-14 03:20:27 +0800 (二, 14 10月 2008) | 4 lines

Third patch by riccardom in 2157019
This one fix warnings (I'm sure you guessed it)
and use u8 instead of char where it makes sense.

------------------------------------------------------------------------
r1032 | yabause | 2008-10-14 03:15:16 +0800 (二, 14 10月 2008) | 4 lines

Second patch in 2157019 by riccardom.
This one fix a bug in POWER_CR_SKIP and remove some
warnings.

------------------------------------------------------------------------
r1031 | yabause | 2008-10-14 03:12:00 +0800 (二, 14 10月 2008) | 3 lines

Fixed warnings when compiling the gtk-glade port.
(this is first patch in 2157019 by riccardom)

------------------------------------------------------------------------
r1030 | gecko_reverse | 2008-10-13 07:19:20 +0800 (一, 13 10月 2008) | 2 lines

moved cocoa rom_info to cocoa/dialogs. also removed ctrlsdl from codeblocks project (added accidentally last revision)

------------------------------------------------------------------------
r1029 | gecko_reverse | 2008-10-13 06:04:45 +0800 (一, 13 10月 2008) | 2 lines

compile fixes for cocoa port. also removed some cocoa-port specific code from types.h which is is no longer needed since things have gotten more platform-independant

------------------------------------------------------------------------
r1028 | yabause | 2008-10-11 05:26:02 +0800 (六, 11 10月 2008) | 2 lines

const char * patch 2156837 by riccardom

------------------------------------------------------------------------
r1027 | zeromus | 2008-10-11 00:36:32 +0800 (六, 11 10月 2008) | 2 lines

fix bug: reading from unmapped vram should return zero

------------------------------------------------------------------------
r1026 | zeromus | 2008-10-10 16:01:08 +0800 (五, 10 10月 2008) | 2 lines

remove one of the printlogs that i added. i think it isnt necessary any more since i took out asserts. logging is still seriously effed up

------------------------------------------------------------------------
r1025 | yabause | 2008-10-10 03:57:28 +0800 (五, 10 10月 2008) | 3 lines

Code cleanup by riccardom (patch 2155179)
Fixed the compilation for gtk-glade port.

------------------------------------------------------------------------
r1024 | zeromus | 2008-10-09 10:55:35 +0800 (四, 09 10月 2008) | 2 lines

add font rendering to the softrender system

------------------------------------------------------------------------
r1023 | zeromus | 2008-10-08 14:52:30 +0800 (三, 08 10月 2008) | 2 lines

start making my debugging crap conditionally compiled

------------------------------------------------------------------------
r1022 | zeromus | 2008-10-08 14:48:40 +0800 (三, 08 10月 2008) | 2 lines

begin adding a general purpose universal software renderer. it doesnt do much yet, but osd can use it to draw its text more slowly.

------------------------------------------------------------------------
r1021 | zeromus | 2008-10-08 12:49:29 +0800 (三, 08 10月 2008) | 2 lines

remove a dead file

------------------------------------------------------------------------
r1020 | yabause | 2008-10-07 03:35:46 +0800 (二, 07 10月 2008) | 5 lines

Checked in 4 more patches by Magliocchetti Riccardo
Those are mostly fixes for gtk and gtk-glade ports.
See patch descriptions on sourceforge for details:
patches ID: 2149139 2149460 2149470 2149537

------------------------------------------------------------------------
r1019 | mtabachenko | 2008-10-06 20:01:47 +0800 (一, 06 10月 2008) | 3 lines

winport:
- new config input dialog;

------------------------------------------------------------------------
r1018 | mtabachenko | 2008-10-06 19:49:47 +0800 (一, 06 10月 2008) | 4 lines

winport:
- rewrite input core;
- replace config input dialog;

------------------------------------------------------------------------
r1017 | yabause | 2008-10-04 05:41:48 +0800 (六, 04 10月 2008) | 2 lines

Pause function wasn't testing if SNDCore is NULL

------------------------------------------------------------------------
r1016 | yabause | 2008-10-04 04:45:30 +0800 (六, 04 10月 2008) | 4 lines

Another quite old patch: 1717507
This one adds swedish translation for gtk-glade port.
Tack!

------------------------------------------------------------------------
r1015 | yabause | 2008-10-04 04:23:18 +0800 (六, 04 10月 2008) | 6 lines

Happy birthday "no gap" patch! (1805368)
After a year spent in our trackers, it's time to get in.
The menu changes were left out though. Sorry about that, but
I think you're now old enough to understand that we can't
check everything in.

------------------------------------------------------------------------
r1014 | yabause | 2008-10-04 03:21:16 +0800 (六, 04 10月 2008) | 3 lines

Another patch by Magliocchetti Riccardo (2144883), this
one fix small memory leaks in the gtk-glade port.

------------------------------------------------------------------------
r1013 | yabause | 2008-10-04 00:19:29 +0800 (六, 04 10月 2008) | 2 lines

Patch 2134525 in (fixes a small memory leak in gtk port).

------------------------------------------------------------------------
r1012 | yabause | 2008-10-03 16:20:11 +0800 (五, 03 10月 2008) | 4 lines

Applied patch 2118382 and did a few more compilation fixes
for autotools scripts. Also remove INLINE declaration from
rtc.cpp. If you want them to be inline, move them in rtc.h

------------------------------------------------------------------------
r1011 | mtabachenko | 2008-10-03 06:56:06 +0800 (五, 03 10月 2008) | 4 lines

- added for developers mmu debug;
- fix Intel C++ project;
- "printlog" is possibly corrected for other ports in a difference from Windows of port;

------------------------------------------------------------------------
r1010 | mtabachenko | 2008-09-29 17:37:23 +0800 (一, 29  9月 2008) | 3 lines

core:
- fix RTC write;

------------------------------------------------------------------------
r1009 | mtabachenko | 2008-09-29 16:43:07 +0800 (一, 29  9月 2008) | 3 lines

core:
- Add RTC implementations (not fully);

------------------------------------------------------------------------
r1008 | zeromus | 2008-09-29 06:04:24 +0800 (一, 29  9月 2008) | 2 lines

add some asserts to identify emulator bugs as a source of incompatibility

------------------------------------------------------------------------
r1007 | zeromus | 2008-09-28 12:48:46 +0800 (日, 28  9月 2008) | 2 lines

add fifo and cp15 to savestate. i believe it is mostly complete now, except for the 3d backbuffers (so the first frame after a load wont have 3d.) but i skipped this because the format will definitely change. ... ...and once more your savestates are invalidated.

------------------------------------------------------------------------
r1006 | zeromus | 2008-09-27 14:52:33 +0800 (六, 27  9月 2008) | 4 lines

- add mmu to savestate.
- totally change how the savestates work in order to fix a bug in the gfx3d savestate. your old savestates are definitely invalidated.
- rename adress to address everywhere.

------------------------------------------------------------------------
r1005 | zeromus | 2008-09-26 14:36:18 +0800 (五, 26  9月 2008) | 2 lines

windows: just a little cleanup

------------------------------------------------------------------------
r1004 | zeromus | 2008-09-26 14:24:36 +0800 (五, 26  9月 2008) | 5 lines

- fix windows keyboard shortcuts and pause (recently broken)
- maybe fix crashy savestates?
- do a bunch of valgrinding to fix memory problems
- add spu to savestate (still need to add mmu and fifos); tweak savestate variables a little bit.

------------------------------------------------------------------------
r1003 | zeromus | 2008-09-25 15:44:18 +0800 (四, 25  9月 2008) | 4 lines

- Remove multithreading from windows user interface after finding several synchronization issues
- Add AVI recording to windows
- Rework SPU to run two cores (one for emulation and one for audible output.)

------------------------------------------------------------------------
r1002 | zeromus | 2008-09-25 12:09:46 +0800 (四, 25  9月 2008) | 2 lines

due to some printlog calls being left in MMU, non-windows builds wouldnt compile. as a temporary measure, printlog defines to nothing in other platforms for now. we need to make more formalized cross-platform logging though.

------------------------------------------------------------------------
r1001 | zeromus | 2008-09-25 11:39:46 +0800 (四, 25  9月 2008) | 2 lines

fix some unsafe bit logic / bool code

------------------------------------------------------------------------
r1000 | shashClp | 2008-09-25 06:25:24 +0800 (四, 25  9月 2008) | 4 lines

- Fixed a type
- Removed the logo so desmume doesn't infringe copyrights. Don't read it, so
desmume isn't shutdown due to copyright infringement.

------------------------------------------------------------------------
r999 | mtabachenko | 2008-09-25 01:53:14 +0800 (四, 25  9月 2008) | 2 lines

typo fix

------------------------------------------------------------------------
r998 | mtabachenko | 2008-09-25 01:50:02 +0800 (四, 25  9月 2008) | 2 lines

typo fix

------------------------------------------------------------------------
r997 | mtabachenko | 2008-09-25 00:16:11 +0800 (四, 25  9月 2008) | 3 lines

core:
- fix FIFO;

------------------------------------------------------------------------
r996 | mtabachenko | 2008-09-24 00:22:10 +0800 (三, 24  9月 2008) | 2 lines

- fixes projects for windows port;

------------------------------------------------------------------------
r995 | mtabachenko | 2008-09-24 00:01:12 +0800 (三, 24  9月 2008) | 3 lines

win port:
typo fix VS2008 project

------------------------------------------------------------------------
r994 | mtabachenko | 2008-09-23 23:59:32 +0800 (二, 23  9月 2008) | 4 lines

- fix for compiling with Intel C++;
win port:
- add Intel C++ project (fastest builds on Intel CPU).

------------------------------------------------------------------------
r993 | mtabachenko | 2008-09-23 22:32:43 +0800 (二, 23  9月 2008) | 4 lines

win port:
- Rewrite all debug tools
forgot files :(

------------------------------------------------------------------------
r992 | mtabachenko | 2008-09-23 22:30:44 +0800 (二, 23  9月 2008) | 4 lines

win port:
- Rewrite all debug tools;
- Fix for compile and reorganize VS2008 project

------------------------------------------------------------------------
r991 | zeromus | 2008-09-23 10:24:26 +0800 (二, 23  9月 2008) | 2 lines

some source code cleanup and reorg of the vs8 vcproj which was driving me insane

------------------------------------------------------------------------
r990 | zeromus | 2008-09-23 03:42:28 +0800 (二, 23  9月 2008) | 2 lines

fix vs8 release build

------------------------------------------------------------------------
r989 | gecko_reverse | 2008-09-21 16:06:31 +0800 (日, 21  9月 2008) | 2 lines

timing switched to use NSDate instead of Microseconds (cleaner), fixed regression in auto frame skip menu item

------------------------------------------------------------------------
r988 | gecko_reverse | 2008-09-21 15:38:58 +0800 (日, 21  9月 2008) | 2 lines

cleanups to cocoa port sound code, sound menu items disabled if sound is not available

------------------------------------------------------------------------
r987 | gecko_reverse | 2008-09-21 15:36:57 +0800 (日, 21  9月 2008) | 2 lines

added a function to retrieve the current spu interface

------------------------------------------------------------------------
r986 | gecko_reverse | 2008-09-21 13:09:05 +0800 (日, 21  9月 2008) | 2 lines

did a little cleanup in main_window.m, especially regarding the status bar

------------------------------------------------------------------------
r985 | gecko_reverse | 2008-09-21 13:07:53 +0800 (日, 21  9月 2008) | 2 lines

removed old collector3d file from codeblocks project

------------------------------------------------------------------------
r984 | gecko_reverse | 2008-09-21 13:02:35 +0800 (日, 21  9月 2008) | 2 lines

VideoOutputView registers for window resize notification it's in so it can update it's drawable object

------------------------------------------------------------------------
r983 | gecko_reverse | 2008-09-21 13:00:18 +0800 (日, 21  9月 2008) | 2 lines

missing header file

------------------------------------------------------------------------
r982 | gecko_reverse | 2008-09-21 09:44:40 +0800 (日, 21  9月 2008) | 2 lines

some gfx3d functions didn't match prototypes

------------------------------------------------------------------------
r981 | gecko_reverse | 2008-09-21 09:05:44 +0800 (日, 21  9月 2008) | 2 lines

changed some 64-bit unfriendly code from spu

------------------------------------------------------------------------
r980 | gecko_reverse | 2008-09-21 08:28:53 +0800 (日, 21  9月 2008) | 2 lines

saves.cpp missing some include guards for HAVE_LIBZ, this at least gets it to compile without libz

------------------------------------------------------------------------
r979 | gecko_reverse | 2008-09-21 06:37:37 +0800 (日, 21  9月 2008) | 2 lines

minor compile fix

------------------------------------------------------------------------
r978 | gecko_reverse | 2008-09-21 06:20:30 +0800 (日, 21  9月 2008) | 2 lines

removed some frame-limit code which is no longer needed to do proper frame rate limiting

------------------------------------------------------------------------
r977 | gecko_reverse | 2008-09-21 04:25:02 +0800 (日, 21  9月 2008) | 2 lines

cocoa port: compile fixes, ScreenState cleaned up a bit and moved to it's own file, opengl now optional with HAVE_OPENGL macro (VideoOutputView now uses NSImageView to display if opengl is not available), VideoOuputView rotation uses boundsRotation from NSView rather than managing it's own

------------------------------------------------------------------------
r976 | zeromus | 2008-09-19 16:15:54 +0800 (五, 19  9月 2008) | 2 lines

a little thing i forgot; fix errors and warnings in gcc.

------------------------------------------------------------------------
r975 | zeromus | 2008-09-19 16:08:34 +0800 (五, 19  9月 2008) | 3 lines

- Change savestate code to support loosely bound chunks and more easily other parts of the emu (GE, GPU; also we need SPU eventually). The savestate format is changed, but from now on it is in principle more resilient (it will continue to break though)
- Remove 16MB of WRAM at 0x01****** from arm9

------------------------------------------------------------------------
r974 | gecko_reverse | 2008-09-19 10:48:24 +0800 (五, 19  9月 2008) | 2 lines

fixed incorrect if-else logic for reseting menu checks when loading a rom

------------------------------------------------------------------------
r973 | gecko_reverse | 2008-09-19 10:18:33 +0800 (五, 19  9月 2008) | 2 lines

changed include guards around nsuinteger typedefs to hopefully conflict less

------------------------------------------------------------------------
r972 | gecko_reverse | 2008-09-17 04:45:42 +0800 (三, 17  9月 2008) | 2 lines

cocoa port rakefile only stops compile for errors

------------------------------------------------------------------------
r971 | mtabachenko | 2008-09-17 00:16:16 +0800 (三, 17  9月 2008) | 2 lines

- some fixes in OSD (speed up);

------------------------------------------------------------------------
r970 | mtabachenko | 2008-09-16 18:28:03 +0800 (二, 16  9月 2008) | 2 lines

typo fix

------------------------------------------------------------------------
r969 | mtabachenko | 2008-09-16 18:19:41 +0800 (二, 16  9月 2008) | 3 lines

winport:
- Fix resizing, rotate & aspect ration of main window. Add save window position and parameters;

------------------------------------------------------------------------
r968 | gecko_reverse | 2008-09-16 16:53:54 +0800 (二, 16  9月 2008) | 2 lines

cocoa port: added (experimental) rakefile to build from command line ('rake')

------------------------------------------------------------------------
r967 | gecko_reverse | 2008-09-16 11:20:08 +0800 (二, 16  9月 2008) | 2 lines

cocoa port compile fixes

------------------------------------------------------------------------
r966 | zeromus | 2008-09-16 02:13:38 +0800 (二, 16  9月 2008) | 2 lines

back when i templateized cpu core things I forgot to switch over some stuff

------------------------------------------------------------------------
r965 | zeromus | 2008-09-16 01:55:18 +0800 (二, 16  9月 2008) | 2 lines

i checked this in with GDB_STUB enabled. i now see that this would be bad for performance. removing it.

------------------------------------------------------------------------
r964 | mtabachenko | 2008-09-15 18:45:02 +0800 (一, 15  9月 2008) | 2 lines

- sorry, lost GNU license

------------------------------------------------------------------------
r963 | mtabachenko | 2008-09-15 18:37:59 +0800 (一, 15  9月 2008) | 3 lines

core:
- added early version of OSD;

------------------------------------------------------------------------
r962 | zeromus | 2008-09-15 13:54:44 +0800 (一, 15  9月 2008) | 2 lines

fix a bug in the windows gdb stub caused by passing a fastcall callback to createthread

------------------------------------------------------------------------
r961 | gecko_reverse | 2008-09-15 11:50:32 +0800 (一, 15  9月 2008) | 2 lines

cocoa port compile fix (using src/oglrender for 3d now)

------------------------------------------------------------------------
r960 | zeromus | 2008-09-15 09:32:28 +0800 (一, 15  9月 2008) | 2 lines

remove dependency on directx sdk

------------------------------------------------------------------------
r959 | zeromus | 2008-09-15 06:13:11 +0800 (一, 15  9月 2008) | 2 lines

fix some things that I had left broken in the 3d engine

------------------------------------------------------------------------
r958 | yabause | 2008-09-15 05:09:22 +0800 (一, 15  9月 2008) | 5 lines

Applied patch by hanno boeck (ctulhu) to fix .desktop files.
.desktop.in are now useless so I removed them from the svn
and added the .desktop instead. Updated configure script
accordingly.

------------------------------------------------------------------------
r957 | zeromus | 2008-09-15 04:11:21 +0800 (一, 15  9月 2008) | 2 lines

fix depth buffering which I just broke

------------------------------------------------------------------------
r956 | zeromus | 2008-09-15 04:05:17 +0800 (一, 15  9月 2008) | 2 lines

better 2d/3d blending, but only in windows using the EXT_blend_func_separate

------------------------------------------------------------------------
r955 | zeromus | 2008-09-15 02:50:16 +0800 (一, 15  9月 2008) | 2 lines

better reset 3d code. fix boneheaded mistake which caused alpha blending never to be enabled.

------------------------------------------------------------------------
r954 | zeromus | 2008-09-15 01:55:05 +0800 (一, 15  9月 2008) | 2 lines

update texture decoding to use some of the lookup tables which were already there

------------------------------------------------------------------------
r953 | zeromus | 2008-09-15 01:39:09 +0800 (一, 15  9月 2008) | 2 lines

fix a3i5 which had been broken by debug code.

------------------------------------------------------------------------
r952 | zeromus | 2008-09-15 00:27:40 +0800 (一, 15  9月 2008) | 2 lines

clean up my messes in the windows build

------------------------------------------------------------------------
r951 | zeromus | 2008-09-15 00:23:16 +0800 (一, 15  9月 2008) | 2 lines

forgot to add file

------------------------------------------------------------------------
r950 | mtabachenko | 2008-09-14 16:12:10 +0800 (日, 14  9月 2008) | 2 lines

- fix windows port compile (temporally);

------------------------------------------------------------------------
r949 | mtabachenko | 2008-09-14 15:40:12 +0800 (日, 14  9月 2008) | 2 lines

- fix VS2008 project

------------------------------------------------------------------------
r948 | zeromus | 2008-09-14 14:54:48 +0800 (日, 14  9月 2008) | 2 lines

re-enable savestates in windows debug build

------------------------------------------------------------------------
r947 | zeromus | 2008-09-14 14:34:08 +0800 (日, 14  9月 2008) | 2 lines

add in some SPU interpolation code, conditionally compiled. enabled it in windows so we can see what it sounds like.

------------------------------------------------------------------------
r946 | zeromus | 2008-09-14 13:21:06 +0800 (日, 14  9月 2008) | 2 lines

Move the windows/cocoa OGLRender to the emu core and replace ogl_collector. Now every platform shares the same 3d code. I fixed GTK to use it, but I may have broken cocoa.

------------------------------------------------------------------------
r945 | zeromus | 2008-09-14 09:22:34 +0800 (日, 14  9月 2008) | 2 lines

fix the auto frameskip bug which made throttling explode and cause the emu to run slow!!!

------------------------------------------------------------------------
r944 | zeromus | 2008-09-14 03:34:08 +0800 (日, 14  9月 2008) | 2 lines

Added gfx3d module which emulates the whole GE as part of the core emu. This is step 1 of making every platform share the same 3d code. Step 2 will be to bring down the windows/cocoa OGLRenderer and make it act as the ogl_collector did.

------------------------------------------------------------------------
r943 | gecko_reverse | 2008-09-14 01:09:51 +0800 (日, 14  9月 2008) | 2 lines

Cocoa port compiling and running again, with all the new cpp files

------------------------------------------------------------------------
r942 | yabause | 2008-09-13 20:38:01 +0800 (六, 13  9月 2008) | 2 lines

Added the missing file in my last commit

------------------------------------------------------------------------
r941 | yabause | 2008-09-13 20:31:23 +0800 (六, 13  9月 2008) | 3 lines

Fixed the gtk glade port. As far as I can test it(that is
only the 2D part), it seems to be working...

------------------------------------------------------------------------
r940 | zeromus | 2008-09-13 14:11:12 +0800 (六, 13  9月 2008) | 4 lines

- oglrender: add some lookup tables, optimize getline.
- add load average calculation and display it in windows (for correlating slow cpu to slow emulation)
- fix bug(?) in texture transformation mode 1. I'm not 100% positive about it.

------------------------------------------------------------------------
r939 | adelikat | 2008-09-13 11:06:07 +0800 (六, 13  9月 2008) | 2 lines

Win32: Desmume remembers window size.  Game pauses while Desmume window is activated.

------------------------------------------------------------------------
r938 | adelikat | 2008-09-13 02:01:45 +0800 (六, 13  9月 2008) | 2 lines

Added Display frame counter to french + dutch menus (did not translate though)

------------------------------------------------------------------------
r937 | adelikat | 2008-09-13 01:54:03 +0800 (六, 13  9月 2008) | 2 lines

Win32 - Frame Advance implemented (with hotkey "N").  Frame Counter Display enabled.  TODO: frameCounter must be added to savestate info.  frameCounter must be displayed on screen instead of the console window.

------------------------------------------------------------------------
r936 | zeromus | 2008-09-11 14:02:44 +0800 (四, 11  9月 2008) | 2 lines

Added a bunch of crazy templates to the cpu and mmu which speed up a the emu little by optimizing variable accesses

------------------------------------------------------------------------
r935 | zeromus | 2008-09-11 13:57:18 +0800 (四, 11  9月 2008) | 2 lines

more dgbstub cpp fixes

------------------------------------------------------------------------
r934 | zeromus | 2008-09-11 13:52:21 +0800 (四, 11  9月 2008) | 2 lines

gdbstub needed converting to c++

------------------------------------------------------------------------
r933 | adelikat | 2008-09-11 11:42:48 +0800 (四, 11  9月 2008) | 2 lines

Added "N" accel key is preparation for addinga  frame advance hotkey

------------------------------------------------------------------------
r932 | mtabachenko | 2008-09-10 19:37:48 +0800 (三, 10  9月 2008) | 2 lines

- fix 3D null crash

------------------------------------------------------------------------
r931 | mtabachenko | 2008-09-10 15:58:35 +0800 (三, 10  9月 2008) | 2 lines

- fix VS2008 project

------------------------------------------------------------------------
r930 | mtabachenko | 2008-09-10 15:47:03 +0800 (三, 10  9月 2008) | 2 lines

VS2008 project fix

------------------------------------------------------------------------
r929 | adelikat | 2008-09-10 11:16:54 +0800 (三, 10  9月 2008) | 2 lines

Config has an X button.  Functionally works as a cancel (so you aren't forced to save the changes you made.

------------------------------------------------------------------------
r928 | adelikat | 2008-09-10 11:05:26 +0800 (三, 10  9月 2008) | 2 lines

Removed execute from main menu and moved pause to the spacebar Hopefully spacebar won't interefere with people's key binding preferences but it is temporary until a hotkey mapping system is in place.

------------------------------------------------------------------------
r927 | zeromus | 2008-09-09 16:50:00 +0800 (二, 09  9月 2008) | 5 lines

 - Reorganize 3d code to defer rendering to vblank. eliminates tearing, and maybe some texturing artifacts. also possibly helps performance a bit by letting the hardware pipeline work some more before blocking for framebuffer read.
 - Tweak optimization flags and change entire source code to use fastcall.
 - Add opengl state caching. This is of dubious performance assistance, but it is easy to take out so I am leaving it for now.
 - Add MMU->GPU signal for when vram mappings change, which allows it to assume textures are unchanged unless vram has changed. (big 3d speedup)

------------------------------------------------------------------------
r926 | zeromus | 2008-09-09 10:46:54 +0800 (二, 09  9月 2008) | 2 lines

fix windows release build. fix windows inputconfig. fix a bug in 4x4 texture decoding introduced during c++ conversion.

------------------------------------------------------------------------
r925 | zeromus | 2008-09-09 01:33:47 +0800 (二, 09  9月 2008) | 2 lines

remove cvsignore files

------------------------------------------------------------------------
r924 | yabause | 2008-09-08 22:29:21 +0800 (一, 08  9月 2008) | 2 lines

Commited patch by Orphis so gtk port build again.

------------------------------------------------------------------------
r923 | normmatt234 | 2008-09-08 17:50:43 +0800 (一, 08  9月 2008) | 2 lines

Fixed SBC and RSC, and cleaned up the ORRS code a little.

------------------------------------------------------------------------
r922 | zeromus | 2008-09-08 16:22:19 +0800 (一, 08  9月 2008) | 2 lines

fixing windows things that broke when fixing linux

------------------------------------------------------------------------
r921 | zeromus | 2008-09-08 16:18:16 +0800 (一, 08  9月 2008) | 2 lines

more cpp cleanups

------------------------------------------------------------------------
r920 | zeromus | 2008-09-08 16:15:44 +0800 (一, 08  9月 2008) | 2 lines

xx

------------------------------------------------------------------------
r919 | zeromus | 2008-09-08 16:06:35 +0800 (一, 08  9月 2008) | 2 lines

cleaning linux up after cpp

------------------------------------------------------------------------
r918 | zeromus | 2008-09-08 15:41:28 +0800 (一, 08  9月 2008) | 2 lines

etc

------------------------------------------------------------------------
r917 | zeromus | 2008-09-08 15:38:17 +0800 (一, 08  9月 2008) | 2 lines

more cpp work

------------------------------------------------------------------------
r916 | zeromus | 2008-09-08 15:32:44 +0800 (一, 08  9月 2008) | 2 lines

more cpp conversion

------------------------------------------------------------------------
r915 | zeromus | 2008-09-08 13:23:24 +0800 (一, 08  9月 2008) | 2 lines

apply adelikat's patch for a pause toggle hotkey

------------------------------------------------------------------------
r914 | zeromus | 2008-09-08 13:13:15 +0800 (一, 08  9月 2008) | 2 lines

windows release mode fixed

------------------------------------------------------------------------
r913 | zeromus | 2008-09-08 13:10:20 +0800 (一, 08  9月 2008) | 2 lines

windows build is repaired

------------------------------------------------------------------------
r912 | zeromus | 2008-09-08 12:27:18 +0800 (一, 08  9月 2008) | 2 lines

beginning the process of c->cpp conversion

------------------------------------------------------------------------
r911 | zeromus | 2008-09-08 12:17:36 +0800 (一, 08  9月 2008) | 2 lines

oops youll need this also. application icon temporarily disabled

------------------------------------------------------------------------
r910 | zeromus | 2008-09-08 12:15:27 +0800 (一, 08  9月 2008) | 2 lines

try to repair resource files.

------------------------------------------------------------------------
r909 | zeromus | 2008-09-08 11:01:34 +0800 (一, 08  9月 2008) | 2 lines

Fix the 2d/3d compositing well enough for NSMB to fix bugs, but it is still bad

------------------------------------------------------------------------
r908 | zeromus | 2008-09-08 06:22:35 +0800 (一, 08  9月 2008) | 2 lines

fix newly introduced bug which caused texcoord generation to totally break (level5 in nsmb)

------------------------------------------------------------------------
r907 | zeromus | 2008-09-08 04:35:30 +0800 (一, 08  9月 2008) | 2 lines

Defer rendering until after flush. This was a necessary architectural change, as it permits savestate for the display list, and allows us eventually to separate the GE emulation from the rendering

------------------------------------------------------------------------
r906 | zeromus | 2008-09-07 12:23:21 +0800 (日, 07  9月 2008) | 2 lines

Implement lighting model in software instead of using opengl; improves (potential?) compatibility

------------------------------------------------------------------------
r905 | zeromus | 2008-09-07 05:39:38 +0800 (日, 07  9月 2008) | 2 lines

toon shading infrastructure and a demo implementation

------------------------------------------------------------------------
r904 | zeromus | 2008-09-06 12:10:03 +0800 (六, 06  9月 2008) | 2 lines

(changelog)

------------------------------------------------------------------------
r903 | zeromus | 2008-09-06 12:08:35 +0800 (六, 06  9月 2008) | 6 lines

- Add many of NHerve's improvements into OGLRender because I was trying to fix all the 3d issues
- Track polycount better. still worthless: at the very least, it doesnt account for clipping and culling
- carry w=1 from vertex() through pipeline (this will be necessary for software 3d rendering)
- Make GPU matrix mult and load commands clear out unused rows and cols to identity correctly
- Make matrix 4x4 multiply routines use W-coordinate.

------------------------------------------------------------------------
r902 | zeromus | 2008-09-06 11:49:20 +0800 (六, 06  9月 2008) | 2 lines

fix windows build by #defining __packed to nothing

------------------------------------------------------------------------
r901 | yabause | 2008-09-06 07:07:08 +0800 (六, 06  9月 2008) | 3 lines

Applied patch by Colin McQuillan that fixes compilation
on Linux and remove warnings.

------------------------------------------------------------------------
r900 | yabause | 2008-09-06 06:40:27 +0800 (六, 06  9月 2008) | 4 lines

Updated the website url.
This commit is also done to test if everything is ok with
SVN migration.

------------------------------------------------------------------------
r899 | gecko_reverse | 2008-09-02 11:37:46 +0800 (二, 02  9月 2008) | 2 lines

Cocoa Port: compile fixes, several code cleanups, and removed requirement for hardware accelerated opengl renderers. updated email for mac port related questions

------------------------------------------------------------------------
r898 | zeromus | 2008-08-26 14:45:52 +0800 (二, 26  8月 2008) | 3 lines

attention crazymax: fixed the race condition which caused NDS_3D_Reset and NDS_glInit to interfere with each other
added a 5bit to 31bit conversion table covering entire range from 0 to INT_MAX to prevent such problems as alpha=31 polys being ever so slightly transparent. I applied it also to the material colors since I think those should exactly cover the whole range also.

------------------------------------------------------------------------
r897 | zeromus | 2008-08-26 13:56:40 +0800 (二, 26  8月 2008) | 2 lines

Revert NDSSystem.c which I overwrote earlier when i was goofing up cvs

------------------------------------------------------------------------
r896 | zeromus | 2008-08-26 13:13:28 +0800 (二, 26  8月 2008) | 2 lines

Shadow volume render mode support

------------------------------------------------------------------------
r895 | zeromus | 2008-08-26 11:32:04 +0800 (二, 26  8月 2008) | 3 lines

Enable the windows texture cacheing which seems to have been disabled due to one small bug.
repair a problem which the texture cacheing introduced to my render-translucent-polys-better workaround

------------------------------------------------------------------------
r894 | zeromus | 2008-08-26 10:59:56 +0800 (二, 26  8月 2008) | 2 lines

oops. restore mtabachenko's changes to OGLRender.c which he made while i wasnt on a working cvs

------------------------------------------------------------------------
r893 | zeromus | 2008-08-26 10:35:58 +0800 (二, 26  8月 2008) | 2 lines

more bugfixes and a very useful workaround for windows OGLRender.c

------------------------------------------------------------------------
r892 | mtabachenko | 2008-08-26 04:22:14 +0800 (二, 26  8月 2008) | 2 lines

GNU

------------------------------------------------------------------------
r891 | mtabachenko | 2008-08-26 04:19:56 +0800 (二, 26  8月 2008) | 7 lines

core:
- fixed bug in FPU;
- add reset & close function for 3D;

winport:
- add texture cache in 3D (more speedup).

------------------------------------------------------------------------
r890 | yabause | 2008-08-26 03:53:20 +0800 (二, 26  8月 2008) | 3 lines

Applied patch by zeromus. It seems ok to me so I giving him CVS
write access.

------------------------------------------------------------------------
r889 | gecko_reverse | 2008-08-19 13:49:47 +0800 (二, 19  8月 2008) | 2 lines

forgot to add files for last commit

------------------------------------------------------------------------
r888 | gecko_reverse | 2008-08-19 13:45:29 +0800 (二, 19  8月 2008) | 2 lines

Did a few more minor compile fixes for the cocoa port. Added speed limit menu under the emulation menu (default to 1x speed limit)

------------------------------------------------------------------------
r887 | mtabachenko | 2008-08-18 03:31:44 +0800 (一, 18  8月 2008) | 3 lines

winport:
- fixed in Castlevania backgrounds;

------------------------------------------------------------------------
r886 | mtabachenko | 2008-08-18 01:53:30 +0800 (一, 18  8月 2008) | 2 lines

opps... typo fix

------------------------------------------------------------------------
r885 | mtabachenko | 2008-08-18 01:42:16 +0800 (一, 18  8月 2008) | 9 lines

core:
- some fixes sprites and background;
- some others fixes;
- some speedup;
winport:
- fixes textures in OGL;
- some other fixes;
Can yet something, I do not remember :)

------------------------------------------------------------------------
r884 | gecko_reverse | 2008-08-07 16:49:09 +0800 (四, 07  8月 2008) | 2 lines

Added compile fixes for Mmc (ie changed __fastcall's to FASTCALL macro, hopefully doesn't break other builds). Did a bunch of all around cleanups for the Cocoa port. Also added code-level support for multiple key bindings for ds buttons, and caps independance for key bindings based on that.

------------------------------------------------------------------------
r883 | mtabachenko | 2008-08-04 15:02:28 +0800 (一, 04  8月 2008) | 2 lines

Opps... revert

------------------------------------------------------------------------
r882 | mtabachenko | 2008-08-04 14:53:13 +0800 (一, 04  8月 2008) | 2 lines

winport: added manifest

------------------------------------------------------------------------
r881 | mtabachenko | 2008-08-04 06:02:06 +0800 (一, 04  8月 2008) | 2 lines

winport: DirectDraw impl. fixes

------------------------------------------------------------------------
r880 | mtabachenko | 2008-08-04 02:36:31 +0800 (一, 04  8月 2008) | 3 lines

Windows port:
-Reorganization MSVS projects and add required libraries.

------------------------------------------------------------------------
r879 | mtabachenko | 2008-08-04 01:48:31 +0800 (一, 04  8月 2008) | 2 lines

Fixed SSE2 build

------------------------------------------------------------------------
r878 | mtabachenko | 2008-08-03 21:07:12 +0800 (日, 03  8月 2008) | 2 lines

winport: Reorganizaion project files for MS Visual Studio

------------------------------------------------------------------------
r877 | mtabachenko | 2008-08-03 06:19:15 +0800 (日, 03  8月 2008) | 6 lines

 - Added SSE2 version for matrix [CrazyMax]
 - Some fixes in core (New SMB don't freeze now) [CrazyMax]
 - Some optimizations in code [CrazyMax]
 - winport: Changed graphics render core to DirectDraw (work fastest) [CrazyMax]
 - winport: Some fixes in 3D core OGL (fixed textures) [CrazyMax]

------------------------------------------------------------------------
r876 | gecko_reverse | 2008-07-28 11:54:10 +0800 (一, 28  7月 2008) | 2 lines

Added key config options panel and hotkeys for pause/execute/reset thanks to Julio Gorgé

------------------------------------------------------------------------
r875 | gecko_reverse | 2008-07-19 02:53:45 +0800 (六, 19  7月 2008) | 2 lines

Added French translation by Pierre Rudloff

------------------------------------------------------------------------
r874 | gecko_reverse | 2008-05-13 14:57:32 +0800 (二, 13  5月 2008) | 2 lines

added option to load most recent file when the program launches. preferences panel code updated to size to fit to the current preference panel.

------------------------------------------------------------------------
r873 | gecko_reverse | 2008-05-06 06:32:25 +0800 (二, 06  5月 2008) | 2 lines

fixed a bug with the save/load state menu item states potentially being off. nds_control.m restores current gl context whenever it changes it. As a result it doesn't leave the 3d rendering context set on the main gui thread since it's constantly being used on the emulation thread. reverted a commented line that i overlooked in the diff for my last commit

------------------------------------------------------------------------
r872 | gecko_reverse | 2008-05-05 05:46:49 +0800 (一, 05  5月 2008) | 2 lines

fixed minor memory leaks in main_window. when the nds core sets execution to false, an error message is now displayed to let the user know that emulation has stopped. video output frame rate is now limited, which makes the gui more responsive especially when emulation is provided new frames as fast or faster than they can be blitted to the screen

------------------------------------------------------------------------
r871 | mtabachenko | 2008-05-03 13:32:52 +0800 (六, 03  5月 2008) | 2 lines

- moved console source code to new files for only windows port;

------------------------------------------------------------------------
r870 | yabause | 2008-05-03 04:23:31 +0800 (六, 03  5月 2008) | 3 lines

Removed three useless/wrong/etc. function prototypes for when
libgtkglext isn't installed...

------------------------------------------------------------------------
r869 | yabause | 2008-05-03 03:11:00 +0800 (六, 03  5月 2008) | 2 lines

windows specific code should be #ifdef WIN32 protected

------------------------------------------------------------------------
r868 | mtabachenko | 2008-05-02 14:26:26 +0800 (五, 02  5月 2008) | 3 lines

Windows port:
- fix small bug in compiling debug console

------------------------------------------------------------------------
r867 | mtabachenko | 2008-05-02 14:07:29 +0800 (五, 02  5月 2008) | 3 lines

Windows port:
- added debug console for BETA versions;

------------------------------------------------------------------------
r866 | gecko_reverse | 2008-05-01 15:53:57 +0800 (四, 01  5月 2008) | 2 lines

cocoa port: fixed a bug in loading states which was due to the gpu's opengl context not being set when the state loads. also improved exception handling in the video_output_view and main_window classes

------------------------------------------------------------------------
r865 | shashclp | 2008-04-30 07:33:03 +0800 (三, 30  4月 2008) | 10 lines

 - Removed the bug report link with a define, to avoid reports from betas/external builds
 - Added the version on window bar to recognize versions from screenshots
 - Added "high-level" check for DMAs and Timer for minor (really minor) speed up
 - Changed instruction execution to 16 at a time blocks (tested and stable)
 - Really minor memory access speed up (mainly added for clarity), gives up to 33% gain
 - Added transparency and fixed material alpha support and alpha testing on the 3D core
 - Changed how depth initial values are calculated (fixes SM64DS skybox)
 - Changed written pixels check on the 3D core to use the depth buffer, as I'll need the stencil buffer for shadows
 - Added my real name to my nick, as I prefer my work properly credited :P

------------------------------------------------------------------------
r864 | mtabachenko | 2008-04-30 04:35:05 +0800 (三, 30  4月 2008) | 6 lines

Windows port:
- add solution and project files for VS2008 x64;
- fixed for x64 compile;
- fixed for DirectX9 compile;
- fixed for future new audio core (for hardware Vista audio).

------------------------------------------------------------------------
r863 | gecko_reverse | 2008-04-27 11:13:53 +0800 (日, 27  4月 2008) | 2 lines

now supports hardware accelerated offscreen opengl using pixel buffers if available

------------------------------------------------------------------------
r862 | yabause | 2008-04-24 22:44:45 +0800 (四, 24  4月 2008) | 2 lines

Removed CWX from README files (and changed my email)

------------------------------------------------------------------------
r861 | shashclp | 2008-04-24 21:21:59 +0800 (四, 24  4月 2008) | 2 lines

- Forgot to add stuff on the 0.8.0 release :P

------------------------------------------------------------------------
r860 | gecko_reverse | 2008-04-24 14:00:20 +0800 (四, 24  4月 2008) | 2 lines

cocoa port: uses utf8 to pass strings to the emulator core instead of ascii. the load state from file menu item was actually saving the state instead of loading. the save state to file option now pauses emulation, so you can save the state the emulator is in when you choose to save, not when you choose the file. also, cocoa port changes in the chanlog will be listed under under macos x instead of cocoa since thats probably more well understood

------------------------------------------------------------------------
r858 | yabause | 2008-04-22 17:36:26 +0800 (二, 22  4月 2008) | 2 lines

Added some more files to make dist.

------------------------------------------------------------------------
r857 | yabause | 2008-04-21 21:59:20 +0800 (一, 21  4月 2008) | 4 lines

Updated version number to 0.8 for autotools and added some missing
files to "make dist", some are still missing though... gonna fix that
soon.

------------------------------------------------------------------------
r856 | gecko_reverse | 2008-04-19 17:08:12 +0800 (六, 19  4月 2008) | 2 lines

Final updates for 0.8 version, also fixed input on big endian systems in the cocoa port

------------------------------------------------------------------------
r855 | shashclp | 2008-04-17 01:32:29 +0800 (四, 17  4月 2008) | 3 lines

- Added zzip as a mandatory dependency on the VisualC project file
- Fixed a compile problem on VisualC

------------------------------------------------------------------------
r854 | gecko_reverse | 2008-04-10 13:57:29 +0800 (四, 10  4月 2008) | 2 lines

xcode proj now saved in xcode 2.4 format for compatibility

------------------------------------------------------------------------
r853 | gecko_reverse | 2008-04-10 13:34:55 +0800 (四, 10  4月 2008) | 2 lines

preferences window tab view selection switched to toolbar selection to better match preferences windows of other cocoa apps

------------------------------------------------------------------------
r852 | gecko_reverse | 2008-04-09 13:45:24 +0800 (三, 09  4月 2008) | 2 lines

disabled excessive FAT logging from last commit. cocoa port: fixed minor touch screen bug in cocoa port, key config now charcode based instead of key code (hopefully fixes issues with international keyboard), key setup saved in userconfig (can be changed from the command line), save/load state hotkeys moved to the number keys instead of the f buttons since expose/hardware functions are usually mapped to the f buttons

------------------------------------------------------------------------
r851 | gecko_reverse | 2008-04-06 23:47:35 +0800 (日, 06  4月 2008) | 2 lines

applied endian fixes in GPU thanks to Phazz

------------------------------------------------------------------------
r850 | gecko_reverse | 2008-04-06 18:26:05 +0800 (日, 06  4月 2008) | 2 lines

enabled HAVE_LIBZ by default for Cocoa builds. this enables save states for people building from source

------------------------------------------------------------------------
r849 | gecko_reverse | 2008-04-06 16:08:25 +0800 (日, 06  4月 2008) | 2 lines

Applied patch by TypeError (adds FAT image support and corrects function calls without prototypes), fixed various compile warnings in OGLrender, fixed an error message that would have crashed (c string instead of expected obj-c string)

------------------------------------------------------------------------
r848 | gecko_reverse | 2008-04-01 13:27:52 +0800 (二, 01  4月 2008) | 2 lines

gl_ambient_and_diffuse apparently cant be passed to glLightiv in standard opengl, also got rid of duplicate glEnds causing gl errors in the background

------------------------------------------------------------------------
r847 | gecko_reverse | 2008-04-01 12:59:52 +0800 (二, 01  4月 2008) | 2 lines

Cocoa Port: updated documentation, video output view moved into it's own file, input class added, fixed window resizing bugs, ROM Info interface updated and icon preview added, much improved about window, emulation moved to separate threadd, xcode project file added (compile from xcode or codeblocks)

------------------------------------------------------------------------
r846 | shashclp | 2008-03-29 00:01:54 +0800 (六, 29  3月 2008) | 2 lines

- Changed default memory type to 64k, as it seems to be used widely

------------------------------------------------------------------------
r845 | shashclp | 2008-03-28 23:59:19 +0800 (五, 28  3月 2008) | 2 lines

- Fixes that Dmitry Krutskih sent me per mail a zillion months ago

------------------------------------------------------------------------
r844 | shashclp | 2008-03-28 23:45:45 +0800 (五, 28  3月 2008) | 2 lines

- Fix for an endianess bug reported by 'jvernet' and fixed by 'Phazz' (Reference: http://forums.desmume.org/viewtopic.php?id=759)

------------------------------------------------------------------------
r843 | shashclp | 2008-03-23 04:52:48 +0800 (日, 23  3月 2008) | 2 lines

- Ouch, I broke the resources :P

------------------------------------------------------------------------
r842 | shashclp | 2008-03-03 08:11:34 +0800 (一, 03  3月 2008) | 2 lines

- Added an about box with the author list

------------------------------------------------------------------------
r841 | shashclp | 2008-03-03 07:36:00 +0800 (一, 03  3月 2008) | 3 lines

- Added NHerv� command fix on NOP's. The first fixes, at least, "Rayman Raving Rabbids 2".
- Added my fix to avoid clInd going < 0 without notice, fixes "Mario & Luigi - Partners in Time" apparent freeze  when going in battle

------------------------------------------------------------------------
r840 | shashclp | 2008-03-03 07:32:42 +0800 (一, 03  3月 2008) | 2 lines

- Removed "execute=FALSE" and added logging instead, so games don't freeze but we still know that those opcode implementations might be faulty

------------------------------------------------------------------------
r839 | gecko_reverse | 2008-02-26 16:43:22 +0800 (二, 26  2月 2008) | 2 lines

got rid of debug symbols by default in the x86 cocoa port

------------------------------------------------------------------------
r838 | gecko_reverse | 2008-02-26 16:27:46 +0800 (二, 26  2月 2008) | 2 lines

fixed minor compilation error on leopard

------------------------------------------------------------------------
r837 | gecko_reverse | 2008-02-26 15:50:11 +0800 (二, 26  2月 2008) | 2 lines

added nibs for cocoa version

------------------------------------------------------------------------
r836 | gecko_reverse | 2008-02-25 16:21:36 +0800 (一, 25  2月 2008) | 2 lines

updates to cocoa port

------------------------------------------------------------------------
r835 | shashclp | 2008-02-20 08:04:51 +0800 (三, 20  2月 2008) | 2 lines

- Fix for the freeze on "New Super Mario Bros"  minigames, reported by NHerv� After investigating, I found that the whole ROM header wasn't copied to Main RAM as it's meant to be. This fixes "New Super Mario Bros"  minigames, and probably others.

------------------------------------------------------------------------
r834 | shashclp | 2008-02-19 03:57:41 +0800 (二, 19  2月 2008) | 2 lines

- Fixed remaining armwrestler failing opcodes (LDM* mostly), now it's 100% correct, or atleast it does report to be correct (doesn't affect any games that I know of)

------------------------------------------------------------------------
r833 | shashclp | 2008-02-08 04:29:39 +0800 (五, 08  2月 2008) | 2 lines

- Fix for homebrews that never setup the screens. It's how it's meant to be on DS init.

------------------------------------------------------------------------
r832 | evilynux | 2007-12-09 14:04:47 +0800 (日, 09 12月 2007) | 2 lines

Fix build for gtk-glade UI.

------------------------------------------------------------------------
r831 | evilynux | 2007-12-09 13:58:53 +0800 (日, 09 12月 2007) | 2 lines

Fix build at least for cli and gtk UIs.

------------------------------------------------------------------------
r830 | gecko_reverse | 2007-11-26 00:46:31 +0800 (一, 26 11月 2007) | 2 lines

fixed a compile error

------------------------------------------------------------------------
r829 | gecko_reverse | 2007-11-26 00:38:47 +0800 (一, 26 11月 2007) | 2 lines

added sound, and did various other minor things to the cocoa port

------------------------------------------------------------------------
r828 | mtabachenko | 2007-11-19 17:27:15 +0800 (一, 19 11月 2007) | 2 lines

- added DirectInput interface

------------------------------------------------------------------------
r827 | mtabachenko | 2007-11-19 17:22:45 +0800 (一, 19 11月 2007) | 3 lines

- fixed DirectInput interface
- add joystick support

------------------------------------------------------------------------
r826 | shashclp | 2007-11-12 08:41:51 +0800 (一, 12 11月 2007) | 2 lines

- Fixed sprite blending (as reported by richq in bug #1830124). Maybe, it'll cause glitches (unwanted transparency), but it will be fixed as they come :)

------------------------------------------------------------------------
r825 | shashclp | 2007-10-31 07:05:41 +0800 (三, 31 10月 2007) | 2 lines

- Fixed dependency of glext.h :)

------------------------------------------------------------------------
r824 | shashclp | 2007-10-29 01:33:28 +0800 (一, 29 10月 2007) | 2 lines

- Fix, as "resrc1.h" isn't needed neither comitted :)

------------------------------------------------------------------------
r823 | shashclp | 2007-10-29 01:02:25 +0800 (一, 29 10月 2007) | 2 lines

Added external colaborations

------------------------------------------------------------------------
r822 | shashclp | 2007-10-29 01:01:41 +0800 (一, 29 10月 2007) | 2 lines

- Patch #1806966 by "Acid Burn"

------------------------------------------------------------------------
r821 | shashclp | 2007-10-29 00:44:52 +0800 (一, 29 10月 2007) | 2 lines

Added external colaborations

------------------------------------------------------------------------
r820 | shashclp | 2007-10-29 00:43:13 +0800 (一, 29 10月 2007) | 2 lines

- Patch #1810861 by carlo_bramini

------------------------------------------------------------------------
r819 | shashclp | 2007-10-29 00:21:53 +0800 (一, 29 10月 2007) | 3 lines

- Reverted thoduv's changes to the 2D core, as they made Mario 64 DS crash due to memory corruption (exact crash was when Peach fades after it's letter to Mario)
- Fixed a bit the combo boxes on the config button screen,whenever I can I'll fix the zillion others that are wrong

------------------------------------------------------------------------
r818 | shashclp | 2007-10-29 00:17:37 +0800 (一, 29 10月 2007) | 2 lines

- CrazyMax DirectInput interface

------------------------------------------------------------------------
r817 | shashclp | 2007-10-19 19:03:41 +0800 (五, 19 10月 2007) | 5 lines

- Now uses stencil test information to blit onto the layering
- Uses alpha test to discard transparent pixels (still missing proper blending, but I'm busy atm)
- Moved all texture coordinates submitting to floating point, to avoid float to long conversions
- Fixed viewport size, which was missing 1 pixel on width/height

------------------------------------------------------------------------
r816 | shashclp | 2007-10-19 17:31:53 +0800 (五, 19 10月 2007) | 3 lines

- Encapsulated all the GDB STUB stuff to be only enabled when the GDB_STUB macro is defined (as a projection option), as it's causing regression. I know I didn't do it the cleanest way, but it's the fastest one that I could do, anyone feel free to do a better way to enable/disable it properly to avoid aforementioned regression.
- Clean up of the read/write macros, so we don't have two names for the same stuff

------------------------------------------------------------------------
r815 | evilynux | 2007-09-27 13:28:19 +0800 (四, 27  9月 2007) | 2 lines

Better desktop menu entry following FreeDesktop specifications.

------------------------------------------------------------------------
r814 | evilynux | 2007-09-15 14:22:38 +0800 (六, 15  9月 2007) | 2 lines

Added Brazilian Portuguese translation by Dreampeppers99.

------------------------------------------------------------------------
r813 | evilynux | 2007-09-04 04:25:44 +0800 (二, 04  9月 2007) | 5 lines

gtk-glade:
- Added DeSmuME version in about dialog.
gtk and gtk-glade:
- Updated website url in about dialog.

------------------------------------------------------------------------
r812 | evilynux | 2007-09-04 02:20:24 +0800 (二, 04  9月 2007) | 2 lines

Fixed possible segfault in ROMReader on ia64 and amd64.

------------------------------------------------------------------------
r811 | gecko_reverse | 2007-08-19 19:00:58 +0800 (日, 19  8月 2007) | 2 lines

minor fix

------------------------------------------------------------------------
r810 | gecko_reverse | 2007-08-19 18:53:37 +0800 (日, 19  8月 2007) | 2 lines

cocoa port updates

------------------------------------------------------------------------
r809 | gecko_reverse | 2007-08-19 18:47:35 +0800 (日, 19  8月 2007) | 2 lines

cocoa port / documentation updates

------------------------------------------------------------------------
r808 | gecko_reverse | 2007-08-19 18:23:26 +0800 (日, 19  8月 2007) | 2 lines

various updates to cocoa port (see change log)

------------------------------------------------------------------------
r806 | yabause | 2007-08-12 07:50:56 +0800 (日, 12  8月 2007) | 2 lines

updated ChangeLog to 0.7.3

------------------------------------------------------------------------
r805 | yabause | 2007-08-12 07:46:01 +0800 (日, 12  8月 2007) | 3 lines

forgot to add the cocoa Makefile.am in my previous commit (btw, it's only
here to distribute cocoa port files)

------------------------------------------------------------------------
r804 | yabause | 2007-08-12 07:45:06 +0800 (日, 12  8月 2007) | 2 lines

fixed "make dist" and updated version number before releasing :)

------------------------------------------------------------------------
r803 | gecko_reverse | 2007-08-12 05:56:59 +0800 (日, 12  8月 2007) | 2 lines

touch sreen on rotated window works now

------------------------------------------------------------------------
r802 | gecko_reverse | 2007-08-12 05:56:15 +0800 (日, 12  8月 2007) | 2 lines

added more info about translations for mac

------------------------------------------------------------------------
r801 | gecko_reverse | 2007-08-12 03:51:07 +0800 (日, 12  8月 2007) | 2 lines

help menu works now

------------------------------------------------------------------------
r800 | gecko_reverse | 2007-08-12 03:29:29 +0800 (日, 12  8月 2007) | 2 lines

Initial Mac OS X interface commit

------------------------------------------------------------------------
r799 | gecko_reverse | 2007-08-12 03:23:45 +0800 (日, 12  8月 2007) | 2 lines

Initial Mac OS X interface commit

------------------------------------------------------------------------
r798 | evilynux | 2007-07-29 14:04:47 +0800 (日, 29  7月 2007) | 3 lines

- Check for intltool macros.
- Made intltool/gettext optionnal, gtk-glade UI won't be built if missing.

------------------------------------------------------------------------
r797 | evilynux | 2007-07-27 01:25:42 +0800 (五, 27  7月 2007) | 2 lines

Updated comment.

------------------------------------------------------------------------
r796 | evilynux | 2007-07-23 15:08:35 +0800 (一, 23  7月 2007) | 2 lines

Include README.TRANSLATION in release tarball.

------------------------------------------------------------------------
r795 | evilynux | 2007-07-19 14:50:57 +0800 (四, 19  7月 2007) | 2 lines

Added $Id$ to keep track of the modifications outside CVS.

------------------------------------------------------------------------
r794 | evilynux | 2007-07-19 14:41:50 +0800 (四, 19  7月 2007) | 2 lines

Added 7) Integrating new translations.

------------------------------------------------------------------------
r793 | evilynux | 2007-07-18 21:12:32 +0800 (三, 18  7月 2007) | 2 lines

Added an entry about the README.TRANSLATION.

------------------------------------------------------------------------
r792 | evilynux | 2007-07-18 21:11:11 +0800 (三, 18  7月 2007) | 2 lines

Consistency: use same layout for subsections.

------------------------------------------------------------------------
r791 | evilynux | 2007-07-18 21:09:47 +0800 (三, 18  7月 2007) | 2 lines

Consistency: use DeSmuME everywhere.

------------------------------------------------------------------------
r790 | evilynux | 2007-07-18 08:24:34 +0800 (三, 18  7月 2007) | 2 lines

Added al�to subsections to make text easier to read.

------------------------------------------------------------------------
r789 | evilynux | 2007-07-18 08:21:12 +0800 (三, 18  7月 2007) | 2 lines

Corrections.

------------------------------------------------------------------------
r788 | evilynux | 2007-07-18 08:13:19 +0800 (三, 18  7月 2007) | 2 lines

Command line translation to french.

------------------------------------------------------------------------
r787 | evilynux | 2007-07-18 08:12:38 +0800 (三, 18  7月 2007) | 2 lines

Command line translation now works, the gettext stuff needed to be called _before_ the command line parameter parsing.

------------------------------------------------------------------------
r786 | evilynux | 2007-07-17 14:13:00 +0800 (二, 17  7月 2007) | 2 lines

Make creation of po/Makefile.in optionnal.

------------------------------------------------------------------------
r785 | evilynux | 2007-07-17 14:05:40 +0800 (二, 17  7月 2007) | 3 lines

- Don't fail if intltoolize is not present as it will still be possible to build the windows, cli and gtk UIs.
- Also check for gintltoolize, might fix some MacOSX builds.

------------------------------------------------------------------------
r784 | evilynux | 2007-07-17 13:51:14 +0800 (二, 17  7月 2007) | 2 lines

Added basic informations about windows UI translation.

------------------------------------------------------------------------
r783 | evilynux | 2007-07-17 13:40:09 +0800 (二, 17  7月 2007) | 2 lines

Adding the pot file to make translators' life easier.

------------------------------------------------------------------------
r782 | evilynux | 2007-07-17 13:38:48 +0800 (二, 17  7月 2007) | 2 lines

Code update.

------------------------------------------------------------------------
r781 | evilynux | 2007-07-17 13:37:27 +0800 (二, 17  7月 2007) | 2 lines

SI units, kilo: K => k.

------------------------------------------------------------------------
r780 | evilynux | 2007-07-17 13:34:22 +0800 (二, 17  7月 2007) | 2 lines

Size => Taille.

------------------------------------------------------------------------
r779 | evilynux | 2007-07-17 13:27:07 +0800 (二, 17  7月 2007) | 2 lines

Compact menu names, nicer UI width.

------------------------------------------------------------------------
r778 | evilynux | 2007-07-17 13:24:00 +0800 (二, 17  7月 2007) | 2 lines

Really make gettext/intltool optionnal if gtk-glade isn't used.

------------------------------------------------------------------------
r777 | evilynux | 2007-07-17 13:15:07 +0800 (二, 17  7月 2007) | 2 lines

Silly me, fixed gtk-glade/gtk. Had broken it on purpose for testing.

------------------------------------------------------------------------
r776 | evilynux | 2007-07-17 12:57:18 +0800 (二, 17  7月 2007) | 3 lines

- gettext is required only if the gtk-glade UI gets built.
- The po/ folder is not considered unless we build the gtk-glade UI (at least for now).

------------------------------------------------------------------------
r775 | evilynux | 2007-07-17 12:39:49 +0800 (二, 17  7月 2007) | 2 lines

Ignore debhelper files.

------------------------------------------------------------------------
r774 | evilynux | 2007-07-17 12:36:16 +0800 (二, 17  7月 2007) | 3 lines

Everything about localization for gtk-glade UI.
Please add the information for the windows UI.

------------------------------------------------------------------------
r773 | evilynux | 2007-07-17 11:23:42 +0800 (二, 17  7月 2007) | 2 lines

Ignore Makefile.in.in as intltoolize generates it (./autogen.sh).

------------------------------------------------------------------------
r772 | evilynux | 2007-07-17 11:17:31 +0800 (二, 17  7月 2007) | 2 lines

Ignore the build-stamp.

------------------------------------------------------------------------
r771 | evilynux | 2007-07-17 11:16:37 +0800 (二, 17  7月 2007) | 2 lines

Ignore empty directories.

------------------------------------------------------------------------
r770 | evilynux | 2007-07-17 11:16:12 +0800 (二, 17  7月 2007) | 2 lines

Mention intltool as intltoolize is required for binary builders.

------------------------------------------------------------------------
r769 | evilynux | 2007-07-17 11:15:13 +0800 (二, 17  7月 2007) | 2 lines

Games' localization files should be in /usr/share/locale like other applications. Therefore i'm removing the autogenerated files and generating with intltoolize again (use ./autogen.sh).

------------------------------------------------------------------------
r768 | evilynux | 2007-07-17 11:06:49 +0800 (二, 17  7月 2007) | 2 lines

Games' localization files should be in /usr/share/locale like other applications. Therefore i'm removing the autogenerated files and generating with intltoolize again (use ./autogen.sh).

------------------------------------------------------------------------
r767 | evilynux | 2007-07-17 10:54:52 +0800 (二, 17  7月 2007) | 2 lines

No need to specify localedir, configure does it.

------------------------------------------------------------------------
r766 | evilynux | 2007-07-16 13:38:22 +0800 (一, 16  7月 2007) | 7 lines

There's an annoying bug in /usr/share/intltool/Makefile.in.in requiring
me to modify it after a call to intltoolize (localedir).
Since i can't figure what's wrong, i'm commenting the call to intltoolize and
adding the corresponding files to CVS (at least for now).

Solution proposals are much welcome.

------------------------------------------------------------------------
r765 | evilynux | 2007-07-16 06:27:35 +0800 (一, 16  7月 2007) | 2 lines

Updated desmume.pot.

------------------------------------------------------------------------
r764 | evilynux | 2007-07-16 06:24:15 +0800 (一, 16  7月 2007) | 2 lines

Localization-friendly cmdline help.

------------------------------------------------------------------------
r763 | evilynux | 2007-07-16 06:22:49 +0800 (一, 16  7月 2007) | 2 lines

Full localization for gtk-glade.

------------------------------------------------------------------------
r762 | evilynux | 2007-07-16 06:21:35 +0800 (一, 16  7月 2007) | 2 lines

Respect standard: specify file encoding.

------------------------------------------------------------------------
r761 | evilynux | 2007-07-16 06:21:11 +0800 (一, 16  7月 2007) | 2 lines

Respect standard: this file specifies the supported languages.

------------------------------------------------------------------------
r760 | evilynux | 2007-07-16 05:54:05 +0800 (一, 16  7月 2007) | 2 lines

Building from CVS copy requires a call to ./autogen.sh.

------------------------------------------------------------------------
r759 | evilynux | 2007-07-16 05:52:18 +0800 (一, 16  7月 2007) | 2 lines

Ignore temporary files.

------------------------------------------------------------------------
r758 | evilynux | 2007-07-16 05:50:31 +0800 (一, 16  7月 2007) | 3 lines

Full localization support for the gtk-glade UI (using gettext).
Note to builders: build with autotools will fail if gettext isn't available.

------------------------------------------------------------------------
r757 | evilynux | 2007-07-16 05:46:22 +0800 (一, 16  7月 2007) | 2 lines

Added call to intltoolize for localization (creates intl scripts so intltoolize isn't required at build time).

------------------------------------------------------------------------
r756 | evilynux | 2007-07-16 05:26:58 +0800 (一, 16  7月 2007) | 2 lines

Fixed typo: Keyboad -> Keyboard.

------------------------------------------------------------------------
r755 | thoduv | 2007-07-09 23:44:49 +0800 (一, 09  7月 2007) | 2 lines

I think this fixes the "odd offset problem" for 16 colors text bg (see sgstair's tests). (I hope I didn't broke something...)

------------------------------------------------------------------------
r753 | cyberwarriorx | 2007-07-09 07:46:40 +0800 (一, 09  7月 2007) | 2 lines

-Fixed a typo

------------------------------------------------------------------------
r752 | evilynux | 2007-07-08 15:40:48 +0800 (日, 08  7月 2007) | 2 lines

Added change: proper detection of pkg-config macros.

------------------------------------------------------------------------
r751 | cyberwarriorx | 2007-07-08 08:21:46 +0800 (日, 08  7月 2007) | 3 lines

-Updating the version for the next release
-Updated changelog to some degree. Everyone needs to be updating their stuff.

------------------------------------------------------------------------
r750 | cyberwarriorx | 2007-07-08 08:06:12 +0800 (日, 08  7月 2007) | 2 lines

-Updating the version for the next release

------------------------------------------------------------------------
r749 | evilynux | 2007-07-06 14:19:29 +0800 (五, 06  7月 2007) | 2 lines

Target test before gtk/glade/gtkglext check no longer required as availability of pkg-config macros is now properly done.

------------------------------------------------------------------------
r748 | evilynux | 2007-07-04 08:38:38 +0800 (三, 04  7月 2007) | 4 lines

gtk are gtk-glade UIs are reported to work on MacOSX (darwin)�.
I'm therefore enabling it.
� See http://forums.desmume.org/viewtopic.php?pid=1443#p1443 .

------------------------------------------------------------------------
r747 | evilynux | 2007-07-03 20:09:26 +0800 (二, 03  7月 2007) | 2 lines

Required for some...

------------------------------------------------------------------------
r746 | evilynux | 2007-07-02 04:07:35 +0800 (一, 02  7月 2007) | 2 lines

AFAIK, bsd target is same as linux.

------------------------------------------------------------------------
r745 | evilynux | 2007-07-02 03:26:24 +0800 (一, 02  7月 2007) | 5 lines

This should fix compilation on MacOSX.
- OpenGL flags moved to configure.ac as this is target specific.
- Removed -lglut as it's not used, we're using glu but not glut.
- Using "-framework OpenGL" for target darwin.

------------------------------------------------------------------------
r744 | evilynux | 2007-06-29 17:18:52 +0800 (五, 29  6月 2007) | 2 lines

There's no reason we shouldn't use autoreconf which has been available for some time now. Thanks Thomas Moulard for the reminder.

------------------------------------------------------------------------
r743 | evilynux | 2007-06-29 17:01:46 +0800 (五, 29  6月 2007) | 5 lines

Applied patch from Thomas Moulard:
- Now possible to build in a separated directory;
- Fixes some autotools warnings (AM_PROG_CC_C_O used to be required for some versions of automake);
- desmume-cli now builds without having the gtkglext librairy installed (-lGL and -lglut were missing).

------------------------------------------------------------------------
r742 | evilynux | 2007-06-29 16:51:17 +0800 (五, 29  6月 2007) | 5 lines

DeSmuME should now build on all target platforms.
- Moved AM_INIT_AUTOMAKE below AC_CANONICAL_TARGET fixing warnings when autoconf is called.
- Fixed mecanism to detect pkg-config macros using m4_ifdef().
- Added a warning when pkg-config is not available.

------------------------------------------------------------------------
r741 | evilynux | 2007-06-29 14:29:16 +0800 (五, 29  6月 2007) | 2 lines

Updated to the latest version from the FSF.

------------------------------------------------------------------------
r740 | masscat | 2007-06-28 00:05:18 +0800 (四, 28  6月 2007) | 2 lines

Added --version option.

------------------------------------------------------------------------
r739 | masscat | 2007-06-27 22:48:07 +0800 (三, 27  6月 2007) | 2 lines

Use stencil buffer for determining 3D generated pixels, corrected clear depth, use GL_NEAREST for texture mapping as better match to DS behaviour.

------------------------------------------------------------------------
r738 | masscat | 2007-06-27 22:44:40 +0800 (三, 27  6月 2007) | 2 lines

Added stencil buffer

------------------------------------------------------------------------
r737 | evilynux | 2007-06-26 11:56:04 +0800 (二, 26  6月 2007) | 2 lines

It's a bad idea to use autotools for debian files as they don't belong in the release tarball.

------------------------------------------------------------------------
r736 | cyberwarriorx | 2007-06-25 11:17:09 +0800 (一, 25  6月 2007) | 2 lines

-Can now configure and build code in msys again

------------------------------------------------------------------------
r735 | masscat | 2007-06-21 06:57:36 +0800 (四, 21  6月 2007) | 2 lines

Firmware language value setting.

------------------------------------------------------------------------
r734 | masscat | 2007-06-20 22:29:11 +0800 (三, 20  6月 2007) | 2 lines

Allow setting of firmware language value.

------------------------------------------------------------------------
r733 | cyberwarriorx | 2007-06-19 06:34:42 +0800 (二, 19  6月 2007) | 2 lines

-Should now work on big endian

------------------------------------------------------------------------
r732 | cyberwarriorx | 2007-06-17 12:40:03 +0800 (日, 17  6月 2007) | 2 lines

-Big Endian fixes. Graphics are now visible on big endian machines.

------------------------------------------------------------------------
r731 | masscat | 2007-06-13 19:30:16 +0800 (三, 13  6月 2007) | 2 lines

Fixed XY key setting on ARM7 (bug 1734669)

------------------------------------------------------------------------
r729 | cyberwarriorx | 2007-06-08 01:31:04 +0800 (五, 08  6月 2007) | 2 lines

-Changed version to 0.7.1

------------------------------------------------------------------------
r728 | cyberwarriorx | 2007-06-08 01:26:29 +0800 (五, 08  6月 2007) | 2 lines

-Added copyright notices to files that didn't have them

------------------------------------------------------------------------
r727 | cyberwarriorx | 2007-06-08 01:00:50 +0800 (五, 08  6月 2007) | 3 lines

-Changed a few lines in changelog so it says who was responsible for the listed change
-Added a few changes I did for this release

------------------------------------------------------------------------
r726 | masscat | 2007-06-07 22:33:09 +0800 (四, 07  6月 2007) | 2 lines

Added the GDB stub code to the build.

------------------------------------------------------------------------
r725 | masscat | 2007-06-07 20:37:43 +0800 (四, 07  6月 2007) | 2 lines

Added GDB stub and GBAMP emulation comments.

------------------------------------------------------------------------
r724 | masscat | 2007-06-07 18:50:37 +0800 (四, 07  6月 2007) | 2 lines

Corrected my cvs merge mistake.

------------------------------------------------------------------------
r723 | masscat | 2007-06-07 18:00:52 +0800 (四, 07  6月 2007) | 2 lines

Added GDB debugger stub.

------------------------------------------------------------------------
r722 | masscat | 2007-06-07 17:56:12 +0800 (四, 07  6月 2007) | 2 lines

Added ARM CPU to memory system interface.

------------------------------------------------------------------------
r721 | masscat | 2007-06-07 17:47:34 +0800 (四, 07  6月 2007) | 2 lines

Added FAT image reader/writer.

------------------------------------------------------------------------
r720 | masscat | 2007-06-07 17:43:25 +0800 (四, 07  6月 2007) | 2 lines

Initial GDB stub code.

------------------------------------------------------------------------
r719 | shashclp | 2007-05-29 09:14:02 +0800 (二, 29  5月 2007) | 2 lines

- Added support for DMA transfer mode 7 -> "Geometry Command FIFO"

------------------------------------------------------------------------
r718 | shashclp | 2007-05-28 04:32:59 +0800 (一, 28  5月 2007) | 2 lines

- Changed it to compile on VisualC AGAIN (and I would like it to be the last time, please)

------------------------------------------------------------------------
r717 | evilynux | 2007-05-27 08:51:12 +0800 (日, 27  5月 2007) | 4 lines

Hopefully fixed error with older automake versions.
Error was:
"C source seen but 'CC' not defined in 'configure.ac'"

------------------------------------------------------------------------
r716 | masscat | 2007-05-24 22:46:50 +0800 (四, 24  5月 2007) | 2 lines

GTK-GLADE: added command line options, added frame rate limiter.

------------------------------------------------------------------------
r715 | masscat | 2007-05-24 22:43:58 +0800 (四, 24  5月 2007) | 2 lines

Added command line options. Added frame rate limiter.

------------------------------------------------------------------------
r714 | masscat | 2007-05-24 00:51:26 +0800 (四, 24  5月 2007) | 2 lines

Noted CLI port changes.

------------------------------------------------------------------------
r713 | masscat | 2007-05-24 00:38:00 +0800 (四, 24  5月 2007) | 2 lines

Add FPS limiter. Added support for OpenGL screen rendering (not 3D emulation). Added command line options.

------------------------------------------------------------------------
r712 | masscat | 2007-05-24 00:35:55 +0800 (四, 24  5月 2007) | 2 lines

Split SDL joystick events processing out into a seperate function.

------------------------------------------------------------------------
r711 | masscat | 2007-05-23 19:44:10 +0800 (三, 23  5月 2007) | 2 lines

Corrected CRC16 calculation.

------------------------------------------------------------------------
r710 | masscat | 2007-05-23 19:42:44 +0800 (三, 23  5月 2007) | 2 lines

Create valid dummy firmware data (includes touchscreen calibration values).

------------------------------------------------------------------------
r709 | masscat | 2007-05-23 19:40:40 +0800 (三, 23  5月 2007) | 2 lines

Corrected and added void to function prototypes.

------------------------------------------------------------------------
r708 | masscat | 2007-05-23 19:39:04 +0800 (三, 23  5月 2007) | 2 lines

Removed hard coded touchscreen calibration values. Only reset firmware comms if chip select not held.

------------------------------------------------------------------------
r707 | thoduv | 2007-05-21 05:00:23 +0800 (一, 21  5月 2007) | 2 lines

GPU: Added (very) basic display capture support (with a lot of TODO, FIXME,...). It doesn't work. (I don't know if the problem is capture or 3D side).

------------------------------------------------------------------------
r706 | thoduv | 2007-05-21 04:56:36 +0800 (一, 21  5月 2007) | 3 lines

- Gtk-Glade: Corrected ARM9/ARM7 swap in the IO regs view tool. Added DISPCAPCNT register in IO regs view.
- MMU: Added Write32 for DISPCAPCNT register

------------------------------------------------------------------------
r705 | evilynux | 2007-05-20 23:57:52 +0800 (日, 20  5月 2007) | 2 lines

Makefile.in files should also be ignored.

------------------------------------------------------------------------
r704 | evilynux | 2007-05-20 23:55:09 +0800 (日, 20  5月 2007) | 2 lines

More files to be CVS-ignored.

------------------------------------------------------------------------
r703 | evilynux | 2007-05-20 23:53:35 +0800 (日, 20  5月 2007) | 2 lines

Clarified compiling instructions for a CVS copy of the source.

------------------------------------------------------------------------
r702 | evilynux | 2007-05-20 23:43:38 +0800 (日, 20  5月 2007) | 2 lines

Ignore now-generated-files.

------------------------------------------------------------------------
r701 | evilynux | 2007-05-20 23:40:58 +0800 (日, 20  5月 2007) | 2 lines

Auto-update debian/rules and debian/changelog so that version never gets out of synch.

------------------------------------------------------------------------
r700 | evilynux | 2007-05-20 23:35:29 +0800 (日, 20  5月 2007) | 2 lines

More files/dirs to be CVS ignored.

------------------------------------------------------------------------
r699 | evilynux | 2007-05-20 23:32:37 +0800 (日, 20  5月 2007) | 2 lines

Ignore some generated files and directories. (Reduce "cvs update" noise).

------------------------------------------------------------------------
r698 | evilynux | 2007-05-20 02:28:46 +0800 (日, 20  5月 2007) | 3 lines

Moved register_gl_fun stuff from GPU.c to gtk-glade/gdk_gl.c .
I didn't try to understand the purpose of the register_gl_fun stuff, i just fixed things up... is register_gl_fun still usefull?

------------------------------------------------------------------------
r697 | shashclp | 2007-05-19 23:48:24 +0800 (六, 19  5月 2007) | 2 lines

*** empty log message ***

------------------------------------------------------------------------
r696 | shashclp | 2007-05-19 23:45:16 +0800 (六, 19  5月 2007) | 3 lines

- Minor cleanup and comments added
- Support for wireframe alpha mode

------------------------------------------------------------------------
r695 | cyberwarriorx | 2007-05-19 02:59:21 +0800 (六, 19  5月 2007) | 2 lines

-Oops, missed a couple of things. Now danish language should work fine.

------------------------------------------------------------------------
r694 | cyberwarriorx | 2007-05-19 02:42:19 +0800 (六, 19  5月 2007) | 2 lines

-Added Danish language support to windows port(thanks to thomas-2007)

------------------------------------------------------------------------
r693 | cyberwarriorx | 2007-05-18 10:33:51 +0800 (五, 18  5月 2007) | 2 lines

-Added proper multiple languages support. Now you can change the language via menu.

------------------------------------------------------------------------
r692 | shashclp | 2007-05-18 01:48:38 +0800 (五, 18  5月 2007) | 2 lines

- 2D render code speed up, by moving more stuff to the MMU (were it should be) and using dynamic colour blitters, so only what's needed is checked

------------------------------------------------------------------------
r691 | cyberwarriorx | 2007-05-13 10:19:31 +0800 (日, 13  5月 2007) | 2 lines

-Changed forum link so it points to the "new new" forums ;)

------------------------------------------------------------------------
r690 | cyberwarriorx | 2007-05-12 10:23:53 +0800 (六, 12  5月 2007) | 2 lines

-Added snkmad under the contributors section

------------------------------------------------------------------------
r689 | yabause | 2007-05-12 04:48:12 +0800 (六, 12  5月 2007) | 3 lines

Added some missing files to windows's port Makefile.am
(it fixes "make dist")

------------------------------------------------------------------------
r688 | evilynux | 2007-05-11 13:30:14 +0800 (五, 11  5月 2007) | 3 lines

- Changed shortcut description, differentiate Gtk and Gtk-Glade UIs.
- Fixed Gtk-Glade shortcut, it was executing the wrong binary.

------------------------------------------------------------------------
r687 | evilynux | 2007-05-11 13:28:19 +0800 (五, 11  5月 2007) | 2 lines

Ignore generated files.

------------------------------------------------------------------------
r685 | cyberwarriorx | 2007-05-11 10:17:28 +0800 (五, 11  5月 2007) | 2 lines

-Doh, nobody updated the windows readme

------------------------------------------------------------------------
r684 | cyberwarriorx | 2007-05-11 06:58:33 +0800 (五, 11  5月 2007) | 2 lines

-All references to version have been changed to 0.7.0

------------------------------------------------------------------------
r683 | masscat | 2007-05-08 06:58:12 +0800 (二, 08  5月 2007) | 2 lines

Added glEnd for any primitive not ended at the completion of a scene.

------------------------------------------------------------------------
r682 | masscat | 2007-05-08 05:25:32 +0800 (二, 08  5月 2007) | 2 lines

Handle implicit end of a primitive. Avoid doing things that cannot be done inside a glBegin glEnd pair. Pop and push seperate Model and Direction matrix but using same stack pointers.

------------------------------------------------------------------------
r681 | shashclp | 2007-05-07 03:16:17 +0800 (一, 07  5月 2007) | 2 lines

- Fixed the master brightness, as the old structure isn't used anymore.

------------------------------------------------------------------------
r680 | masscat | 2007-05-07 02:18:26 +0800 (一, 07  5月 2007) | 2 lines

Made the light vector a 4 element array as it should be.

------------------------------------------------------------------------
r679 | shashclp | 2007-05-03 08:03:00 +0800 (四, 03  5月 2007) | 2 lines

- Fixed master brightness

------------------------------------------------------------------------
r678 | masscat | 2007-05-01 21:54:20 +0800 (二, 01  5月 2007) | 2 lines

Added Enhanced DSP Extension STRD and LDRD instructions.

------------------------------------------------------------------------
r677 | masscat | 2007-05-01 21:53:07 +0800 (二, 01  5月 2007) | 2 lines

Added Enhanced DSP Extension STRD and LRDD instructions.

------------------------------------------------------------------------
r676 | masscat | 2007-05-01 21:52:33 +0800 (二, 01  5月 2007) | 2 lines

Added Enhanced DSP Extension STRD and LRDD instructions. Corrected R15 setting mask.

------------------------------------------------------------------------
r675 | masscat | 2007-04-26 00:52:40 +0800 (四, 26  4月 2007) | 2 lines

Added command line arguments information for GTK port.

------------------------------------------------------------------------
r674 | masscat | 2007-04-26 00:51:58 +0800 (四, 26  4月 2007) | 2 lines

Added GTK and GTK-Glade port changes.

------------------------------------------------------------------------
r673 | masscat | 2007-04-26 00:38:48 +0800 (四, 26  4月 2007) | 2 lines

Added Texture Slot handling. Improved compressed texture decode.

------------------------------------------------------------------------
r672 | masscat | 2007-04-26 00:32:32 +0800 (四, 26  4月 2007) | 2 lines

Added basic texture slot handling.

------------------------------------------------------------------------
r671 | masscat | 2007-04-26 00:30:40 +0800 (四, 26  4月 2007) | 2 lines

Added pointer for the texture slots.

------------------------------------------------------------------------
r670 | shashclp | 2007-04-25 05:07:10 +0800 (三, 25  4月 2007) | 3 lines

- Fixed normal transformation, as, obviously, normals MUST NOT be transformed by a 4x4 matrix: translation is meaningless on normals :P
- Added matrix.h to the .vcproj

------------------------------------------------------------------------
r669 | shashclp | 2007-04-25 04:16:05 +0800 (三, 25  4月 2007) | 4 lines

- Moved vertex and normal transformation to software
- Applied masscat's fix to compressed textures code
- Enabled the mirrored textures code

------------------------------------------------------------------------
r668 | masscat | 2007-04-25 00:22:57 +0800 (三, 25  4月 2007) | 2 lines

Removed GDK_GL_MODE_ALPHA flag which is unnecessary and causes problems on non-linux platforms.

------------------------------------------------------------------------
r667 | masscat | 2007-04-25 00:20:28 +0800 (三, 25  4月 2007) | 2 lines

Corrected mtx_mult_4x4 function (forgot fix2float). Corrected compressed textures generation.

------------------------------------------------------------------------
r666 | cyberwarriorx | 2007-04-24 00:56:46 +0800 (二, 24  4月 2007) | 2 lines

-Added my changes

------------------------------------------------------------------------
r665 | evilynux | 2007-04-22 03:45:08 +0800 (日, 22  4月 2007) | 3 lines

Added OpenGL 3D code to gtk-glade UI (adapted from gtk code by Masscat).
Warning: on my nvidia, execution is faster with "--gdk-gl-force-indirect".

------------------------------------------------------------------------
r664 | evilynux | 2007-04-22 01:34:03 +0800 (日, 22  4月 2007) | 2 lines

Cleanly closing opened joysticks.

------------------------------------------------------------------------
r663 | masscat | 2007-04-22 00:47:53 +0800 (日, 22  4月 2007) | 2 lines

Change to software vertex transformation as NDS can change the ModelView matrix during primitives. Move the polygon attribute handling to the begin handler.

------------------------------------------------------------------------
r662 | evilynux | 2007-04-21 22:27:07 +0800 (六, 21  4月 2007) | 2 lines

Fixed joystick support. Video is required for joystick events to work!!

------------------------------------------------------------------------
r661 | masscat | 2007-04-21 00:44:38 +0800 (六, 21  4月 2007) | 2 lines

Fixed number of stored parameters in call list handler. Added the forgot mult 4x4 and 4x3 processing functions.

------------------------------------------------------------------------
r660 | masscat | 2007-04-20 20:42:58 +0800 (五, 20  4月 2007) | 2 lines

Added platform function for gl flushing/buffer switching to allow double buffering or similar.

------------------------------------------------------------------------
r659 | masscat | 2007-04-20 20:41:13 +0800 (五, 20  4月 2007) | 2 lines

Added support for XY,XZ,YZ vertex commands. Brought supported feature up to (or close) to that of the Windows 3D emulation.

------------------------------------------------------------------------
r658 | masscat | 2007-04-20 03:41:10 +0800 (五, 20  4月 2007) | 2 lines

x for z typo again in process_vtx_10.

------------------------------------------------------------------------
r657 | masscat | 2007-04-20 02:21:07 +0800 (五, 20  4月 2007) | 2 lines

Fixed x for z typo in process_vtx_16.

------------------------------------------------------------------------
r656 | masscat | 2007-04-18 21:37:33 +0800 (三, 18  4月 2007) | 2 lines

Fixed handling call list commands with zero parameters.

------------------------------------------------------------------------
r655 | masscat | 2007-04-18 19:02:12 +0800 (三, 18  4月 2007) | 2 lines

Change of internal function names as they are not reliant on GTK.

------------------------------------------------------------------------
r654 | evilynux | 2007-04-18 11:41:42 +0800 (三, 18  4月 2007) | 2 lines

Fixed texture coordinate, thanks shash.

------------------------------------------------------------------------
r653 | masscat | 2007-04-18 00:54:06 +0800 (三, 18  4月 2007) | 2 lines

Added 3D emulation.

------------------------------------------------------------------------
r652 | masscat | 2007-04-18 00:53:38 +0800 (三, 18  4月 2007) | 2 lines

Added OpenGL 3D emulation.

------------------------------------------------------------------------
r651 | masscat | 2007-04-18 00:53:11 +0800 (三, 18  4月 2007) | 2 lines

Added OpenGL 3D emulation and matrix functions.

------------------------------------------------------------------------
r650 | masscat | 2007-04-18 00:52:20 +0800 (三, 18  4月 2007) | 2 lines

Added a check for OpenGL

------------------------------------------------------------------------
r649 | masscat | 2007-04-18 00:49:33 +0800 (三, 18  4月 2007) | 2 lines

The gtkGLext based 3D emulation.

------------------------------------------------------------------------
r648 | masscat | 2007-04-18 00:47:11 +0800 (三, 18  4月 2007) | 2 lines

Non platform specific OpenGL based 3D emulation. Collect the NDS commands and execute in a single run.

------------------------------------------------------------------------
r647 | masscat | 2007-04-17 17:31:25 +0800 (二, 17  4月 2007) | 2 lines

Added place marker for command line argument parsing on win32.

------------------------------------------------------------------------
r646 | shashclp | 2007-04-17 09:14:31 +0800 (二, 17  4月 2007) | 2 lines

- Credited my changes

------------------------------------------------------------------------
r645 | shashclp | 2007-04-17 08:27:58 +0800 (二, 17  4月 2007) | 3 lines

- Fixed opengl initialization to use double buffer (huge speed increase)
- Fixed texture coordinates

------------------------------------------------------------------------
r644 | masscat | 2007-04-17 04:02:07 +0800 (二, 17  4月 2007) | 2 lines

Changed to GTKGLEXT definitions to correctly reflect library name.

------------------------------------------------------------------------
r643 | masscat | 2007-04-17 04:00:56 +0800 (二, 17  4月 2007) | 2 lines

Added command line options and openGL screen rendering.

------------------------------------------------------------------------
r642 | masscat | 2007-04-17 04:00:14 +0800 (二, 17  4月 2007) | 2 lines

Added disable sound option.

------------------------------------------------------------------------
r641 | masscat | 2007-04-17 03:58:59 +0800 (二, 17  4月 2007) | 2 lines

Added gtkGLext c and link flags.

------------------------------------------------------------------------
r640 | masscat | 2007-04-17 03:57:59 +0800 (二, 17  4月 2007) | 2 lines

Added gtkGLext C macro instead of using X11 library test. Changed to HAVE_GTKGLEXT to correctly reflect library name.

------------------------------------------------------------------------
r639 | evilynux | 2007-04-15 23:41:22 +0800 (日, 15  4月 2007) | 2 lines

Fixed fix2float and fix10_2float macros for amd64 and emt64 CPUs.

------------------------------------------------------------------------
r638 | normmatt234 | 2007-03-27 13:00:00 +0800 (二, 27  3月 2007) | 5 lines

ConfigKeys - Added Copyright info
DeSmuME.dev - Added FirmConfig.h and FirmConfig.c
main.c - Added menu option for Firmware Settings
resources.rc - Added menu option and dialog for Firmware Settings

------------------------------------------------------------------------
r637 | normmatt234 | 2007-03-27 12:56:52 +0800 (二, 27  3月 2007) | 2 lines

Initial Commit

------------------------------------------------------------------------
r636 | shashclp | 2007-03-27 10:57:36 +0800 (二, 27  3月 2007) | 2 lines

- Changed a few functions not returning data when they should

------------------------------------------------------------------------
r635 | shashclp | 2007-03-27 10:54:13 +0800 (二, 27  3月 2007) | 3 lines

- Changed to reflect real framerate, as it was really
 off by 20-30% (on frameskip 0)

------------------------------------------------------------------------
r634 | shashclp | 2007-03-27 04:51:47 +0800 (二, 27  3月 2007) | 2 lines

- Reenabled the 3D core, that was disabled for no good reason. Please avoid doing so without commenting it on the commit message or informing other devs

------------------------------------------------------------------------
r633 | normmatt234 | 2007-03-25 12:44:02 +0800 (日, 25  3月 2007) | 3 lines

NDSSystem - Made it load the firmware settings from struct
matrix - Fixed compiler warnings

------------------------------------------------------------------------
r632 | normmatt234 | 2007-03-25 12:42:46 +0800 (日, 25  3月 2007) | 7 lines

ConfigKeys.c - Changed the upcase KEYS/KEY_ etc to Keys/Key_
DeSmuME.dev - Fixed to compile and changed version number to v0.7
OGLRender.c - Fixed compiler warnings
main.c - Added the ability to read firmware settings from the ini file .... still
 needs a nice form to edit them though
yopyop_private.h - Updated the version number to v0.7

------------------------------------------------------------------------
r631 | shashclp | 2007-03-20 20:22:41 +0800 (二, 20  3月 2007) | 2 lines

- Manually expanded a macro, so debugging and profiling is not a mess

------------------------------------------------------------------------
r630 | masscat | 2007-03-17 22:47:44 +0800 (六, 17  3月 2007) | 2 lines

Added my name

------------------------------------------------------------------------
r629 | masscat | 2007-03-17 20:39:28 +0800 (六, 17  3月 2007) | 2 lines

Added render3D.c and render3D.h to the build.

------------------------------------------------------------------------
r628 | masscat | 2007-03-17 20:38:31 +0800 (六, 17  3月 2007) | 2 lines

Added gpu3DNull to allow compile.

------------------------------------------------------------------------
r627 | masscat | 2007-03-17 20:37:59 +0800 (六, 17  3月 2007) | 2 lines

Added render3D.h to allow compile.

------------------------------------------------------------------------
r626 | masscat | 2007-03-17 20:35:13 +0800 (六, 17  3月 2007) | 2 lines

Fix for GNU C compiles.

------------------------------------------------------------------------
r625 | shashclp | 2007-03-17 12:21:57 +0800 (六, 17  3月 2007) | 2 lines

*** empty log message ***

------------------------------------------------------------------------
r624 | shashclp | 2007-03-17 12:07:34 +0800 (六, 17  3月 2007) | 2 lines

- Initial commit of the openGL plugin for the 3D core

------------------------------------------------------------------------
r623 | shashclp | 2007-03-17 12:06:25 +0800 (六, 17  3月 2007) | 2 lines

- Added support for the 3D plug-in system, with a Null driver and an openGL one

------------------------------------------------------------------------
r622 | shashclp | 2007-03-17 12:01:24 +0800 (六, 17  3月 2007) | 2 lines

- Added support for the 3D core plug-in system

------------------------------------------------------------------------
r621 | shashclp | 2007-03-17 11:50:16 +0800 (六, 17  3月 2007) | 3 lines

- First version of the matrix handling
- First version of the 3D core plug-in system

------------------------------------------------------------------------
r620 | masscat | 2007-03-16 22:42:19 +0800 (五, 16  3月 2007) | 2 lines

Bug 1681415 fix: raise flagged interrupts when IME or IE are changed.

------------------------------------------------------------------------
r619 | masscat | 2007-03-16 22:41:02 +0800 (五, 16  3月 2007) | 2 lines

Bug 1681415 fix: flag interrupt sources correctly.

------------------------------------------------------------------------
r618 | cyberwarriorx | 2007-03-07 04:35:06 +0800 (三, 07  3月 2007) | 3 lines

-Another patch from Dmitry Krutskih
-Fixed a few warnings and removed some old code

------------------------------------------------------------------------
r617 | shashclp | 2007-03-05 02:05:15 +0800 (一, 05  3月 2007) | 2 lines

- Fixed a memory corruption when double sized sprites were used at screen borders

------------------------------------------------------------------------
r616 | shashclp | 2007-03-02 14:55:46 +0800 (五, 02  3月 2007) | 2 lines

- Started changes after 0.6.0, without number, as it hasn't been decided

------------------------------------------------------------------------
r615 | shashclp | 2007-03-02 14:15:32 +0800 (五, 02  3月 2007) | 3 lines

- Added sprite rotation/scale support
(sorry about big commit, but I idented some stuff to be readable)

------------------------------------------------------------------------
r614 | cyberwarriorx | 2007-03-02 11:05:45 +0800 (五, 02  3月 2007) | 5 lines

-Fixed next line calculation in bitmap in map viewer
-Bitmap is cleared when another map is selected
-Added support for rotation and extended maps in map viewer
-Thanks for Dmitry Krutskih for all these patches

------------------------------------------------------------------------
r613 | cyberwarriorx | 2007-03-02 11:02:53 +0800 (五, 02  3月 2007) | 2 lines

-Changed a few functions' arguments to const since they don't get modified(Thanks for Dmitry Krutskih for the patches)

------------------------------------------------------------------------
r612 | damdoum | 2007-02-28 11:02:26 +0800 (三, 28  2月 2007) | 3 lines

less checks for 3D operations (when the function is to be called N
times at least, N-1 checks unneeded)

------------------------------------------------------------------------
r611 | damdoum | 2007-02-28 01:53:03 +0800 (三, 28  2月 2007) | 2 lines

disabled printing as it useful only for developers

------------------------------------------------------------------------
r610 | damdoum | 2007-02-28 01:47:51 +0800 (三, 28  2月 2007) | 2 lines

debug code added (it seems there is a problem with opengl states)

------------------------------------------------------------------------
r609 | damdoum | 2007-02-24 16:49:23 +0800 (六, 24  2月 2007) | 2 lines

msgbox now warns if 3D is used (one time per game / reset)

------------------------------------------------------------------------
r608 | damdoum | 2007-02-24 16:24:58 +0800 (六, 24  2月 2007) | 2 lines

uses now REG_DISPx struct

------------------------------------------------------------------------
r607 | damdoum | 2007-02-24 04:22:35 +0800 (六, 24  2月 2007) | 2 lines

popup when 3D is used (fixme : do it for all games)

------------------------------------------------------------------------
r606 | damdoum | 2007-02-24 03:34:08 +0800 (六, 24  2月 2007) | 3 lines

several warnings less
deleted redundant code --> some more FPS

------------------------------------------------------------------------
r605 | damdoum | 2007-02-23 22:23:02 +0800 (五, 23  2月 2007) | 3 lines

explicit conversions to get rid of some warnings
fixed some issues with structures (types' size)

------------------------------------------------------------------------
r604 | damdoum | 2007-02-23 21:25:30 +0800 (五, 23  2月 2007) | 2 lines

(removed test for alignment / packing)

------------------------------------------------------------------------
r603 | damdoum | 2007-02-23 21:24:06 +0800 (五, 23  2月 2007) | 2 lines

tried to correct structures packing (so that they take desired size)

------------------------------------------------------------------------
r602 | shashclp | 2007-02-23 10:27:04 +0800 (五, 23  2月 2007) | 2 lines

- Fixed code to compile: it's the last time I fix, at least check the changes to MAKE SURE THEY WORK AND COMPILE. Next time I'll just revert it.

------------------------------------------------------------------------
r601 | damdoum | 2007-02-23 02:41:29 +0800 (五, 23  2月 2007) | 2 lines

some more addresses added (about 3D engine)

------------------------------------------------------------------------
r600 | damdoum | 2007-02-23 01:27:40 +0800 (五, 23  2月 2007) | 6 lines

using new struct definition, which integrates better with MMU
(e.g. why doing a copy of rotoscale params when MMU writes them in ARM9REG ?)

NOTE : some fields became redundant in struct _GPU
some functions too.

------------------------------------------------------------------------
r599 | damdoum | 2007-02-22 23:04:11 +0800 (四, 22  2月 2007) | 3 lines

some explicit conversions (less warnings)
better structure documentation

------------------------------------------------------------------------
r598 | cyberwarriorx | 2007-02-19 04:01:10 +0800 (一, 19  2月 2007) | 3 lines

-Tile and Palette view dialogs now update when the palette and memory area is changed
-Special thanks to Dmitry Krutskih for these patches

------------------------------------------------------------------------
r597 | damdoum | 2007-02-18 15:16:17 +0800 (日, 18  2月 2007) | 2 lines

explicit conversion to disable some warnings

------------------------------------------------------------------------
r596 | evilynux | 2007-02-18 15:05:44 +0800 (日, 18  2月 2007) | 2 lines

Added FPS limiter. Only for the gtk ui at the moment.

------------------------------------------------------------------------
r595 | shashclp | 2007-02-18 08:14:53 +0800 (日, 18  2月 2007) | 6 lines

- Fixed bugs reported by masscat here:
http://sourceforge.net/tracker/index.php?func=detail&aid=1661684&group_id=164579&atid=832291
and here:
http://sourceforge.net/tracker/index.php?func=detail&aid=1661661&group_id=164579&atid=832291
It fixes homebrew Tetris and probably a lot of others

------------------------------------------------------------------------
r594 | cyberwarriorx | 2007-02-18 02:46:28 +0800 (日, 18  2月 2007) | 2 lines

-Code reverted again. Unified read/writes are -not- what we're doing. In fact, shash already told you not to do it, and yet you did it anyways.

------------------------------------------------------------------------
r593 | damdoum | 2007-02-18 02:43:24 +0800 (日, 18  2月 2007) | 3 lines

-DVERSION erased for project options (was used for about dialog)
information for the about dialog moved to the glade file

------------------------------------------------------------------------
r592 | damdoum | 2007-02-18 02:42:10 +0800 (日, 18  2月 2007) | 5 lines

about dialog :
now closing properly
version included
authors included

------------------------------------------------------------------------
r591 | damdoum | 2007-02-17 16:52:01 +0800 (六, 17  2月 2007) | 30 lines

some more functions about 3D

====

yabause : please don't revert with no reason

there was this part to use the old functions !!!
#define USE_OLD 1
#if USE_OLD
void FASTCALL MMU_write8(u32 proc, u32 adr, u8 val) {
	MMU_write8_old(proc, adr, val);
}
void FASTCALL MMU_write16(u32 proc, u32 adr, u16 val) {
	MMU_write16_old(proc, adr, val);
}
void FASTCALL MMU_write32(u32 proc, u32 adr, u32 val) {
	MMU_write32_old(proc, adr, val);
}
#else
void FASTCALL MMU_write8(u32 proc, u32 adr, u8 val) {
	MMU_writeXX(proc, adr, val,1);
}
void FASTCALL MMU_write16(u32 proc, u32 adr, u16 val) {
	MMU_writeXX(proc, adr, val, 2);
}
void FASTCALL MMU_write32(u32 proc, u32 adr, u32 val) {
	MMU_writeXX(proc, adr, val, 4);
}
#endif

------------------------------------------------------------------------
r590 | damdoum | 2007-02-17 13:42:35 +0800 (六, 17  2月 2007) | 2 lines

added c file for tile viewer

------------------------------------------------------------------------
r589 | damdoum | 2007-02-17 13:40:20 +0800 (六, 17  2月 2007) | 2 lines

.dev > unit count modified to compile with all files

------------------------------------------------------------------------
r588 | damdoum | 2007-02-17 13:39:07 +0800 (六, 17  2月 2007) | 2 lines

added file to proj > modified unit count

------------------------------------------------------------------------
r587 | yabause | 2007-02-17 06:47:17 +0800 (六, 17  2月 2007) | 2 lines

Reverting to the last version before the unified memory access function

------------------------------------------------------------------------
r586 | damdoum | 2007-02-17 01:08:15 +0800 (六, 17  2月 2007) | 2 lines

defines of 3D commands

------------------------------------------------------------------------
r585 | damdoum | 2007-02-17 00:22:02 +0800 (六, 17  2月 2007) | 5 lines

MMU_writeXX : solved some issue because of address alignment
              sound working now
to use the previous MMU_write functions set  #define USE_OLD to 1
(it is enabled now)

------------------------------------------------------------------------
r584 | damdoum | 2007-02-16 23:45:40 +0800 (五, 16  2月 2007) | 2 lines

#endif was not at the right line (causing unreferenced symbols)

------------------------------------------------------------------------
r583 | damdoum | 2007-02-16 23:25:31 +0800 (五, 16  2月 2007) | 2 lines

MMU : had been broken because of changes in former functions

------------------------------------------------------------------------
r582 | damdoum | 2007-02-16 22:20:13 +0800 (五, 16  2月 2007) | 2 lines

adding gl_vertex.* to devcpp project files

------------------------------------------------------------------------
r581 | damdoum | 2007-02-16 21:46:34 +0800 (五, 16  2月 2007) | 2 lines

MMU : preparing big cleanup (use #define USE_OLD 0 in MMU.c to help me with that)

------------------------------------------------------------------------
r580 | evilynux | 2007-02-16 14:16:22 +0800 (五, 16  2月 2007) | 7 lines

- Fixed file reading resume, thanks to elhobbs.
- Fixed relative path file open for anything else than MS Windows (DIR_SEP).
- Using constants for filename size and filename extension size.
Files that are not 8+3 are still broken.
Even if you rename TowerDefense maps to 8+3, it crashes, to be debugged.
I'm commiting anyway as my tests show that it doesn't worsen current state. Please reverse if otherwise.

------------------------------------------------------------------------
r579 | damdoum | 2007-02-16 00:01:17 +0800 (五, 16  2月 2007) | 2 lines

MMU : forgot mask while factoring

------------------------------------------------------------------------
r578 | damdoum | 2007-02-15 23:49:51 +0800 (四, 15  2月 2007) | 4 lines

* cleaning do_DMA
* factored some code in read/write_acl
* skeleton for 3D vertices

------------------------------------------------------------------------
r577 | damdoum | 2007-02-15 19:17:33 +0800 (四, 15  2月 2007) | 3 lines

tileviewer : still not functionnal
"master brightness" done by hardware

------------------------------------------------------------------------
r576 | evilynux | 2007-02-14 13:05:13 +0800 (三, 14  2月 2007) | 2 lines

g_thread_init(NULL) was breaking compilation, commented out for the moment.

------------------------------------------------------------------------
r575 | evilynux | 2007-02-14 12:47:16 +0800 (三, 14  2月 2007) | 2 lines

All reads are binary in libfat, doing the same here.

------------------------------------------------------------------------
r574 | damdoum | 2007-02-14 08:41:53 +0800 (三, 14  2月 2007) | 4 lines

gthread added for gtk-glade (may be used in near future)
gtk-glade : fixed bug where Quad was drawn to context 0 (no guard
condition)

------------------------------------------------------------------------
r573 | shashclp | 2007-02-14 08:20:12 +0800 (三, 14  2月 2007) | 2 lines

- Fix reported by masscat here: http://sourceforge.net/tracker/index.php?func=detail&aid=1659060&group_id=164579&atid=832291

------------------------------------------------------------------------
r572 | damdoum | 2007-02-14 01:50:15 +0800 (三, 14  2月 2007) | 2 lines

blending effect for pause

------------------------------------------------------------------------
r571 | evilynux | 2007-02-14 01:10:51 +0800 (三, 14  2月 2007) | 2 lines

Added credits to about dialog.

------------------------------------------------------------------------
r570 | evilynux | 2007-02-14 00:49:49 +0800 (三, 14  2月 2007) | 2 lines

This should fix the about dialog not closing on MS Windows.

------------------------------------------------------------------------
r569 | evilynux | 2007-02-13 15:44:39 +0800 (二, 13  2月 2007) | 2 lines

Minor simplification, GtkButton is no longer needed for axis configuration.

------------------------------------------------------------------------
r568 | evilynux | 2007-02-13 15:43:24 +0800 (二, 13  2月 2007) | 2 lines

Fixed joystick axis configuration. I had broken it on the last modification.

------------------------------------------------------------------------
r567 | evilynux | 2007-02-13 15:27:29 +0800 (二, 13  2月 2007) | 2 lines

Reduced number of keyboard and joystick configuration callbacks from 28 to 3.

------------------------------------------------------------------------
r566 | evilynux | 2007-02-13 11:50:37 +0800 (二, 13  2月 2007) | 3 lines

This should fix FAT support for MS Windows and GNU/Linux.
Thanks to elhobbs for the clues.

------------------------------------------------------------------------
r565 | damdoum | 2007-02-13 04:12:33 +0800 (二, 13  2月 2007) | 4 lines

misc. function changes (to be a little more generic to claim a GL
context)
added tile viewer backbone

------------------------------------------------------------------------
r564 | cyberwarriorx | 2007-02-13 04:09:26 +0800 (二, 13  2月 2007) | 2 lines

-Pssst... When adding arguments to functions, don't forget to make sure all calls to the function are fixed too.

------------------------------------------------------------------------
r563 | damdoum | 2007-02-12 03:41:45 +0800 (一, 12  2月 2007) | 4 lines

fixed true gap / rightscreen to work again
(rightscreen was not working because table wasn't notified of a change)
(gap screen was not working because ScreenRotate had become a float)

------------------------------------------------------------------------
r562 | damdoum | 2007-02-12 00:26:30 +0800 (一, 12  2月 2007) | 2 lines

oops debug stuff (square in the middle) removed

------------------------------------------------------------------------
r561 | yabause | 2007-02-12 00:18:43 +0800 (一, 12  2月 2007) | 2 lines

Fixed a bug in gtk-glade Makefile.am

------------------------------------------------------------------------
r560 | damdoum | 2007-02-11 23:06:38 +0800 (日, 11  2月 2007) | 4 lines

tried to fix 64b problem with callback arguments
changed glade layout for better "rightscreen" implementation
fixed a little problem with double clicks

------------------------------------------------------------------------
r559 | yabause | 2007-02-11 21:20:11 +0800 (日, 11  2月 2007) | 5 lines

Added desmume.desktop.in for gtk port and desmume-glade.desktop.in
for glade one (http://bugs.gentoo.org/show_bug.cgi?id=163868)
Hope it's ok to use .in files instead of plain .desktop... at least
we won't have version number mismatch this way :)

------------------------------------------------------------------------
r558 | evilynux | 2007-02-11 15:37:25 +0800 (日, 11  2月 2007) | 3 lines

Fixed 64bit compatibility. There are still two areas where it needs to be fixed: screen resize via the menu and screen rotation via the menu.
Note: *((float*)&my_gpointer) doesn't work!? Is there a problem with floats in Glade?

------------------------------------------------------------------------
r557 | cyberwarriorx | 2007-02-11 02:30:13 +0800 (日, 11  2月 2007) | 3 lines

-Fixed potential memory leak(Thanks to Dmitry Krutskih!)
-Quotes are now handled correctly on the command line in the windows port(Thanks to Dmitry Krutskih!)

------------------------------------------------------------------------
r556 | damdoum | 2007-02-10 17:36:02 +0800 (六, 10  2月 2007) | 3 lines

enabling gl for windows / corrected .dev file
you need to replace paths though

------------------------------------------------------------------------
r555 | cyberwarriorx | 2007-02-10 10:13:09 +0800 (六, 10  2月 2007) | 2 lines

-Support for importing *.duc files added to windows port

------------------------------------------------------------------------
r554 | cyberwarriorx | 2007-02-10 10:10:55 +0800 (六, 10  2月 2007) | 2 lines

-Oops, forgot a file

------------------------------------------------------------------------
r553 | cyberwarriorx | 2007-02-10 10:09:48 +0800 (六, 10  2月 2007) | 3 lines

-Noticed a couple of files with missing copyrights. I hope it's correct now.
-Added support for importing *.duc files. You just have to call NDS_ImportSave with a valid filename specified and it should load any *.duc file

------------------------------------------------------------------------
r552 | damdoum | 2007-02-10 00:35:34 +0800 (六, 10  2月 2007) | 2 lines

missing file (autoconnects signal the way i wanted)

------------------------------------------------------------------------
r551 | damdoum | 2007-02-10 00:33:58 +0800 (六, 10  2月 2007) | 3 lines

hardware rendering enabled
scaling  & rotation OK

------------------------------------------------------------------------
r550 | shashclp | 2007-02-09 15:10:12 +0800 (五, 09  2月 2007) | 3 lines

- Fixed regression in graphics on "Bubble Bobble Revolution", and probably others
 using 8bit rotated tiled backgrounds.

------------------------------------------------------------------------
r549 | shashclp | 2007-02-09 13:37:12 +0800 (五, 09  2月 2007) | 2 lines

- Fixed master brightness, as it got copied from GPU.h wrong (Please don't move AND modify code across files in the same commit, so we can avoid this bugs easier)

------------------------------------------------------------------------
r548 | damdoum | 2007-02-08 03:39:55 +0800 (四, 08  2月 2007) | 2 lines

nice scaling (only for those having GTKGLEXT -- hardware accel.)

------------------------------------------------------------------------
r547 | damdoum | 2007-02-07 20:08:19 +0800 (三, 07  2月 2007) | 2 lines

preparing for gl manipulations

------------------------------------------------------------------------
r546 | damdoum | 2007-02-07 20:06:54 +0800 (三, 07  2月 2007) | 3 lines

fixes missing defines on windows with no configure
gl moved in gdk_gl.*

------------------------------------------------------------------------
r545 | yabause | 2007-02-07 15:29:22 +0800 (三, 07  2月 2007) | 2 lines

Initialized last_cycle to 0.

------------------------------------------------------------------------
r544 | cyberwarriorx | 2007-02-07 02:12:54 +0800 (三, 07  2月 2007) | 2 lines

-Yabause? Oops!

------------------------------------------------------------------------
r543 | cyberwarriorx | 2007-02-06 07:05:00 +0800 (二, 06  2月 2007) | 2 lines

-Special thanks to ImP0steR for this fix. This should help those that can't seem to use hardware buffer mixing.

------------------------------------------------------------------------
r542 | evilynux | 2007-02-05 14:44:59 +0800 (一, 05  2月 2007) | 4 lines

Fixed the value of GLADEUI_UNINSTALLED_DIR in configure.ac. It's now "`pwd`/src/gtk-glade/glade/".
This eliminates the need for previous modif to src/gtk-glade/main.c .
(Note that you need to rerun ./configure for the change to take effect.)

------------------------------------------------------------------------
r541 | damdoum | 2007-02-05 10:58:02 +0800 (一, 05  2月 2007) | 2 lines

let the dev. use the glade too  (cvs checkout for example)

------------------------------------------------------------------------
r540 | damdoum | 2007-02-05 10:29:32 +0800 (一, 05  2月 2007) | 2 lines

opengl working ( scale, rot) but disabled

------------------------------------------------------------------------
r539 | evilynux | 2007-02-05 07:45:13 +0800 (一, 05  2月 2007) | 3 lines

- Fixed installation of gtk-glade interface.
  => desmume-glade finds its glade interfaces now.

------------------------------------------------------------------------
r538 | damdoum | 2007-02-05 07:01:20 +0800 (一, 05  2月 2007) | 2 lines

added GDKGLEXT

------------------------------------------------------------------------
r537 | damdoum | 2007-02-05 06:58:50 +0800 (一, 05  2月 2007) | 2 lines

adding GDKGLEXT

------------------------------------------------------------------------
r536 | damdoum | 2007-02-05 06:46:29 +0800 (一, 05  2月 2007) | 2 lines

opengl (disabled) for hardware zoom / rot / etc...

------------------------------------------------------------------------
r534 | yabause | 2007-02-05 06:02:57 +0800 (一, 05  2月 2007) | 2 lines

Again some more fixes to "make dist", it should be ok now.

------------------------------------------------------------------------
r533 | yabause | 2007-02-05 05:49:02 +0800 (一, 05  2月 2007) | 2 lines

Some more fixes for 'make dist'

------------------------------------------------------------------------
r532 | yabause | 2007-02-05 05:35:50 +0800 (一, 05  2月 2007) | 2 lines

Some more "fixes" to "make dist"

------------------------------------------------------------------------
r531 | yabause | 2007-02-05 04:59:19 +0800 (一, 05  2月 2007) | 3 lines

Added some missing files in Makefile.am files (I'm trying to get "make dist"
working).

------------------------------------------------------------------------
r530 | cyberwarriorx | 2007-02-04 09:07:20 +0800 (日, 04  2月 2007) | 2 lines

-Added a description for the View menu item.

------------------------------------------------------------------------
r529 | cyberwarriorx | 2007-02-04 07:30:14 +0800 (日, 04  2月 2007) | 2 lines

-Updated the copyright

------------------------------------------------------------------------
r528 | yabause | 2007-02-04 07:27:48 +0800 (日, 04  2月 2007) | 3 lines

Added some instructions about glade in README.LIN and some work I've
done in ChangeLog

------------------------------------------------------------------------
r527 | cyberwarriorx | 2007-02-04 07:25:26 +0800 (日, 04  2月 2007) | 2 lines

-Updated version

------------------------------------------------------------------------
r526 | yabause | 2007-02-04 06:50:18 +0800 (日, 04  2月 2007) | 3 lines

Changed version number and updated autopackage to include gtk-glade
binary.

------------------------------------------------------------------------
r525 | amponzi | 2007-02-03 08:25:58 +0800 (六, 03  2月 2007) | 3 lines

- Fixed Window Size formula based on factoring value
- Fixed Aspect Ratio Maintaining to be consistent with Window Size behavior changes

------------------------------------------------------------------------
r524 | shashclp | 2007-02-03 05:35:44 +0800 (六, 03  2月 2007) | 3 lines

- Fixed the bug reported by masscat in here:
  http://sourceforge.net/tracker/index.php?func=detail&aid=1650937&group_id=164579&atid=832291

------------------------------------------------------------------------
r523 | evilynux | 2007-02-02 14:35:30 +0800 (五, 02  2月 2007) | 2 lines

Using <SDL.h> everywhere.

------------------------------------------------------------------------
r522 | evilynux | 2007-02-02 14:23:31 +0800 (五, 02  2月 2007) | 2 lines

This should fix joystick support for MS Windows.

------------------------------------------------------------------------
r521 | damdoum | 2007-02-01 20:43:02 +0800 (四, 01  2月 2007) | 3 lines

save type select for gtk-glade
boost key working

------------------------------------------------------------------------
r520 | mightymax | 2007-02-01 07:25:26 +0800 (四, 01  2月 2007) | 2 lines

fixed possible buffer overflows in string handling

------------------------------------------------------------------------
r519 | mightymax | 2007-02-01 07:22:17 +0800 (四, 01  2月 2007) | 2 lines

replaced constants with the correct define (MAX_PATH)

------------------------------------------------------------------------
r518 | mightymax | 2007-02-01 06:52:57 +0800 (四, 01  2月 2007) | 2 lines

fixed possible buffer overflows in string handling

------------------------------------------------------------------------
r517 | mightymax | 2007-02-01 06:23:53 +0800 (四, 01  2月 2007) | 2 lines

fixed possible buffer overflows in string handling, fixed glitch (missing horizontal lines) on 1x View on systems with larger window borders (i.e.Vista)

------------------------------------------------------------------------
r516 | mightymax | 2007-02-01 06:08:30 +0800 (四, 01  2月 2007) | 2 lines

fixed possible buffer overflows in string handling, fixed some trivial warnings

------------------------------------------------------------------------
r515 | mightymax | 2007-02-01 05:54:55 +0800 (四, 01  2月 2007) | 2 lines

fixed possible buffer overflows in string handling

------------------------------------------------------------------------
r514 | damdoum | 2007-01-30 20:40:32 +0800 (二, 30  1月 2007) | 3 lines

made Dev-cpp project for win32 users with gtk/glade
fixed symbols for exports (glade ui signals)

------------------------------------------------------------------------
r513 | mightymax | 2007-01-29 04:02:01 +0800 (一, 29  1月 2007) | 2 lines

disabled LuT creation when not using LuT (i commited too much previous)

------------------------------------------------------------------------
r512 | mightymax | 2007-01-29 03:59:59 +0800 (一, 29  1月 2007) | 2 lines

disabled LuT creation when not using LuT

------------------------------------------------------------------------
r511 | mightymax | 2007-01-29 03:33:03 +0800 (一, 29  1月 2007) | 2 lines

changed default to not use the LuT. Lookup tables instead of a few integer operations will nearly allways _reduce_ performance massively on x86 systems. This is because the it can simply do several (and partitial simultaneous) integer operations on registers in the time it accesses one memory cell outside the cache

------------------------------------------------------------------------
r510 | damdoum | 2007-01-28 19:02:13 +0800 (日, 28  1月 2007) | 3 lines

moved GPU_ligne from header to source
added tabular functions for master brightness

------------------------------------------------------------------------
r509 | mightymax | 2007-01-28 08:11:04 +0800 (日, 28  1月 2007) | 2 lines

remote ipc fifo not empty works again

------------------------------------------------------------------------
r508 | mightymax | 2007-01-28 07:09:18 +0800 (日, 28  1月 2007) | 2 lines

fixed invalid hw register overwriting (would i.e. deadlock some homebrew), fixed first ipcfifo init now not setting recv clear when the other side was not initiated

------------------------------------------------------------------------
r507 | ex-cyber | 2007-01-28 04:04:05 +0800 (日, 28  1月 2007) | 2 lines

add newline at end of file

------------------------------------------------------------------------
r506 | amponzi | 2007-01-28 03:38:04 +0800 (日, 28  1月 2007) | 2 lines

- Win32 always has to be special, works on Linux again

------------------------------------------------------------------------
r505 | amponzi | 2007-01-28 03:03:16 +0800 (日, 28  1月 2007) | 4 lines

- Reverted back to using strcasecmp
- Defined strcasecmp for Win32 systems to be stricmp
- This fixes issues in all OSes

------------------------------------------------------------------------
r504 | ex-cyber | 2007-01-28 02:09:04 +0800 (日, 28  1月 2007) | 2 lines

follow sdl-config #include convention

------------------------------------------------------------------------
r503 | amponzi | 2007-01-28 01:28:37 +0800 (日, 28  1月 2007) | 2 lines

- strcasecmp is a deprecated command, used one that allows compiling when #HAVE_LIBZ is defined in VC++

------------------------------------------------------------------------
r502 | damdoum | 2007-01-27 20:15:42 +0800 (六, 27  1月 2007) | 2 lines

text replacement (more clear this way)

------------------------------------------------------------------------
r501 | mightymax | 2007-01-27 19:03:46 +0800 (六, 27  1月 2007) | 2 lines

added name to my nick

------------------------------------------------------------------------
r500 | mightymax | 2007-01-27 18:32:37 +0800 (六, 27  1月 2007) | 2 lines

fixed IRQ throwing of IPC-FIFO

------------------------------------------------------------------------
r499 | ex-cyber | 2007-01-27 15:26:22 +0800 (六, 27  1月 2007) | 2 lines

follow sdl-config #include convention

------------------------------------------------------------------------
r498 | damdoum | 2007-01-27 00:26:43 +0800 (六, 27  1月 2007) | 3 lines

trying to fix "hollow" sprite
(displayed because priority is set, but bckgnd color)

------------------------------------------------------------------------
r497 | damdoum | 2007-01-26 21:19:38 +0800 (五, 26  1月 2007) | 2 lines

windows were not properly handled

------------------------------------------------------------------------
r496 | damdoum | 2007-01-26 18:01:17 +0800 (五, 26  1月 2007) | 3 lines

made saves restore gpu state in a better way
(backward compatible with save version 010)

------------------------------------------------------------------------
r495 | damdoum | 2007-01-26 17:33:42 +0800 (五, 26  1月 2007) | 2 lines

saves / restores GPU (less glitches when using savestates)

------------------------------------------------------------------------
r494 | damdoum | 2007-01-26 16:50:45 +0800 (五, 26  1月 2007) | 3 lines

fixed bug where some sprites were not displayed
(because there were more than 255 pixels :/ )

------------------------------------------------------------------------
r493 | shashclp | 2007-01-26 16:35:17 +0800 (五, 26  1月 2007) | 2 lines

- Fixed a replace mistake, fixes regression on info boxes in Yoshi's Island

------------------------------------------------------------------------
r492 | amponzi | 2007-01-26 16:08:01 +0800 (五, 26  1月 2007) | 2 lines

- Instead of (De)magnify, new options for Window Sizes (1x-4x)

------------------------------------------------------------------------
r491 | evilynux | 2007-01-26 15:18:27 +0800 (五, 26  1月 2007) | 4 lines

Added copyright header.
Please add your name to the copyright notice if you've contributed to it.
I haven't taken the liberty to your names even tho some of yours appear in the CVS.

------------------------------------------------------------------------
r490 | evilynux | 2007-01-26 15:15:50 +0800 (五, 26  1月 2007) | 2 lines

Fixed project name is header.

------------------------------------------------------------------------
r489 | evilynux | 2007-01-26 15:13:57 +0800 (五, 26  1月 2007) | 2 lines

Updated copyright.

------------------------------------------------------------------------
r488 | evilynux | 2007-01-26 15:12:36 +0800 (五, 26  1月 2007) | 4 lines

Added copyright headers.
Please add your name to the copyright notice if you've contributed to it.
I haven't taken the liberty to your names even tho some of yours appear in the CVS.

------------------------------------------------------------------------
r487 | evilynux | 2007-01-26 15:08:07 +0800 (五, 26  1月 2007) | 2 lines

My bad, it was also broken in the gtk ui as the configuration dialog still had the X and Y buttons inversed.

------------------------------------------------------------------------
r486 | evilynux | 2007-01-26 15:01:30 +0800 (五, 26  1月 2007) | 2 lines

Updated copyright notices.

------------------------------------------------------------------------
r485 | evilynux | 2007-01-26 14:51:29 +0800 (五, 26  1月 2007) | 2 lines

Added the modifs i did or participated to.

------------------------------------------------------------------------
r484 | cyberwarriorx | 2007-01-26 14:32:39 +0800 (五, 26  1月 2007) | 2 lines

-Optimizations to frame buffer drawing

------------------------------------------------------------------------
r483 | shashclp | 2007-01-26 14:28:32 +0800 (五, 26  1月 2007) | 2 lines

- Rearranged and made window checks just when needed, to get a bit more speed

------------------------------------------------------------------------
r482 | mightymax | 2007-01-26 04:09:20 +0800 (五, 26  1月 2007) | 2 lines

whoops, commited too much

------------------------------------------------------------------------
r481 | mightymax | 2007-01-26 03:59:21 +0800 (五, 26  1月 2007) | 2 lines

encapsuled wifi abilities in #ifdef EXPERIMENTAL_WIFI, first TX implementation

------------------------------------------------------------------------
r480 | mightymax | 2007-01-26 03:58:15 +0800 (五, 26  1月 2007) | 2 lines

encapsuled wifi abilities in #ifdef EXPERIMENTAL_WIFI

------------------------------------------------------------------------
r479 | damdoum | 2007-01-26 03:48:37 +0800 (五, 26  1月 2007) | 2 lines

simplified 16c sprite rendering

------------------------------------------------------------------------
r478 | amponzi | 2007-01-26 02:57:38 +0800 (五, 26  1月 2007) | 2 lines

- Added the huge big super awesome (very little) feature I made

------------------------------------------------------------------------
r477 | thoduv | 2007-01-25 05:04:00 +0800 (四, 25  1月 2007) | 2 lines

Added fixed-points types needed by 3D engine (oops, added some macros I had forgotten).

------------------------------------------------------------------------
r476 | thoduv | 2007-01-25 04:55:55 +0800 (四, 25  1月 2007) | 2 lines

Added fixed-point types used by 3D engine.

------------------------------------------------------------------------
r475 | mightymax | 2007-01-25 02:12:05 +0800 (四, 25  1月 2007) | 2 lines

fixed: select was blocking (stupid error), select is now performed less often to incerase speed

------------------------------------------------------------------------
r474 | shashclp | 2007-01-24 10:43:57 +0800 (三, 24  1月 2007) | 2 lines

- Added a type cast, so devcpp doesn't complain :)

------------------------------------------------------------------------
r473 | shashclp | 2007-01-24 10:33:59 +0800 (三, 24  1月 2007) | 2 lines

- Added winsock lib so devcpp compiles

------------------------------------------------------------------------
r472 | shashclp | 2007-01-24 10:31:23 +0800 (三, 24  1月 2007) | 2 lines

- Added WIFI_Init, so it compiles on devcpp

------------------------------------------------------------------------
r471 | mightymax | 2007-01-24 06:41:31 +0800 (三, 24  1月 2007) | 2 lines

added wifi init on system startup

------------------------------------------------------------------------
r470 | mightymax | 2007-01-24 06:32:05 +0800 (三, 24  1月 2007) | 2 lines

added WIFI_Host_ functions, added more Wifi I/O Register handling, added RF frequency -> channel calculation, fixed possible malicious bufferindizes, added defines for raw data expected in firmware, fixed some typos

------------------------------------------------------------------------
r469 | damdoum | 2007-01-24 04:37:15 +0800 (三, 24  1月 2007) | 2 lines

typo

------------------------------------------------------------------------
r468 | damdoum | 2007-01-24 04:34:57 +0800 (三, 24  1月 2007) | 2 lines

rendering seems back

------------------------------------------------------------------------
r467 | damdoum | 2007-01-24 03:57:29 +0800 (三, 24  1月 2007) | 2 lines

ok broken BG rendering routine disabled

------------------------------------------------------------------------
r466 | amponzi | 2007-01-24 02:01:45 +0800 (三, 24  1月 2007) | 2 lines

Adjusted a function to maintain VC++ compatibility

------------------------------------------------------------------------
r465 | damdoum | 2007-01-23 19:41:29 +0800 (二, 23  1月 2007) | 12 lines

...

DO NOT REVERT WORKING CODE !!!
* never seen a well-formed typedef harming anybody.

http://yabause.free.fr/wikini/wakka.php?wiki=CodePractices

* files do not need to be STABLE though
* if it compiles and work for some cases, why revert ?
* why revert to an existing version ? ppl can get the STABLE versions
if we just tell them which ones they are...

------------------------------------------------------------------------
r464 | amponzi | 2007-01-23 09:44:01 +0800 (二, 23  1月 2007) | 2 lines

Added "Force Maintain Ratio" option (see main.c)

------------------------------------------------------------------------
r463 | amponzi | 2007-01-23 09:43:23 +0800 (二, 23  1月 2007) | 3 lines

Added "Force Maintain Ratio" option (automatically adjusts game window width to two-thirds of game window height when window is resized [same ratio as real NDS])
Changed Magnify/Demagnify to increase by 25% to avoid round-off skewing

------------------------------------------------------------------------
r462 | shashclp | 2007-01-23 06:08:21 +0800 (二, 23  1月 2007) | 2 lines

- Reverted to keep desmume compilable

------------------------------------------------------------------------
r461 | shashclp | 2007-01-23 06:07:11 +0800 (二, 23  1月 2007) | 2 lines

- Reverted to 1.70 as the newer versions crashed all the time. Please, avoid committing broken code, test it before and only commit debugged and functional code

------------------------------------------------------------------------
r460 | shashclp | 2007-01-23 06:06:32 +0800 (二, 23  1月 2007) | 2 lines

- Reverted to 1.88 as the newer versions crashed all the time. Please, avoid committing broken code, test it before and only commit debugged and functional code

------------------------------------------------------------------------
r459 | damdoum | 2007-01-22 23:04:53 +0800 (一, 22  1月 2007) | 2 lines

regrouped a little bit the loops.

------------------------------------------------------------------------
r458 | damdoum | 2007-01-22 22:21:41 +0800 (一, 22  1月 2007) | 4 lines

reorganized some code
fixed a bug in gtk-glade ui where checkbox to en/disable OBJ was not
taken into account

------------------------------------------------------------------------
r457 | damdoum | 2007-01-22 20:41:27 +0800 (一, 22  1月 2007) | 4 lines

toggling layers on/off can now show hidden layers
layer enabled  -> toggling on=visible off=invisible
layer disabled -> toggling on=invisible off=visible

------------------------------------------------------------------------
r456 | damdoum | 2007-01-22 16:38:21 +0800 (一, 22  1月 2007) | 3 lines

took off some macros
began adding capture

------------------------------------------------------------------------
r455 | evilynux | 2007-01-22 15:46:40 +0800 (一, 22  1月 2007) | 2 lines

Clarified joystick axis processing.

------------------------------------------------------------------------
r454 | evilynux | 2007-01-22 15:27:07 +0800 (一, 22  1月 2007) | 2 lines

Update copyright.

------------------------------------------------------------------------
r453 | cyberwarriorx | 2007-01-22 11:36:42 +0800 (一, 22  1月 2007) | 2 lines

-Added more code for graphics core system. Still unfinished, but at least the framework is now in place.

------------------------------------------------------------------------
r452 | shashclp | 2007-01-22 09:45:14 +0800 (一, 22  1月 2007) | 3 lines

- Fixed renderline_textBG to feed proper values to the window handling
- Disabled 16 color new rendering, as it's buggy in Megaman ZX and probably others

------------------------------------------------------------------------
r451 | shashclp | 2007-01-22 04:27:45 +0800 (一, 22  1月 2007) | 2 lines

- Fixed extRotBG2 to feed proper values to the window handling

------------------------------------------------------------------------
r450 | shashclp | 2007-01-22 04:11:35 +0800 (一, 22  1月 2007) | 2 lines

- Reverted changes, as still crashes on some computers, and it was a ugly hack

------------------------------------------------------------------------
r449 | shashclp | 2007-01-22 03:54:36 +0800 (一, 22  1月 2007) | 3 lines

- Copyright update
- Fixed "Feel the Magic" and, partially, "Megaman ZX", but still extended bg rotation seem to feed bad coords to the window handling

------------------------------------------------------------------------
r448 | shashclp | 2007-01-22 03:52:08 +0800 (一, 22  1月 2007) | 2 lines

- Copyright update

------------------------------------------------------------------------
r447 | shashclp | 2007-01-22 03:38:37 +0800 (一, 22  1月 2007) | 2 lines

- My changes (simplified as this is used as a news file)

------------------------------------------------------------------------
r446 | evilynux | 2007-01-21 15:01:23 +0800 (日, 21  1月 2007) | 2 lines

Save and Load states: Using grouped radio dot buttons instead of checks.

------------------------------------------------------------------------
r445 | evilynux | 2007-01-21 14:16:54 +0800 (日, 21  1月 2007) | 2 lines

Add comment to explain why we can't add a check aside the existing savestates.

------------------------------------------------------------------------
r444 | evilynux | 2007-01-21 14:08:50 +0800 (日, 21  1月 2007) | 2 lines

Fixed syntax, it builds now.

------------------------------------------------------------------------
r443 | cyberwarriorx | 2007-01-21 09:30:22 +0800 (日, 21  1月 2007) | 2 lines

-Added basic code for graphics core system. Obviously, there will be more changes necessary

------------------------------------------------------------------------
r442 | mightymax | 2007-01-20 23:07:51 +0800 (六, 20  1月 2007) | 2 lines

checks against stack overflows added. If put strings into stack, limit the access by their size, not by the size of unknown and possible corrupt input

------------------------------------------------------------------------
r441 | damdoum | 2007-01-20 07:14:47 +0800 (六, 20  1月 2007) | 2 lines

fixes glitches where some "noise" / "sprites" get displayed...

------------------------------------------------------------------------
r440 | damdoum | 2007-01-20 01:32:19 +0800 (六, 20  1月 2007) | 2 lines

sprite w/ 256 colors back again

------------------------------------------------------------------------
r439 | damdoum | 2007-01-20 01:14:23 +0800 (六, 20  1月 2007) | 4 lines

window test is working now...
but there is crap showing up...(ram init ? wrong layers ?)
have to test sprite using 256colors palettes

------------------------------------------------------------------------
r438 | damdoum | 2007-01-19 23:40:14 +0800 (五, 19  1月 2007) | 2 lines

added OBJ window

------------------------------------------------------------------------
r437 | evilynux | 2007-01-19 14:21:13 +0800 (五, 19  1月 2007) | 2 lines

Savestates _should_ always be valid now.

------------------------------------------------------------------------
r436 | evilynux | 2007-01-19 13:45:59 +0800 (五, 19  1月 2007) | 4 lines

More work on savestates. There are still some things to solve:
- Setting the menu item as active will make DeSmuME go crazy!?
- Saving the state doesn't always work i.e. the state is invalid?!

------------------------------------------------------------------------
r435 | damdoum | 2007-01-19 04:58:58 +0800 (五, 19  1月 2007) | 3 lines

moved some code (sprite w/ 16c palettes)
fixed bad sprite display (wrong part displayed)

------------------------------------------------------------------------
r434 | damdoum | 2007-01-19 00:30:43 +0800 (五, 19  1月 2007) | 2 lines

tried to make window more legible

------------------------------------------------------------------------
r433 | damdoum | 2007-01-18 22:45:16 +0800 (四, 18  1月 2007) | 2 lines

comments

------------------------------------------------------------------------
r432 | damdoum | 2007-01-18 22:40:24 +0800 (四, 18  1月 2007) | 2 lines

comments + re-fixed 0-sized windows

------------------------------------------------------------------------
r431 | damdoum | 2007-01-18 22:08:56 +0800 (四, 18  1月 2007) | 2 lines

window & wrap (began fixing)

------------------------------------------------------------------------
r430 | damdoum | 2007-01-18 18:46:52 +0800 (四, 18  1月 2007) | 2 lines

typo sorry :)

------------------------------------------------------------------------
r429 | damdoum | 2007-01-18 18:39:33 +0800 (四, 18  1月 2007) | 2 lines

included stave states menus (not complete)

------------------------------------------------------------------------
r428 | evilynux | 2007-01-18 16:07:26 +0800 (四, 18  1月 2007) | 2 lines

Added joystick axis configuration.

------------------------------------------------------------------------
r427 | shashclp | 2007-01-18 12:00:25 +0800 (四, 18  1月 2007) | 3 lines

- Fixed MOV according to documentation, fixes armwrestler first page
Reference: http://nocash.emubase.de/gbatek.htm#arm5dataprocessing (undex Using R15)

------------------------------------------------------------------------
r426 | yabause | 2007-01-18 06:16:50 +0800 (四, 18  1月 2007) | 4 lines

Reverted src/Makefile.am to previous version. You can't have a variable
substituion in _SOURCES, see:
http://sources.redhat.com/automake/automake.html#Conditional-Sources

------------------------------------------------------------------------
r425 | evilynux | 2007-01-18 04:58:46 +0800 (四, 18  1月 2007) | 2 lines

Updated with Guillaume's permission.

------------------------------------------------------------------------
r424 | evilynux | 2007-01-18 04:43:48 +0800 (四, 18  1月 2007) | 2 lines

Use lookup_key() on keyboard events.

------------------------------------------------------------------------
r423 | evilynux | 2007-01-18 04:42:51 +0800 (四, 18  1月 2007) | 2 lines

Clarified Axis keys using constants.

------------------------------------------------------------------------
r422 | evilynux | 2007-01-18 04:16:58 +0800 (四, 18  1月 2007) | 3 lines

- More keyboard input handling centralization.
- Added save/load joystick configuration support to gtk and gtk-glade UIs.

------------------------------------------------------------------------
r421 | evilynux | 2007-01-18 03:26:24 +0800 (四, 18  1月 2007) | 2 lines

Renamed button_DEBUG to button_Debug for consistency.

------------------------------------------------------------------------
r420 | damdoum | 2007-01-17 20:54:55 +0800 (三, 17  1月 2007) | 2 lines

tried to fix glitch where 16 color sprite were wrongly displayed

------------------------------------------------------------------------
r419 | cyberwarriorx | 2007-01-17 11:19:08 +0800 (三, 17  1月 2007) | 2 lines

-Potential fix for the sound hardware issue

------------------------------------------------------------------------
r418 | damdoum | 2007-01-17 01:15:40 +0800 (三, 17  1月 2007) | 3 lines

& is binary, && is logical
there wasn't any typo (see behavior with window.nds)

------------------------------------------------------------------------
r417 | evilynux | 2007-01-16 23:55:19 +0800 (二, 16  1月 2007) | 2 lines

Fixed windows/out of windows: was "&" instead of "&&".

------------------------------------------------------------------------
r416 | damdoum | 2007-01-16 22:20:11 +0800 (二, 16  1月 2007) | 2 lines

factored a little bit windows/out of windows

------------------------------------------------------------------------
r415 | evilynux | 2007-01-16 14:29:03 +0800 (二, 16  1月 2007) | 2 lines

Fixed 16bit and 32bit displays.

------------------------------------------------------------------------
r414 | mightymax | 2007-01-16 04:17:42 +0800 (二, 16  1月 2007) | 2 lines

fixed var declaration

------------------------------------------------------------------------
r413 | damdoum | 2007-01-16 01:19:05 +0800 (二, 16  1月 2007) | 2 lines

fixed display (calculation of position)

------------------------------------------------------------------------
r412 | mightymax | 2007-01-16 00:59:03 +0800 (二, 16  1月 2007) | 2 lines

added Magnify/DeMagnify menuitems

------------------------------------------------------------------------
r411 | damdoum | 2007-01-15 23:22:37 +0800 (一, 15  1月 2007) | 2 lines

fancier IO regs :)

------------------------------------------------------------------------
r410 | evilynux | 2007-01-15 06:28:39 +0800 (一, 15  1月 2007) | 2 lines

Replaced two types with our ones we've defined.

------------------------------------------------------------------------
r409 | evilynux | 2007-01-15 06:23:07 +0800 (一, 15  1月 2007) | 2 lines

Fixed value display format: all caps.

------------------------------------------------------------------------
r408 | evilynux | 2007-01-15 06:18:24 +0800 (一, 15  1月 2007) | 2 lines

- registerTool only when autorefresh is enable.

------------------------------------------------------------------------
r407 | evilynux | 2007-01-15 05:57:07 +0800 (一, 15  1月 2007) | 2 lines

Do not show joystick configuration dialog when the emulator is running.

------------------------------------------------------------------------
r406 | evilynux | 2007-01-15 05:38:43 +0800 (一, 15  1月 2007) | 2 lines

- Swaped X and Y in configuration dialog.

------------------------------------------------------------------------
r405 | evilynux | 2007-01-15 05:37:36 +0800 (一, 15  1月 2007) | 2 lines

- Centralized NDS keypad update.

------------------------------------------------------------------------
r404 | evilynux | 2007-01-15 05:33:03 +0800 (一, 15  1月 2007) | 3 lines

- Centralized NDS keypad update.
- Fixed X and Y keys.

------------------------------------------------------------------------
r403 | cyberwarriorx | 2007-01-15 05:33:01 +0800 (一, 15  1月 2007) | 3 lines

-Fixed an issue where winsock.h and winsock2.h were both being included in Visual C++
-Fixed a variable declaration issue.

------------------------------------------------------------------------
r402 | evilynux | 2007-01-15 05:31:42 +0800 (一, 15  1月 2007) | 2 lines

- Centralized NDS keypad update.

------------------------------------------------------------------------
r401 | evilynux | 2007-01-15 05:28:17 +0800 (一, 15  1月 2007) | 4 lines

- Centralized NDS keypad update.
- Added get_keypad function to get current keypad state.
- Use SDL keynames for keyboard.

------------------------------------------------------------------------
r400 | cyberwarriorx | 2007-01-15 05:12:21 +0800 (一, 15  1月 2007) | 2 lines

-Fixing code so it compiles under Visual C++ again. This is the last time I'm fixing these type of errors

------------------------------------------------------------------------
r399 | evilynux | 2007-01-15 03:42:17 +0800 (一, 15  1月 2007) | 2 lines

Added comment + fixme note to joystick function.

------------------------------------------------------------------------
r398 | mightymax | 2007-01-15 03:27:18 +0800 (一, 15  1月 2007) | 2 lines

missed one touchscreen calculation for scaling, done now

------------------------------------------------------------------------
r397 | evilynux | 2007-01-15 03:06:38 +0800 (一, 15  1月 2007) | 5 lines

Refactored io_regs:
- showing all registers at the same time;
- possibility to autorefresh or refresh manually;
- removed display registers, please use the nice memory viewer.

------------------------------------------------------------------------
r396 | mightymax | 2007-01-15 00:47:02 +0800 (一, 15  1月 2007) | 2 lines

BitmapInfo.height for 180� rotation fixed

------------------------------------------------------------------------
r395 | damdoum | 2007-01-15 00:10:22 +0800 (一, 15  1月 2007) | 3 lines

palette viewer auto update
+ extended palettes

------------------------------------------------------------------------
r394 | mightymax | 2007-01-14 23:39:29 +0800 (日, 14  1月 2007) | 2 lines

corrected touchscreen input after resizing

------------------------------------------------------------------------
r393 | damdoum | 2007-01-14 23:14:54 +0800 (日, 14  1月 2007) | 2 lines

palette viewer :)

------------------------------------------------------------------------
r392 | mightymax | 2007-01-14 22:54:48 +0800 (日, 14  1月 2007) | 2 lines

added window resizing

------------------------------------------------------------------------
r391 | normmatt234 | 2007-01-14 21:21:44 +0800 (日, 14  1月 2007) | 2 lines

Added Screen Rotation patch by Guerrero747

------------------------------------------------------------------------
r390 | damdoum | 2007-01-14 20:26:12 +0800 (日, 14  1月 2007) | 3 lines

libgen.h no more used
fixed broken callbacks

------------------------------------------------------------------------
r389 | damdoum | 2007-01-14 19:53:04 +0800 (日, 14  1月 2007) | 4 lines

Makefile.in overwritten by autogen.sh (sorry if it breaks anything)
src/Makefile.am -> made fs-$(arch).c file in the source
gtk-glade : began palette viewer

------------------------------------------------------------------------
r388 | damdoum | 2007-01-14 10:01:50 +0800 (日, 14  1月 2007) | 3 lines

hide widgets i/of destroying them (so they can be opened again
(bug was added when changed delete-event handler)

------------------------------------------------------------------------
r387 | damdoum | 2007-01-14 09:50:32 +0800 (日, 14  1月 2007) | 3 lines

added changes tracking to memory viewer
(oh yeah ;) this mean autoupdate has been done too)

------------------------------------------------------------------------
r386 | mightymax | 2007-01-14 07:00:21 +0800 (日, 14  1月 2007) | 2 lines

changed socket_t for non windows systems

------------------------------------------------------------------------
r385 | damdoum | 2007-01-14 06:48:56 +0800 (日, 14  1月 2007) | 2 lines

memviewer done :)

------------------------------------------------------------------------
r384 | mightymax | 2007-01-14 06:26:16 +0800 (日, 14  1月 2007) | 2 lines

changed sprite coord passing to previous version, to fix the testcase

------------------------------------------------------------------------
r383 | mightymax | 2007-01-14 06:18:33 +0800 (日, 14  1月 2007) | 2 lines

changed special color effect handling within windows

------------------------------------------------------------------------
r382 | mightymax | 2007-01-14 03:12:12 +0800 (日, 14  1月 2007) | 2 lines

added trigger for wifi timer (every 0x3F03 cycles, ~1us)

------------------------------------------------------------------------
r381 | mightymax | 2007-01-14 03:09:57 +0800 (日, 14  1月 2007) | 2 lines

added usec timer, wifi irq requests

------------------------------------------------------------------------
r380 | mightymax | 2007-01-14 03:08:58 +0800 (日, 14  1月 2007) | 2 lines

added IE and IME check to interrupts

------------------------------------------------------------------------
r379 | mightymax | 2007-01-13 21:43:07 +0800 (六, 13  1月 2007) | 2 lines

framebuffer mode now also works from LCD memory

------------------------------------------------------------------------
r378 | mightymax | 2007-01-13 20:36:14 +0800 (六, 13  1月 2007) | 2 lines

things i worked on last week

------------------------------------------------------------------------
r377 | mightymax | 2007-01-13 19:22:47 +0800 (六, 13  1月 2007) | 2 lines

disabled persistent VRAM banks for now, they are causing problems when more then one bank is mapped to the same address

------------------------------------------------------------------------
r376 | mightymax | 2007-01-13 19:13:33 +0800 (六, 13  1月 2007) | 2 lines

special window setting (startcoord == endcoord) is only used for the xCoord

------------------------------------------------------------------------
r375 | mightymax | 2007-01-13 18:17:16 +0800 (六, 13  1月 2007) | 2 lines

included wifi.c/h into builds

------------------------------------------------------------------------
r374 | mightymax | 2007-01-13 18:13:04 +0800 (六, 13  1月 2007) | 2 lines

added some more I/O register writes, added wifi register defines

------------------------------------------------------------------------
r373 | evilynux | 2007-01-13 16:09:18 +0800 (六, 13  1月 2007) | 2 lines

Fixed keyboard cfg corruption when quitting joystick configuration.

------------------------------------------------------------------------
r372 | normmatt234 | 2007-01-13 14:04:58 +0800 (六, 13  1月 2007) | 4 lines

GPU.H - Added a fix for he framebuffer not displaying on the sub screen (not working atm)
MMU.C - Added some more VRAM modes
MMU.C - Added variable used to determine which screen to draw the framebuffer too

------------------------------------------------------------------------
r371 | evilynux | 2007-01-13 07:45:51 +0800 (六, 13  1月 2007) | 2 lines

Added some idiot proof protection. Still needs improvements.

------------------------------------------------------------------------
r370 | evilynux | 2007-01-13 07:44:23 +0800 (六, 13  1月 2007) | 2 lines

Added nbr_joy variable for interfaces using joysticks.

------------------------------------------------------------------------
r369 | shashclp | 2007-01-13 07:43:32 +0800 (六, 13  1月 2007) | 2 lines

- Added the option to show .zip/.gz in the loading dialog, if supported when compiling

------------------------------------------------------------------------
r368 | mightymax | 2007-01-13 07:25:49 +0800 (六, 13  1月 2007) | 2 lines

VRAM-Bank(A-D) data is now persistent when their allocation is changed, restricted a bunch of display registers to arm9 only, added 16/32 bit write to REG_VRAMCNTx

------------------------------------------------------------------------
r367 | evilynux | 2007-01-13 06:51:57 +0800 (六, 13  1月 2007) | 2 lines

Added joystick configuration support!

------------------------------------------------------------------------
r366 | mightymax | 2007-01-13 04:07:38 +0800 (六, 13  1月 2007) | 2 lines

fixed windows of size 0

------------------------------------------------------------------------
r365 | mightymax | 2007-01-13 03:46:01 +0800 (六, 13  1月 2007) | 2 lines

cleaned up windowdecision, fixed wrong x coordinate useed for sprites in windows

------------------------------------------------------------------------
r364 | mightymax | 2007-01-13 03:07:36 +0800 (六, 13  1月 2007) | 2 lines

enabled normmatt's modification to framebuffer modes

------------------------------------------------------------------------
r363 | damdoum | 2007-01-13 02:35:32 +0800 (六, 13  1月 2007) | 2 lines

cpu select in memory view

------------------------------------------------------------------------
r362 | damdoum | 2007-01-13 01:59:41 +0800 (六, 13  1月 2007) | 3 lines

memviewer ok...
lacks scrolling, auto-resize, monospace font, ... well it's a start

------------------------------------------------------------------------
r361 | damdoum | 2007-01-13 00:40:12 +0800 (六, 13  1月 2007) | 2 lines

sorry i forgot to add this file :)

------------------------------------------------------------------------
r360 | damdoum | 2007-01-13 00:27:45 +0800 (六, 13  1月 2007) | 2 lines

adding memory viewer

------------------------------------------------------------------------
r359 | damdoum | 2007-01-12 23:19:06 +0800 (五, 12  1月 2007) | 3 lines

added code from Normatt for VRAM A,B,C,D (but commented)
going to add memory viewer for gtk-glade

------------------------------------------------------------------------
r358 | mightymax | 2007-01-12 22:12:55 +0800 (五, 12  1月 2007) | 2 lines

addded wifimac_t I/O functions

------------------------------------------------------------------------
r357 | mightymax | 2007-01-12 21:04:25 +0800 (五, 12  1月 2007) | 2 lines

addded TEST register to rf writes (causes rf reset), time of rf register transfer fixed

------------------------------------------------------------------------
r356 | damdoum | 2007-01-12 20:52:26 +0800 (五, 12  1月 2007) | 7 lines

gfx test 1 = passed
gfx test 2 = passed
mode3 test = passed
window test= passed (but glitches)

priorities handling BG / OBJ

------------------------------------------------------------------------
r355 | mightymax | 2007-01-12 20:29:38 +0800 (五, 12  1月 2007) | 2 lines

added first BB-chip communication functions

------------------------------------------------------------------------
r354 | mightymax | 2007-01-12 20:00:44 +0800 (五, 12  1月 2007) | 2 lines

completed rf-chip communication interface

------------------------------------------------------------------------
r353 | evilynux | 2007-01-12 16:21:34 +0800 (五, 12  1月 2007) | 14 lines

Added support for some display registers:
REG_DISPA_WIN0H
REG_DISPA_WIN1H
REG_DISPA_WIN0V
REG_DISPA_WIN1V
REG_DISPA_WININ
REG_DISPA_WINOUT
REG_DISPB_WIN0H
REG_DISPB_WIN1H
REG_DISPB_WIN0V
REG_DISPB_WIN1V
REG_DISPB_WININ
REG_DISPB_WINOUT

------------------------------------------------------------------------
r352 | mightymax | 2007-01-12 05:37:50 +0800 (五, 12  1月 2007) | 2 lines

named the rffilter_t unions, corrected some names, added first access functions

------------------------------------------------------------------------
r351 | mightymax | 2007-01-12 04:50:17 +0800 (五, 12  1月 2007) | 2 lines

added some more wifi related structures

------------------------------------------------------------------------
r350 | mightymax | 2007-01-12 04:15:22 +0800 (五, 12  1月 2007) | 2 lines

inserted link to documentation: http://www.rfmd.com/pdfs/2958.pdf

------------------------------------------------------------------------
r349 | mightymax | 2007-01-12 04:12:54 +0800 (五, 12  1月 2007) | 2 lines

completed rffilter_t register definitions

------------------------------------------------------------------------
r348 | mightymax | 2007-01-12 03:50:37 +0800 (五, 12  1月 2007) | 2 lines

created first layout for registers of the wifi related RF chip

------------------------------------------------------------------------
r347 | mightymax | 2007-01-12 02:46:19 +0800 (五, 12  1月 2007) | 2 lines

undid the last BG order change (sorry damoum, it was unable to run any nds file withou crashing, and gdb didnt even want to attach to it before desmume closed)

------------------------------------------------------------------------
r346 | cyberwarriorx | 2007-01-12 02:33:32 +0800 (五, 12  1月 2007) | 2 lines

-Fixed another case of people declaring variables in the middle of a function. Whoever is doing it, please -stop-.

------------------------------------------------------------------------
r345 | damdoum | 2007-01-12 01:26:32 +0800 (五, 12  1月 2007) | 3 lines

gtk-glade : OBJ on/off
redone BG / OBJ priorities

------------------------------------------------------------------------
r344 | mightymax | 2007-01-12 00:06:06 +0800 (五, 12  1月 2007) | 2 lines

fixed affineMode switch for extRot BGs

------------------------------------------------------------------------
r343 | mightymax | 2007-01-11 23:24:02 +0800 (四, 11  1月 2007) | 2 lines

resolved GPU->lcd/core mixup, fixed addBack/remove to use new resorting

------------------------------------------------------------------------
r342 | mightymax | 2007-01-11 22:42:00 +0800 (四, 11  1月 2007) | 2 lines

applied namechanges of GPU.h into the .c (bitfield=>bits), fixed BG0_3D corrupting 2D background

------------------------------------------------------------------------
r341 | mightymax | 2007-01-11 22:08:47 +0800 (四, 11  1月 2007) | 2 lines

added 8/32bit writes to masterbrightness registers

------------------------------------------------------------------------
r340 | mightymax | 2007-01-11 21:56:49 +0800 (四, 11  1月 2007) | 2 lines

masterbrightness works now exactly as on hardware (see added comments, where the problems with some files might come from and for a test .NDS)

------------------------------------------------------------------------
r339 | damdoum | 2007-01-11 20:24:35 +0800 (四, 11  1月 2007) | 4 lines

cleaning MASTER_BRIGHT
reverted 31 to 63 for brightness formula (gfx had become blank instead of
colourful for some games)

------------------------------------------------------------------------
r338 | mightymax | 2007-01-11 20:12:33 +0800 (四, 11  1月 2007) | 2 lines

fixed extrot GBs

------------------------------------------------------------------------
r337 | mightymax | 2007-01-11 19:50:41 +0800 (四, 11  1月 2007) | 2 lines

combined both BG resortings and replaced it with a documented selection sort, broken BGs sinc 1.39 should work again

------------------------------------------------------------------------
r336 | damdoum | 2007-01-11 18:14:42 +0800 (四, 11  1月 2007) | 3 lines

cleaned BGProp[] out
:)

------------------------------------------------------------------------
r335 | damdoum | 2007-01-11 17:08:47 +0800 (四, 11  1月 2007) | 2 lines

commented a bit the structures

------------------------------------------------------------------------
r334 | evilynux | 2007-01-11 16:57:28 +0800 (四, 11  1月 2007) | 4 lines

Fixed cli UI keyboard bindings:
- X and Y were inverted;
- keyboard keys were never released.

------------------------------------------------------------------------
r333 | evilynux | 2007-01-11 16:51:24 +0800 (四, 11  1月 2007) | 4 lines

- Added joystick configuration routines.
- Remaped cli keyboard buttons for better usability.
- Added X and Y buttons to cli UI.

------------------------------------------------------------------------
r332 | evilynux | 2007-01-11 16:47:12 +0800 (四, 11  1月 2007) | 3 lines

First glimpse of joystick configuration.
Still hidden as it's not 100% working at the moment.

------------------------------------------------------------------------
r331 | shashclp | 2007-01-11 13:51:26 +0800 (四, 11  1月 2007) | 2 lines

- Fixed too much background enabled when not needed due to window handling (fixes Megaman ZX subscreen)

------------------------------------------------------------------------
r330 | shashclp | 2007-01-11 13:08:45 +0800 (四, 11  1月 2007) | 2 lines

- Fixed the bug that resulted in missing backgrounds in Megaman ZX and AoE (probably others too)

------------------------------------------------------------------------
r329 | mightymax | 2007-01-11 07:02:18 +0800 (四, 11  1月 2007) | 2 lines

fixed in/out-window check

------------------------------------------------------------------------
r328 | mightymax | 2007-01-11 07:01:25 +0800 (四, 11  1月 2007) | 2 lines

fixed write to window registers

------------------------------------------------------------------------
r327 | mightymax | 2007-01-11 05:06:09 +0800 (四, 11  1月 2007) | 2 lines

added 8bit writes to window dimesnion components

------------------------------------------------------------------------
r326 | mightymax | 2007-01-11 05:05:17 +0800 (四, 11  1月 2007) | 2 lines

added 8bit component writes for window dimensions, fixed false abort in windowing

------------------------------------------------------------------------
r325 | mightymax | 2007-01-11 04:21:48 +0800 (四, 11  1月 2007) | 2 lines

added retrieving of RotScale parameters for sprites, removed CHECKME: H/V-flips are within original drawing rectangle

------------------------------------------------------------------------
r324 | mightymax | 2007-01-11 02:32:25 +0800 (四, 11  1月 2007) | 2 lines

fixed outside window filter

------------------------------------------------------------------------
r323 | cyberwarriorx | 2007-01-11 01:49:12 +0800 (四, 11  1月 2007) | 2 lines

-Fixed an issue where variables weren't being declared in the proper spot. This causes problems when compiling in Visual C++

------------------------------------------------------------------------
r322 | evilynux | 2007-01-11 01:36:08 +0800 (四, 11  1月 2007) | 2 lines

Fixed compilation error by moving min(a,b) macro to GPU.h .

------------------------------------------------------------------------
r321 | evilynux | 2007-01-11 01:29:47 +0800 (四, 11  1月 2007) | 9 lines

- Removed joypad debug message;
- Renamed mouse_set_coord() to set_mouse_coord() for naming consistency;
- Added mouse_status structure to handle all mouse informations;
- Clarified some #endif for easier reading;
- Removed some french comments;

Only in src/cli/main.c:
- Removed 2 useless #define;

------------------------------------------------------------------------
r320 | mightymax | 2007-01-10 23:09:18 +0800 (三, 10  1月 2007) | 2 lines

fixed wrong optimized sizeof(COLOR) [is 4 instead of 2] caused overwriting unrelated data

------------------------------------------------------------------------
r319 | mightymax | 2007-01-10 21:25:26 +0800 (三, 10  1月 2007) | 2 lines

fastened masterbrightness on max brighten(=allwhite)/max darken(=allblack)

------------------------------------------------------------------------
r318 | mightymax | 2007-01-10 21:04:39 +0800 (三, 10  1月 2007) | 2 lines

abort of masterbrightness calculation if manipulation factor is 0

------------------------------------------------------------------------
r317 | mightymax | 2007-01-10 20:49:48 +0800 (三, 10  1月 2007) | 2 lines

ACL checks disabled when define MMU_ENABLE_ACL is not set

------------------------------------------------------------------------
r316 | mightymax | 2007-01-10 20:48:23 +0800 (三, 10  1月 2007) | 2 lines

added missing *

------------------------------------------------------------------------
r315 | mightymax | 2007-01-10 20:47:36 +0800 (三, 10  1月 2007) | 2 lines

added accessright check to STRH/LDRH

------------------------------------------------------------------------
r314 | mightymax | 2007-01-10 20:39:21 +0800 (三, 10  1月 2007) | 2 lines

added windowcheck to renderline_setFinalColor

------------------------------------------------------------------------
r313 | mightymax | 2007-01-10 20:38:44 +0800 (三, 10  1月 2007) | 2 lines

fixed masterbrightness formular, fixed typo in windowcnt_t

------------------------------------------------------------------------
r312 | mightymax | 2007-01-10 19:56:07 +0800 (三, 10  1月 2007) | 2 lines

removed double COLOR define

------------------------------------------------------------------------
r311 | damdoum | 2007-01-10 16:58:35 +0800 (三, 10  1月 2007) | 2 lines

added COLOR32 structure (for those like me converting colors :))

------------------------------------------------------------------------
r310 | damdoum | 2007-01-10 16:50:25 +0800 (三, 10  1月 2007) | 5 lines

started window implementation
added COLOR structure (cleanup soon)
BG priorities and OBJ priorities need better code commenting / code to
explain / redo

------------------------------------------------------------------------
r309 | evilynux | 2007-01-10 14:37:55 +0800 (三, 10  1月 2007) | 2 lines

All cli UI controls centralized in src/ctrlssdl.{h,c} just like the gtk and gtk-glade UIs.

------------------------------------------------------------------------
r308 | evilynux | 2007-01-10 14:36:26 +0800 (三, 10  1月 2007) | 2 lines

Added SDL_Quit and mouse support for cli UI.

------------------------------------------------------------------------
r307 | evilynux | 2007-01-10 13:04:57 +0800 (三, 10  1月 2007) | 2 lines

Using _UI suffix for better understanding.

------------------------------------------------------------------------
r306 | evilynux | 2007-01-10 12:34:56 +0800 (三, 10  1月 2007) | 3 lines

Unified joystick controls.
Both gtk and gtk-glade UIs use src/ctrlssdl.{h,x} for joystick support.

------------------------------------------------------------------------
r305 | evilynux | 2007-01-10 12:33:19 +0800 (三, 10  1月 2007) | 2 lines

Unified device controls. Both gtk and gtk-glade UIs uses this for joystick support.

------------------------------------------------------------------------
r304 | mightymax | 2007-01-10 08:37:32 +0800 (三, 10  1月 2007) | 2 lines

type fixed

------------------------------------------------------------------------
r303 | mightymax | 2007-01-10 08:31:12 +0800 (三, 10  1月 2007) | 2 lines

prefetch now checks for rights to execute at the address. Stops execution if pc(r15) runs outside valid addressranges

------------------------------------------------------------------------
r302 | mightymax | 2007-01-10 08:27:58 +0800 (三, 10  1月 2007) | 2 lines

cp15 access check is now inline

------------------------------------------------------------------------
r301 | shashclp | 2007-01-10 08:19:16 +0800 (三, 10  1月 2007) | 2 lines

- Forgot to commit the changes to get oamView to compile

------------------------------------------------------------------------
r300 | shashclp | 2007-01-10 08:06:50 +0800 (三, 10  1月 2007) | 4 lines

- Added support for displaying main memory display mode
- Added support for main memory display DMA
- Enlarged the FIFO's to 32768 values

------------------------------------------------------------------------
r299 | yabause | 2007-01-10 07:26:38 +0800 (三, 10  1月 2007) | 3 lines

Fixed compilation bug: FIFOValue was used in GPU.h without #include'ing
FIFO.h, so it ends up having two 'declarations' of FIFOValue

------------------------------------------------------------------------
r298 | shashclp | 2007-01-10 06:38:23 +0800 (三, 10  1月 2007) | 3 lines

- Added support for MASTER_BRIGHT
- Changed a few things to get VisualC to compile GPU.c

------------------------------------------------------------------------
r297 | mightymax | 2007-01-10 00:30:41 +0800 (三, 10  1月 2007) | 2 lines

fixed crash when changing to a errornous sounddevice (i.e. the change from wav-writer to directsound which returned E-Fail)

------------------------------------------------------------------------
r296 | damdoum | 2007-01-09 21:59:38 +0800 (二, 09  1月 2007) | 2 lines

tried to add core A - direct RAM display mode

------------------------------------------------------------------------
r295 | damdoum | 2007-01-09 18:52:07 +0800 (二, 09  1月 2007) | 3 lines

changing gpu->BGProp[] to  gpu->bgCnt[]
please use the latter from now on

------------------------------------------------------------------------
r294 | mightymax | 2007-01-09 18:18:17 +0800 (二, 09  1月 2007) | 2 lines

added WINDOW_x registers to prepare window clipping

------------------------------------------------------------------------
r293 | damdoum | 2007-01-09 17:26:57 +0800 (二, 09  1月 2007) | 2 lines

used union for better handling of bitfields

------------------------------------------------------------------------
r292 | damdoum | 2007-01-09 16:57:07 +0800 (二, 09  1月 2007) | 2 lines

fixed last modification  (that did not compile)

------------------------------------------------------------------------
r291 | damdoum | 2007-01-09 16:40:05 +0800 (二, 09  1月 2007) | 3 lines

no more gpu->prop
replaced with gpu->dispCnt & macro BGxENABLED

------------------------------------------------------------------------
r290 | damdoum | 2007-01-09 16:09:59 +0800 (二, 09  1月 2007) | 2 lines

_DISPCNT_ struct completed

------------------------------------------------------------------------
r289 | shashclp | 2007-01-09 12:24:32 +0800 (二, 09  1月 2007) | 2 lines

- Added writes to bldcnt and bldalpha when written together as a 32bit value (Fixes Zelda Gallery)

------------------------------------------------------------------------
r288 | cyberwarriorx | 2007-01-09 11:08:20 +0800 (二, 09  1月 2007) | 3 lines

-Fixed disview.c so it compiles in Visual C++ again
-Added ROMReader.c/.h to Visual C++ project file

------------------------------------------------------------------------
r287 | shashclp | 2007-01-09 08:30:59 +0800 (二, 09  1月 2007) | 3 lines

- Moved the sprite drawing check to GPU_ligne
- Moved some declarations so the code compiles again on VisualC

------------------------------------------------------------------------
r286 | evilynux | 2007-01-09 06:03:33 +0800 (二, 09  1月 2007) | 2 lines

Initial joypad support for cli UI.

------------------------------------------------------------------------
r285 | mightymax | 2007-01-09 05:51:01 +0800 (二, 09  1月 2007) | 2 lines

added 16bit REG_DISPx_MOSAIC write

------------------------------------------------------------------------
r284 | mightymax | 2007-01-09 05:49:32 +0800 (二, 09  1月 2007) | 2 lines

added support for MOSAIC effect in textBGs, test .NDS: http://desmume.sourceforge.net/forums/index.php?action=vthread&forum=2&topic=50&page=0#msg192 , doc: http://nocash.emubase.de/gbatek.htm#lcdiomosaicfunction

------------------------------------------------------------------------
r283 | evilynux | 2007-01-09 05:12:48 +0800 (二, 09  1月 2007) | 2 lines

Better indentation so I can see something.

------------------------------------------------------------------------
r282 | evilynux | 2007-01-09 05:02:13 +0800 (二, 09  1月 2007) | 2 lines

Fixed copyright.

------------------------------------------------------------------------
r281 | evilynux | 2007-01-09 04:59:57 +0800 (二, 09  1月 2007) | 2 lines

Script to regenerated autotools files.

------------------------------------------------------------------------
r280 | evilynux | 2007-01-09 04:57:14 +0800 (二, 09  1月 2007) | 2 lines

Initial joypad support for gtk UI.

------------------------------------------------------------------------
r279 | evilynux | 2007-01-09 04:56:27 +0800 (二, 09  1月 2007) | 2 lines

Centralized includes.

------------------------------------------------------------------------
r278 | evilynux | 2007-01-09 04:52:30 +0800 (二, 09  1月 2007) | 2 lines

Proper indent for Joypad const.

------------------------------------------------------------------------
r277 | evilynux | 2007-01-09 04:45:56 +0800 (二, 09  1月 2007) | 2 lines

Removed useless include.

------------------------------------------------------------------------
r276 | evilynux | 2007-01-09 04:44:44 +0800 (二, 09  1月 2007) | 2 lines

Added copyright on DeSmuME team as there were no owner.

------------------------------------------------------------------------
r275 | mightymax | 2007-01-09 02:09:47 +0800 (二, 09  1月 2007) | 2 lines

added more comments, removed the suspicious(and false) color shifting, fixed typo/naming prob from 1.31

------------------------------------------------------------------------
r274 | damdoum | 2007-01-09 00:56:51 +0800 (二, 09  1月 2007) | 2 lines

_DISPCNT_ structure definition

------------------------------------------------------------------------
r273 | mightymax | 2007-01-08 22:38:56 +0800 (一, 08  1月 2007) | 2 lines

fixed DISPCNT_DISPLAY_MODE which broke framebuffer mode (oups)

------------------------------------------------------------------------
r272 | damdoum | 2007-01-08 22:17:29 +0800 (一, 08  1月 2007) | 2 lines

evilynux patch...

------------------------------------------------------------------------
r271 | damdoum | 2007-01-08 21:14:10 +0800 (一, 08  1月 2007) | 2 lines

added GPL notice

------------------------------------------------------------------------
r270 | damdoum | 2007-01-08 20:57:32 +0800 (一, 08  1月 2007) | 2 lines

evilynux patch for joypad support

------------------------------------------------------------------------
r269 | mightymax | 2007-01-08 20:21:13 +0800 (一, 08  1月 2007) | 2 lines

support for direct color extrot bitmap opaque bit. Refer GFX TestNDS @ http://desmume.sourceforge.net/forums/index.php?action=vthread&forum=2&topic=50

------------------------------------------------------------------------
r268 | damdoum | 2007-01-08 09:50:31 +0800 (一, 08  1月 2007) | 3 lines

made sprite1D and sprite2D more understandable
(using new struct _OAM_ fields)

------------------------------------------------------------------------
r267 | damdoum | 2007-01-08 07:53:14 +0800 (一, 08  1月 2007) | 5 lines

alpha blending - disabled check for invisible pixels (since some
graphics were not drawn anymore)

added OAM bit fields

------------------------------------------------------------------------
r266 | mightymax | 2007-01-08 07:42:57 +0800 (一, 08  1月 2007) | 2 lines

ROMReader.c/h included

------------------------------------------------------------------------
r265 | mightymax | 2007-01-08 07:07:52 +0800 (一, 08  1月 2007) | 2 lines

removed execution break from STC/LDC, the nds has no coproc that respond to any of them. without response, nothing is triggered/executed on the cpu. dslinux works now ;)

------------------------------------------------------------------------
r264 | mightymax | 2007-01-08 06:30:11 +0800 (一, 08  1月 2007) | 2 lines

fixed and commented interrupt waiting for cp15

------------------------------------------------------------------------
r263 | mightymax | 2007-01-08 05:49:28 +0800 (一, 08  1月 2007) | 2 lines

added speedchecks to alphablending, added comments to explain its steps, replaced another set of bitmasks against defines

------------------------------------------------------------------------
r262 | yabause | 2007-01-08 05:38:23 +0800 (一, 08  1月 2007) | 3 lines

Added a zip ROMReader code based on libzzip and fixed a few bugs
in ROMReader interface.

------------------------------------------------------------------------
r261 | mightymax | 2007-01-08 05:00:45 +0800 (一, 08  1月 2007) | 2 lines

compiles again under win32 & systems without gzip, added checks for invalid file ptrs

------------------------------------------------------------------------
r260 | shashclp | 2007-01-08 04:27:17 +0800 (一, 08  1月 2007) | 2 lines

- Some performance checks in case of sprites disabled

------------------------------------------------------------------------
r259 | damdoum | 2007-01-08 03:58:11 +0800 (一, 08  1月 2007) | 2 lines

some more cleaning using macros

------------------------------------------------------------------------
r258 | damdoum | 2007-01-08 02:59:59 +0800 (一, 08  1月 2007) | 2 lines

some cleaning so that it can be understood easier

------------------------------------------------------------------------
r257 | yabause | 2007-01-08 00:16:54 +0800 (一, 08  1月 2007) | 5 lines

Added Rom header core definition and two cores:
- standard one open a "normal" rom
- gzip one opens a gzip'ed rom
Now it should be easy to add new cores to handle other compression formats

------------------------------------------------------------------------
r256 | mightymax | 2007-01-07 22:31:17 +0800 (日, 07  1月 2007) | 2 lines

replaced unreadable bitmasks with named defines

------------------------------------------------------------------------
r255 | damdoum | 2007-01-07 22:18:03 +0800 (日, 07  1月 2007) | 2 lines

cleaner code (using macros)

------------------------------------------------------------------------
r254 | damdoum | 2007-01-07 20:37:41 +0800 (日, 07  1月 2007) | 3 lines

began correcting this error : actions not enabled when loading rom from
command line

------------------------------------------------------------------------
r253 | damdoum | 2007-01-07 19:46:34 +0800 (日, 07  1月 2007) | 2 lines

alpha blending corrected (?)

------------------------------------------------------------------------
r252 | mightymax | 2007-01-07 19:35:55 +0800 (日, 07  1月 2007) | 2 lines

fixed VRAM_BANK_E in ExtPal mode

------------------------------------------------------------------------
r251 | damdoum | 2007-01-07 19:23:19 +0800 (日, 07  1月 2007) | 3 lines

showing real changes
(sorry i had disabled effects to spot errors, back now)

------------------------------------------------------------------------
r250 | damdoum | 2007-01-07 18:48:28 +0800 (日, 07  1月 2007) | 3 lines

corrects some error l787 & l797
(some objects were not drawn anymore -> used the prior formula)

------------------------------------------------------------------------
r249 | mightymax | 2007-01-07 17:13:25 +0800 (日, 07  1月 2007) | 2 lines

support for sprite enable bit in DISPCNT (bug report #1629605)

------------------------------------------------------------------------
r248 | damdoum | 2007-01-07 17:06:29 +0800 (日, 07  1月 2007) | 2 lines

small cleanup

------------------------------------------------------------------------
r247 | damdoum | 2007-01-07 09:58:32 +0800 (日, 07  1月 2007) | 5 lines

some more FPS !!!
faster rgb image decode (not gtk/gdk dependant and
could be moved to all ports)
Enjoy

------------------------------------------------------------------------
r246 | yabause | 2007-01-07 09:01:24 +0800 (日, 07  1月 2007) | 2 lines

Commited anonymous patch for incorrect x/y buttons on gtk port.

------------------------------------------------------------------------
r245 | yabause | 2007-01-07 08:45:43 +0800 (日, 07  1月 2007) | 5 lines

Commited cribbe patch for gzipped roms.
I've added #ifdef to the code, so desmume still compiles if libz isn't
installed. Now it would be better to use "cores" for file accesses as it
would be a mess to add support for zip, rar, etc. in such a way.

------------------------------------------------------------------------
r244 | damdoum | 2007-01-07 08:20:12 +0800 (日, 07  1月 2007) | 2 lines

gap between screens modified (works now horiz. and vert.)

------------------------------------------------------------------------
r243 | yabause | 2007-01-07 08:02:16 +0800 (日, 07  1月 2007) | 2 lines

Commited evilynux patch for gap between screens.

------------------------------------------------------------------------
r242 | shashclp | 2007-01-07 02:25:16 +0800 (日, 07  1月 2007) | 2 lines

Added the missing semicolons :)

------------------------------------------------------------------------
r241 | damdoum | 2007-01-06 23:08:41 +0800 (六, 06  1月 2007) | 3 lines

SPU.h : made SPU_Pause visible
gtk-glade : mute sound & boost key

------------------------------------------------------------------------
r240 | mightymax | 2007-01-06 22:37:30 +0800 (六, 06  1月 2007) | 2 lines

fixed recalculate permission masks on region permission added, corrected ITCM base address write, its read only

------------------------------------------------------------------------
r239 | mightymax | 2007-01-06 22:13:01 +0800 (六, 06  1月 2007) | 2 lines

fixed recalculate permission masks on region permission added, corrected ITCM base address write, its read only

------------------------------------------------------------------------
r238 | damdoum | 2007-01-06 21:26:54 +0800 (六, 06  1月 2007) | 4 lines

scaling 1x 2x 3x
rotating (e.g. Brain Age)
deleted Makefile (is generated !)

------------------------------------------------------------------------
r237 | yabause | 2007-01-06 17:59:28 +0800 (六, 06  1月 2007) | 3 lines

Applied evilynux patch to glade port, it seems that the port now compiles
fine so it's included in autotools scripts.

------------------------------------------------------------------------
r236 | mightymax | 2007-01-06 07:04:38 +0800 (六, 06  1月 2007) | 2 lines

included REG_DISPx_BLDY to pass to GPU

------------------------------------------------------------------------
r235 | mightymax | 2007-01-06 07:03:47 +0800 (六, 06  1月 2007) | 2 lines

added missing special color effects (brighten/darken, included OBJs as effect target

------------------------------------------------------------------------
r234 | mightymax | 2007-01-06 03:29:29 +0800 (六, 06  1月 2007) | 2 lines

added REG_BLDCNT support -> Working tilemap alpha blending

------------------------------------------------------------------------
r233 | damdoum | 2007-01-06 01:59:01 +0800 (六, 06  1月 2007) | 2 lines

size 1x 2x 3x

------------------------------------------------------------------------
r232 | damdoum | 2007-01-06 01:52:40 +0800 (六, 06  1月 2007) | 2 lines

scaling 1x 2x 3x

------------------------------------------------------------------------
r231 | damdoum | 2007-01-05 21:39:45 +0800 (五, 05  1月 2007) | 2 lines

dtools : io regs working now

------------------------------------------------------------------------
r230 | mightymax | 2007-01-05 21:04:52 +0800 (五, 05  1月 2007) | 2 lines

fixed linenumber showed when switching arm/thumb view

------------------------------------------------------------------------
r229 | mightymax | 2007-01-05 20:56:53 +0800 (五, 05  1月 2007) | 2 lines

added cp15 region access checks

------------------------------------------------------------------------
r228 | damdoum | 2007-01-05 20:16:31 +0800 (五, 05  1月 2007) | 2 lines

cleanup unnecessary files

------------------------------------------------------------------------
r227 | damdoum | 2007-01-05 19:20:43 +0800 (五, 05  1月 2007) | 3 lines

cleanup in unnecessary files
modified automake file (but Makefile.in needs be modified too)

------------------------------------------------------------------------
r226 | damdoum | 2007-01-05 18:52:53 +0800 (五, 05  1月 2007) | 3 lines

changed Makefile to add debug tools ui
need change of autoconfigure script

------------------------------------------------------------------------
r225 | damdoum | 2007-01-05 18:46:05 +0800 (五, 05  1月 2007) | 3 lines

relocated glade & resource files
began debug tools ui

------------------------------------------------------------------------
r224 | yabause | 2007-01-05 09:12:31 +0800 (五, 05  1月 2007) | 3 lines

Modified autotools scripts to handle glade port. It is disabled for now,
as it seems there's some missing files in the gtk-glade dir.

------------------------------------------------------------------------
r223 | yabause | 2007-01-04 08:03:52 +0800 (四, 04  1月 2007) | 3 lines

Removed the last changes to autotools scripts, I gonna add better glade
detection later.

------------------------------------------------------------------------
r222 | damdoum | 2007-01-04 07:54:08 +0800 (四, 04  1月 2007) | 3 lines

damdoum 2007-01:
gtk-glade ui files

------------------------------------------------------------------------
r221 | damdoum | 2007-01-04 07:51:04 +0800 (四, 04  1月 2007) | 4 lines

damdoum 2007-01 :
added gtk-glade ui
needs libglade-2.0 and "-Wl,-export-dynamic" for compilation

------------------------------------------------------------------------
r220 | yabause | 2006-12-27 05:07:39 +0800 (三, 27 12月 2006) | 2 lines

Commited Cyrille Bagard patch to SWAP macro

------------------------------------------------------------------------
r219 | yabause | 2006-12-26 06:06:15 +0800 (二, 26 12月 2006) | 3 lines

Fix to the gtk port so versions of gtk without g_file_set_contents can
be used.

------------------------------------------------------------------------
r217 | cyberwarriorx | 2006-12-24 05:50:45 +0800 (日, 24 12月 2006) | 2 lines

-Should be accurate now

------------------------------------------------------------------------
r216 | yabause | 2006-12-24 05:26:21 +0800 (日, 24 12月 2006) | 2 lines

Added an autopackage configuration file and updated autotools scripts.

------------------------------------------------------------------------
r215 | yabause | 2006-12-24 05:15:42 +0800 (日, 24 12月 2006) | 2 lines

Added README.LIN and fixed a typo in README.WIN

------------------------------------------------------------------------
r214 | cyberwarriorx | 2006-12-24 00:04:17 +0800 (日, 24 12月 2006) | 2 lines

-Updated version. configure,etc. still needs to be rebuilt though

------------------------------------------------------------------------
r213 | cyberwarriorx | 2006-12-24 00:03:45 +0800 (日, 24 12月 2006) | 2 lines

-Added a couple of contributors

------------------------------------------------------------------------
r212 | cyberwarriorx | 2006-12-23 21:44:11 +0800 (六, 23 12月 2006) | 2 lines

-Oops, missed a couple of things

------------------------------------------------------------------------
r211 | cyberwarriorx | 2006-12-23 21:43:21 +0800 (六, 23 12月 2006) | 2 lines

-Argh, I hope there isn't anything important I missed.

------------------------------------------------------------------------
r210 | cyberwarriorx | 2006-12-23 19:49:12 +0800 (六, 23 12月 2006) | 2 lines

-Updated authors list. I'm pretty sure this will have to be changed yet

------------------------------------------------------------------------
r209 | cyberwarriorx | 2006-12-23 19:39:19 +0800 (六, 23 12月 2006) | 4 lines

-Added main readme file
-Fixed a grammar issue that Normmatt found
-Fixed a formatting issue

------------------------------------------------------------------------
r208 | cyberwarriorx | 2006-12-23 18:31:24 +0800 (六, 23 12月 2006) | 2 lines

-Added readme for windows's port in preparation of release

------------------------------------------------------------------------
r207 | cyberwarriorx | 2006-12-23 08:52:11 +0800 (六, 23 12月 2006) | 2 lines

-Added some SWI changes Mighty Max sent me. Relocating SWI routines should work now.

------------------------------------------------------------------------
r206 | yabause | 2006-12-17 19:04:58 +0800 (日, 17 12月 2006) | 2 lines

fixed compilation issues for gtk port.

------------------------------------------------------------------------
r205 | cyberwarriorx | 2006-12-10 11:26:01 +0800 (日, 10 12月 2006) | 4 lines

-Couple of backup memory fixes
-Changed NDS_LoadROM so it takes two more additional arguements(backup memory type and size)
-Changed windows port so it preserves the setting for backup memory when loading a new rom, this should fix some backup memory corruption issues

------------------------------------------------------------------------
r204 | cyberwarriorx | 2006-12-10 07:47:01 +0800 (日, 10 12月 2006) | 2 lines

-Frameskipping is now configurable. Settings are also loaded and saved from/to the ini file

------------------------------------------------------------------------
r203 | cyberwarriorx | 2006-12-09 15:12:18 +0800 (六, 09 12月 2006) | 2 lines

-Closing the IO register dialog no longer crashes the program anymore

------------------------------------------------------------------------
r202 | cyberwarriorx | 2006-12-09 13:19:56 +0800 (六, 09 12月 2006) | 2 lines

-Fixed a bug that only showed up when I was compiling with mingw(I guess microsoft compilers must handle free()'s to invalid pointers a lot better)

------------------------------------------------------------------------
r201 | cyberwarriorx | 2006-12-09 13:04:04 +0800 (六, 09 12月 2006) | 3 lines

-Added a new register define
-Changed MMU.c to use register defines

------------------------------------------------------------------------
r200 | cyberwarriorx | 2006-12-09 09:05:26 +0800 (六, 09 12月 2006) | 3 lines

-Code is no longer dependent on libnds
-Fixed a bug where the old backup memory file handle wasn't being freed before opening a new one.

------------------------------------------------------------------------
r199 | cyberwarriorx | 2006-12-08 14:40:02 +0800 (五, 08 12月 2006) | 3 lines

-Fixed a memory leak in Rom Info dialog
-Rom Info and Reset menu options are now only enabled after a ROM has been loaded

------------------------------------------------------------------------
r198 | cyberwarriorx | 2006-12-08 13:26:50 +0800 (五, 08 12月 2006) | 2 lines

-A few more internal variables are now being reset

------------------------------------------------------------------------
r197 | cyberwarriorx | 2006-12-08 12:03:18 +0800 (五, 08 12月 2006) | 3 lines

-Reworked rom loading so you can load a different rom without any problems
-Finished NDS_Reset. Now the emulation can be reset even while running.

------------------------------------------------------------------------
r196 | cyberwarriorx | 2006-12-07 11:55:41 +0800 (四, 07 12月 2006) | 3 lines

-Fixed a bug in the SPU_Reset function
-Removed an unused variable

------------------------------------------------------------------------
r195 | cyberwarriorx | 2006-12-02 07:56:05 +0800 (六, 02 12月 2006) | 3 lines

-Added quick save state saving/loading to the windows port's menu
-Added shortcut keys for quick save state saving/loading to the window's port. Use shift+F1-F10 keys for saving, and F1-F10 for loading

------------------------------------------------------------------------
r194 | yabause | 2006-12-02 05:33:45 +0800 (六, 02 12月 2006) | 2 lines

Changed GPU_screen to u8 *

------------------------------------------------------------------------
r193 | cyberwarriorx | 2006-12-01 14:36:02 +0800 (五, 01 12月 2006) | 3 lines

-Fixed a couple of warnings
-Added a few menu options for accessing the website, forums, and for submitting bugs.

------------------------------------------------------------------------
r192 | cyberwarriorx | 2006-12-01 14:34:13 +0800 (五, 01 12月 2006) | 2 lines

-Fixed a number of warnings

------------------------------------------------------------------------
r191 | cyberwarriorx | 2006-12-01 11:45:58 +0800 (五, 01 12月 2006) | 2 lines

-files now compile in VC++

------------------------------------------------------------------------
r190 | yabause | 2006-12-01 06:35:11 +0800 (五, 01 12月 2006) | 2 lines

Added "volatile" to execute in cli and gtk ports.

------------------------------------------------------------------------
r189 | yabause | 2006-12-01 06:19:57 +0800 (五, 01 12月 2006) | 2 lines

Applied freebsd patch by stsp :)

------------------------------------------------------------------------
r188 | cyberwarriorx | 2006-12-01 05:43:48 +0800 (五, 01 12月 2006) | 2 lines

-files now compile in VC++

------------------------------------------------------------------------
r187 | cyberwarriorx | 2006-12-01 04:34:02 +0800 (五, 01 12月 2006) | 2 lines

-files now compile in VC++

------------------------------------------------------------------------
r186 | cyberwarriorx | 2006-12-01 03:58:46 +0800 (五, 01 12月 2006) | 3 lines

-file now compiles in VC++
-Commented a couple of spots that need to be fixed.

------------------------------------------------------------------------
r185 | cyberwarriorx | 2006-12-01 02:52:28 +0800 (五, 01 12月 2006) | 2 lines

-files now compile in VC++

------------------------------------------------------------------------
r184 | cyberwarriorx | 2006-11-30 17:36:14 +0800 (四, 30 11月 2006) | 2 lines

-packed structures in fat.h now compile in VC++

------------------------------------------------------------------------
r183 | shashclp | 2006-11-30 15:29:35 +0800 (四, 30 11月 2006) | 2 lines

+ Fixed LDR*/STR* opcodes, and other minor fixes

------------------------------------------------------------------------
r182 | cyberwarriorx | 2006-11-30 14:13:16 +0800 (四, 30 11月 2006) | 2 lines

-Moved control configuration and sound settings options to "Config" menu

------------------------------------------------------------------------
r181 | cyberwarriorx | 2006-11-30 14:09:17 +0800 (四, 30 11月 2006) | 5 lines

-Cleaned up some of my old code
-Removed a few duplicate extern's
-Added Sound Settings dialog - You can now select which sound core to use, the sound buffer size, and the volume level
-All sound settings are loaded from and saved to desmume.ini

------------------------------------------------------------------------
r180 | cyberwarriorx | 2006-11-30 07:32:53 +0800 (四, 30 11月 2006) | 2 lines

-Added *.ds.gba to list of file types in rom open dialog

------------------------------------------------------------------------
r179 | cyberwarriorx | 2006-11-29 10:44:41 +0800 (三, 29 11月 2006) | 2 lines

-Reworked savestate code a bit. Should be more accurate now.

------------------------------------------------------------------------
r178 | yabause | 2006-11-29 05:58:02 +0800 (三, 29 11月 2006) | 2 lines

Added some missing copyright notices

------------------------------------------------------------------------
r177 | cyberwarriorx | 2006-11-29 05:49:02 +0800 (三, 29 11月 2006) | 2 lines

-Added copyright notice at the top of files. Anyone who's made contributions to the files should add their name at the top

------------------------------------------------------------------------
r176 | cyberwarriorx | 2006-11-28 04:11:20 +0800 (二, 28 11月 2006) | 4 lines

-Rewrote the framebuffer code. Now it supports VRAM blocks A-D
-Added support for Display Mode 0(Display Off)
-Added the basic framework for Display Mode 3(Display from Main RAM)

------------------------------------------------------------------------
r175 | cyberwarriorx | 2006-11-23 05:24:54 +0800 (四, 23 11月 2006) | 2 lines

-Added support for Master volume

------------------------------------------------------------------------
r174 | cyberwarriorx | 2006-11-23 03:09:09 +0800 (四, 23 11月 2006) | 2 lines

-fps display now work again in windows port

------------------------------------------------------------------------
r173 | yabause | 2006-11-23 02:57:04 +0800 (四, 23 11月 2006) | 3 lines

Commited autotools patch by Anthony Molinaro, it looks like he know
autotools fat better than I do :D

------------------------------------------------------------------------
r172 | yabause | 2006-11-22 07:01:35 +0800 (三, 22 11月 2006) | 5 lines

Added T2Memory functions and used them to rewrite GPU_screen accesses,
it should fix some more endianess bugs. Not all accesses have been
rewritten yet.
It shouldn't have broke anything...

------------------------------------------------------------------------
r171 | cyberwarriorx | 2006-11-20 10:22:35 +0800 (一, 20 11月 2006) | 2 lines

-Reverted back to 1.2 code. 1.3 changes are too broken. There's also so many stupid little things that got changed that don't functionally change anything. It makes it next to impossible to debug.

------------------------------------------------------------------------
r170 | shashclp | 2006-11-20 07:02:27 +0800 (一, 20 11月 2006) | 3 lines

+ Fixed LDR*/STR* opcodes (and other minor fixes) on the ARM core
+ Fixed unaligned memory access on THUMB Core

------------------------------------------------------------------------
r169 | cyberwarriorx | 2006-11-20 02:56:06 +0800 (一, 20 11月 2006) | 2 lines

-Fixed a few things that are causing compilation issues in VC++

------------------------------------------------------------------------
r168 | cyberwarriorx | 2006-11-20 01:33:42 +0800 (一, 20 11月 2006) | 2 lines

-Fixed a few things that are causing compilation issues in VC++

------------------------------------------------------------------------
r167 | cyberwarriorx | 2006-11-19 09:45:22 +0800 (日, 19 11月 2006) | 2 lines

-Fixed a few things that are causing compilation issues in VC++

------------------------------------------------------------------------
r166 | cyberwarriorx | 2006-11-18 09:10:55 +0800 (六, 18 11月 2006) | 3 lines

-Fixed SoundBias so it's an ARM7 bios function again
-Added GetSineTable

------------------------------------------------------------------------
r165 | yabause | 2006-11-18 07:33:07 +0800 (六, 18 11月 2006) | 3 lines

Some more fixes. Now it seems that first part of the process (creating
the hierarchical structure) is working better.

------------------------------------------------------------------------
r164 | amponzi | 2006-11-18 06:11:55 +0800 (六, 18 11月 2006) | 3 lines

- Adjusted SoundBias code to smoothly adjust bias based on delay
- Put SoundBias into ARM7 instead of ARM9 (Thank your father kids!)

------------------------------------------------------------------------
r163 | yabause | 2006-11-18 05:33:59 +0800 (六, 18 11月 2006) | 4 lines

Fixed the fix that didn't fixed cflash... but it's still not working
right...
Added some #include in SPU

------------------------------------------------------------------------
r162 | cyberwarriorx | 2006-11-18 05:00:42 +0800 (六, 18 11月 2006) | 2 lines

-"Temporarily" removed hacks

------------------------------------------------------------------------
r161 | amponzi | 2006-11-18 04:28:49 +0800 (六, 18 11月 2006) | 4 lines

- Added special detection for games that use unusual EEPROM address calls
- 4kbit EEPROM uses 9 bit and 2 bit autodetect sizes
- 64kbit EEPROM uses 12 bit and 22 bit autodetect sizes

------------------------------------------------------------------------
r160 | amponzi | 2006-11-18 04:27:35 +0800 (六, 18 11月 2006) | 2 lines

- Added preliminary SoundBias BIOS function call

------------------------------------------------------------------------
r159 | normmatt234 | 2006-11-17 14:04:58 +0800 (五, 17 11月 2006) | 2 lines

Added GetCrc16 bios function

------------------------------------------------------------------------
r158 | cyberwarriorx | 2006-11-17 11:12:22 +0800 (五, 17 11月 2006) | 6 lines

-Added Backup Memory autodetection. Almost perfect, there may be a few odd games that still need to manually picked
-Backup Memory is now loaded from file at the same time the rom is loaded.
-A slightly better algorithm for saving Backup Memory is being used, but it certainly needs improvement.
-Autodetection is now used by default
-Added menu option in windows port for autodetection

------------------------------------------------------------------------
r157 | normmatt234 | 2006-11-17 09:27:51 +0800 (五, 17 11月 2006) | 2 lines

Updated to use DirectX instead of SDL for Audio

------------------------------------------------------------------------
r156 | yabause | 2006-11-17 07:14:23 +0800 (五, 17 11月 2006) | 3 lines

Fixed cflash a bit, at least it doesn't have the same bugs anymore :p
(Added string.h in sndsdl includes too)

------------------------------------------------------------------------
r155 | cyberwarriorx | 2006-11-17 01:14:40 +0800 (五, 17 11月 2006) | 2 lines

-Added proper logging for unimplemented bios functions. This should help when debugging non-working games.

------------------------------------------------------------------------
r154 | cyberwarriorx | 2006-11-15 23:39:32 +0800 (三, 15 11月 2006) | 2 lines

-Added GetPitchTable and GetVolumeTable support. This should fix any remaining games with pitch and volume problems. Eventually the tables should be generated at runtime instead of being huge static arrays.

------------------------------------------------------------------------
r153 | cyberwarriorx | 2006-11-15 03:28:28 +0800 (三, 15 11月 2006) | 2 lines

-Fixed Read High/Write High commands on non-eeprom type 1 types

------------------------------------------------------------------------
r152 | cyberwarriorx | 2006-11-15 01:21:01 +0800 (三, 15 11月 2006) | 4 lines

-aponzi fixed 4kbit EEPROM support
-Removed some unnecessary code
-Reading/Writing of file has been disabled until it can be rewritten

------------------------------------------------------------------------
r151 | cyberwarriorx | 2006-11-15 00:53:41 +0800 (三, 15 11月 2006) | 2 lines

-Fixed a few things that didn't make sense

------------------------------------------------------------------------
r150 | normmatt234 | 2006-11-14 14:16:03 +0800 (二, 14 11月 2006) | 2 lines

mc .c/.h - Added realloc to realloc backup memory on the fly

------------------------------------------------------------------------
r149 | normmatt234 | 2006-11-14 14:14:39 +0800 (二, 14 11月 2006) | 3 lines

main.c - Now includes menu options to change save types on the fly
resources .h/.rc - Added Config menu and Save Types options

------------------------------------------------------------------------
r148 | normmatt234 | 2006-11-14 12:44:58 +0800 (二, 14 11月 2006) | 2 lines

- Opps missed out one SDL vs DirectX sound api issue

------------------------------------------------------------------------
r147 | normmatt234 | 2006-11-14 12:39:57 +0800 (二, 14 11月 2006) | 3 lines

- Fixed sound hanging when you pause emulator
- Fixed emulator not pausing when click open in the menu

------------------------------------------------------------------------
r146 | normmatt234 | 2006-11-14 12:35:54 +0800 (二, 14 11月 2006) | 5 lines

MMU .c/.h - Added a Clear Memory function
NDSSystem.c - Call Clear Memory every time you run a rom to make sure all the the
 memory is blank like it should be
mc.c - Added basic saving backup ram to file (it slows saving down ALOT though)

------------------------------------------------------------------------
r145 | cyberwarriorx | 2006-11-14 02:00:33 +0800 (二, 14 11月 2006) | 2 lines

-Fixed a bug where some sprites would have the wrong palette.

------------------------------------------------------------------------
r144 | normmatt234 | 2006-11-13 16:28:37 +0800 (一, 13 11月 2006) | 2 lines

Added SPU_Pause function

------------------------------------------------------------------------
r143 | normmatt234 | 2006-11-13 15:26:03 +0800 (一, 13 11月 2006) | 2 lines

Added support for FRAM and added some defines for save sizes

------------------------------------------------------------------------
r142 | normmatt234 | 2006-11-13 13:51:49 +0800 (一, 13 11月 2006) | 2 lines

updated to work with latest cvs code

------------------------------------------------------------------------
r141 | cyberwarriorx | 2006-11-13 05:36:24 +0800 (一, 13 11月 2006) | 2 lines

-Sound is now enabled by default in linux port

------------------------------------------------------------------------
r140 | cyberwarriorx | 2006-11-13 05:34:54 +0800 (一, 13 11月 2006) | 2 lines

-Doh! Fixed another sound buffering bug, this time in the linux port

------------------------------------------------------------------------
r139 | cyberwarriorx | 2006-11-13 04:30:16 +0800 (一, 13 11月 2006) | 4 lines

-Sound output is now enabled by default for the windows port
-Fixed a bug where the emulation thread wasn't being killed when the program finished
-Added new experimental auto frameskip/frame limit code.

------------------------------------------------------------------------
r138 | cyberwarriorx | 2006-11-13 02:24:53 +0800 (一, 13 11月 2006) | 2 lines

-Fixed the formatting

------------------------------------------------------------------------
r137 | cyberwarriorx | 2006-11-13 02:23:14 +0800 (一, 13 11月 2006) | 2 lines

-Added new function that allows porters to change sound cores after emulation has been initialized.

------------------------------------------------------------------------
r136 | cyberwarriorx | 2006-11-12 23:44:25 +0800 (日, 12 11月 2006) | 2 lines

-Removed some old code

------------------------------------------------------------------------
r135 | cyberwarriorx | 2006-11-11 07:39:21 +0800 (六, 11 11月 2006) | 2 lines

-Fixed a bug where the emulator would crash if desmume.ini wasn't present

------------------------------------------------------------------------
r134 | yabause | 2006-11-10 05:51:39 +0800 (五, 10 11月 2006) | 2 lines

Fixed linux fs driver... cflash would need some rewriiting too...

------------------------------------------------------------------------
r133 | cyberwarriorx | 2006-11-08 03:08:28 +0800 (三, 08 11月 2006) | 3 lines

-Oops. Forgot to commit windows sound support file
-Added SDL sound support for linux port

------------------------------------------------------------------------
r132 | cyberwarriorx | 2006-11-08 00:33:31 +0800 (三, 08 11月 2006) | 2 lines

Linux port should compile again

------------------------------------------------------------------------
r131 | cyberwarriorx | 2006-11-07 08:26:49 +0800 (二, 07 11月 2006) | 2 lines

-Added Get ROM chip ID Cartridge command. This should greatly increase compatibility.

------------------------------------------------------------------------
r130 | cyberwarriorx | 2006-11-07 02:49:01 +0800 (二, 07 11月 2006) | 8 lines

-Added NDS Sound emulation(spu.c/spu.h)
-Fixed a few odd bugs
-Added a new sound core system(pretty much taken right out of yabause)
-Added Wav file write core
-Added dummy core(it's currently set as the default)
-Added Direct Sound core(windows port only)
-There's still a number of issues with sound. I really don't understand what's causing them.

------------------------------------------------------------------------
r129 | cyberwarriorx | 2006-11-07 01:01:07 +0800 (二, 07 11月 2006) | 2 lines

-Removed some unnecessary logging

------------------------------------------------------------------------
r128 | yabause | 2006-11-05 03:51:47 +0800 (日, 05 11月 2006) | 3 lines

Some more fixes to the linux filesystem driver, it seems to be
working now.

------------------------------------------------------------------------
r127 | yabause | 2006-11-04 22:52:22 +0800 (六, 04 11月 2006) | 2 lines

Removed 8.3 filenames from linux filesystem "driver" as it can't works.

------------------------------------------------------------------------
r126 | yabause | 2006-11-04 22:09:36 +0800 (六, 04 11月 2006) | 4 lines

Fixed a bug I introduced in GPU and made cflash working again
(using the current directory instead of the rom directory, I
think it should be ok)

------------------------------------------------------------------------
r125 | yabause | 2006-10-30 06:46:53 +0800 (一, 30 10月 2006) | 2 lines

Some more endianess fixes

------------------------------------------------------------------------
r124 | yabause | 2006-10-29 23:47:19 +0800 (日, 29 10月 2006) | 6 lines

Almost all memory access are now using T1Memory functions, there's
some u32 accesses that should use T2Memory left. u8 * casts are
still here too but they should be ok.
Most of those changes have been tested but not all, so there may be
problems...

------------------------------------------------------------------------
r123 | yabause | 2006-10-29 06:48:38 +0800 (日, 29 10月 2006) | 2 lines

Some more endianess fixes

------------------------------------------------------------------------
r122 | yabause | 2006-10-28 23:44:24 +0800 (六, 28 10月 2006) | 3 lines

Added Yabause's T1Memory functions and used them to replace pointer
casts. It should fix endianess issues. (still a work in progress)

------------------------------------------------------------------------
r121 | yabause | 2006-10-17 03:14:25 +0800 (二, 17 10月 2006) | 2 lines

Some minor fixes to the gtk port.

------------------------------------------------------------------------
r120 | cyberwarriorx | 2006-10-16 07:00:26 +0800 (一, 16 10月 2006) | 2 lines

-gtk code now working again.

------------------------------------------------------------------------
r119 | cyberwarriorx | 2006-10-16 06:59:07 +0800 (一, 16 10月 2006) | 2 lines

Alright, CLI is definitely working this time

------------------------------------------------------------------------
r118 | cyberwarriorx | 2006-10-16 06:22:07 +0800 (一, 16 10月 2006) | 2 lines

-linux cli should be working again

------------------------------------------------------------------------
r117 | cyberwarriorx | 2006-10-16 06:08:43 +0800 (一, 16 10月 2006) | 2 lines

-Moved over LoadFirmware function from gtk code to emulator core. Yet another function that should be portable

------------------------------------------------------------------------
r116 | cyberwarriorx | 2006-10-16 05:42:16 +0800 (一, 16 10月 2006) | 3 lines

-Screenshot function moved to NDSSystem.c. Now all ports can use a universal screenshot function.
-moved __PACKED type to types.h

------------------------------------------------------------------------
r115 | cyberwarriorx | 2006-10-16 04:45:17 +0800 (一, 16 10月 2006) | 5 lines

-Renamed the various *Init/*DeInit functions to *_Init/*_DeInit so it better matches the naming convention of the rest of the functions
-Changed the way NDS_LoadROM works. It still needs -some- work(cflash is broken for now), but basically the idea is to cut down on duplicate code and instead have the emulator core do most of the work.
-Added a GPU Reset function. Once the reset function for the other chips, etc. are working, we can finally do a proper reset function.
-Linux port is probably broken again(sorry!)

------------------------------------------------------------------------
r114 | cyberwarriorx | 2006-10-15 22:11:13 +0800 (日, 15 10月 2006) | 2 lines

Oops, forgot to adjust path for types.h

------------------------------------------------------------------------
r113 | cyberwarriorx | 2006-10-15 21:55:25 +0800 (日, 15 10月 2006) | 2 lines

Doh! Guill, you forgot to actually add the ARM9.* files again ;P

------------------------------------------------------------------------
r112 | yabause | 2006-10-15 06:03:42 +0800 (日, 15 10月 2006) | 4 lines

Moved ARM9.h from arm9 directory to src one and removed ARM9.c file
(and move the ARM9Mem declaration to GPU.c). It should fix the
compilation on Mac.

------------------------------------------------------------------------
r111 | yabause | 2006-10-15 01:08:44 +0800 (日, 15 10月 2006) | 5 lines

Some more fixes to the gtk port:
 - now using portable types
 - actions can only be used when it makes sense
   (for instance, you have to open a rom before starting the emulation)

------------------------------------------------------------------------
r110 | yabause | 2006-10-14 22:13:31 +0800 (六, 14 10月 2006) | 2 lines

Started to change the gtk code to use GtkAction.

------------------------------------------------------------------------
r109 | yabause | 2006-10-14 19:58:27 +0800 (六, 14 10月 2006) | 6 lines

- Changed configure.ac so Mac OS X uses fs-linux.c ... I may rename it :p
- Added "static" to functions in thumb_instructions.c, arm_instructions.c
    and Disassembler.c. They are "private" functions and they are declared
    both in Disassembler and arm/thumb_instructions leading to duplicate
    symbols in libdesmume.a

------------------------------------------------------------------------
r108 | yabause | 2006-10-14 05:15:27 +0800 (六, 14 10月 2006) | 2 lines

Changed GPU_ligne arguments to something better.

------------------------------------------------------------------------
r107 | yabause | 2006-10-14 04:35:47 +0800 (六, 14 10月 2006) | 3 lines

There was two much GPU.c/.h files... removed some of them... and moved the
other at the place where I removed the first...

------------------------------------------------------------------------
r106 | yabause | 2006-10-13 06:58:00 +0800 (五, 13 10月 2006) | 2 lines

Removed ini.c/.h in gtk sources and used GKeyFile from glib instead.

------------------------------------------------------------------------
r105 | yabause | 2006-10-13 06:11:24 +0800 (五, 13 10月 2006) | 3 lines

"Rewrote" gtk gui in C... (it was almost just a matter of renaming .cpp
files to .c)

------------------------------------------------------------------------
r104 | yabause | 2006-10-13 05:59:58 +0800 (五, 13 10月 2006) | 4 lines

Fixed linux version (cli and gtk interfaces). Hope I didn't broke anything.
The gtk gui is still in C++, so I had to add some extern "C" to compile it,
they may be removed when it will be rewrote in C.

------------------------------------------------------------------------
r103 | cyberwarriorx | 2006-10-13 00:58:57 +0800 (五, 13 10月 2006) | 2 lines

-Files no longer needed

------------------------------------------------------------------------
r102 | cyberwarriorx | 2006-10-13 00:58:00 +0800 (五, 13 10月 2006) | 3 lines

-Moved cflash.* and fat.h to main source directory since they're not port-specific code.
-Adjusted makefiles and other sourcefiles accordingly

------------------------------------------------------------------------
r101 | cyberwarriorx | 2006-10-12 23:42:11 +0800 (四, 12 10月 2006) | 5 lines

-fw.* files renamed to mc.* since it's not just firmware stuff in it anymore.
-Moved those files to main source tree, since it doesn't make sense to have in a separate directory
-Removed spi.* from arm7 directory since they're redundant.
-A few other fixes

------------------------------------------------------------------------
r100 | cyberwarriorx | 2006-10-12 05:52:43 +0800 (四, 12 10月 2006) | 2 lines

-Added support for Backup Memory. Memory type detection still needs to be added. I'm not sure what's the best way of handling that.

------------------------------------------------------------------------
r99 | cyberwarriorx | 2006-10-05 08:49:16 +0800 (四, 05 10月 2006) | 2 lines

-CLI port is now switched over to C

------------------------------------------------------------------------
r98 | cyberwarriorx | 2006-10-05 08:16:43 +0800 (四, 05 10月 2006) | 3 lines

-Main emulator code and windows port code conversion to C 100% complete. Files have been renamed to .c/.h files, and whatever needed fixing or rewriting has been rewritten. So at least that's one less major task to do.
-autotools files have been rebuilt

------------------------------------------------------------------------
r97 | cyberwarriorx | 2006-10-04 04:59:50 +0800 (三, 04 10月 2006) | 2 lines

-saves.cpp/saves.hpp has been moved out of /src/windows since it isn't port specific. Code has also been made more portable and cleaned up. More work still needs to be done.

------------------------------------------------------------------------
r96 | cyberwarriorx | 2006-10-04 04:29:42 +0800 (三, 04 10月 2006) | 2 lines

-Fixed a few more issues in the main emulator code that needed to be done before we can officially start compiling them as C code.

------------------------------------------------------------------------
r95 | cyberwarriorx | 2006-10-04 03:11:59 +0800 (三, 04 10月 2006) | 2 lines

-No longer needed

------------------------------------------------------------------------
r94 | thoduv | 2006-07-06 05:02:23 +0800 (四, 06  7月 2006) | 2 lines

Update on new memory system: added basic DMA and some memories (itcm, shared, gba rom)

------------------------------------------------------------------------
r93 | romanito | 2006-07-05 21:58:45 +0800 (三, 05  7月 2006) | 2 lines

added a 48x48 version

------------------------------------------------------------------------
r92 | romanito | 2006-07-05 21:15:41 +0800 (三, 05  7月 2006) | 2 lines

added a 16x16 version

------------------------------------------------------------------------
r91 | thoduv | 2006-07-05 07:43:48 +0800 (三, 05  7月 2006) | 2 lines

New memory system update (endian-safe).

------------------------------------------------------------------------
r90 | thoduv | 2006-07-05 05:48:58 +0800 (三, 05  7月 2006) | 2 lines

Endianess conversion macros

------------------------------------------------------------------------
r89 | thoduv | 2006-07-05 05:46:47 +0800 (三, 05  7月 2006) | 2 lines

Endianess conversion macros

------------------------------------------------------------------------
r88 | thoduv | 2006-07-05 02:51:39 +0800 (三, 05  7月 2006) | 5 lines

Reordering directories (arm9 and arm7 folder added).
Moved GPU and ARM9 to arm9/
Moved spi and fw (added write support, not tested) to arm7/
Compilation may be broken for gtk version (i'll fix it soon) and windows version (includes have to be changed)

------------------------------------------------------------------------
r87 | yabause | 2006-07-04 22:37:59 +0800 (二, 04  7月 2006) | 2 lines

Moved ARM7 and ARM9 from NDSSystem to global scope.

------------------------------------------------------------------------
r86 | thoduv | 2006-07-03 18:12:48 +0800 (一, 03  7月 2006) | 2 lines

BIT(n) was false. Now screen swap is fixed.

------------------------------------------------------------------------
r85 | thoduv | 2006-07-03 07:48:39 +0800 (一, 03  7月 2006) | 3 lines

Added macros for clearing writing to memory
Cleaned DS card implementation (not completely done, to finish)

------------------------------------------------------------------------
r84 | thoduv | 2006-07-03 04:53:26 +0800 (一, 03  7月 2006) | 5 lines

GTK+ gui again:
- added debug key
- added INI files parsing/writing functions
- added config file loading/writing (keys)

------------------------------------------------------------------------
r83 | thoduv | 2006-07-02 19:21:07 +0800 (日, 02  7月 2006) | 5 lines

Big change in GTK+ gui: now it can load/unload/load... roms.
Added firmware file settings.
Added desmume.cpp/h (can be used for other guis)
Deleted free() of ROM in NDSSystem, it's up to gui to malloc/free (so, no more double free in GTK+ gui)

------------------------------------------------------------------------
r82 | thoduv | 2006-07-02 05:55:31 +0800 (日, 02  7月 2006) | 3 lines

Added basic frameskip
Updated ioregsView

------------------------------------------------------------------------
r81 | normmatt234 | 2006-07-01 19:58:58 +0800 (六, 01  7月 2006) | 2 lines

fixed includes for ConfigKeys was including the old .c and .h files

------------------------------------------------------------------------
r80 | normmatt234 | 2006-07-01 19:47:07 +0800 (六, 01  7月 2006) | 2 lines

include GPU.h, GPU.c, ARM9.h, ARM9.c

------------------------------------------------------------------------
r79 | normmatt234 | 2006-07-01 19:45:12 +0800 (六, 01  7月 2006) | 2 lines

created a new key config dialog

------------------------------------------------------------------------
r78 | thoduv | 2006-07-01 17:55:08 +0800 (六, 01  7月 2006) | 5 lines

Modifications to GTK+ gui:
- Speed improvement (use a higher priority for idle loop)
- Added beggining of "tool" system
- Tool "ioregsView" for REGS IE, IF and IME.

------------------------------------------------------------------------
r77 | thoduv | 2006-06-30 05:59:20 +0800 (五, 30  6月 2006) | 2 lines

Added macros in MMU, better indentation, added some coments, etc...

------------------------------------------------------------------------
r76 | thoduv | 2006-06-30 03:35:53 +0800 (五, 30  6月 2006) | 3 lines

mmu code cleaning: added macros for REG_I* (IE, IME, IF).
renamed MMU.REG_I* to MMU.reg_I*

------------------------------------------------------------------------
r75 | thoduv | 2006-06-30 02:43:36 +0800 (五, 30  6月 2006) | 2 lines

*** empty log message ***

------------------------------------------------------------------------
r74 | yabause | 2006-06-27 17:28:02 +0800 (二, 27  6月 2006) | 4 lines

Changed #include dependencies again.
Fixed a bug in GPU (xfin could be greater than LG causing a segfault).
Moved GPUs from NDS to global.

------------------------------------------------------------------------
r73 | thoduv | 2006-06-23 01:06:54 +0800 (五, 23  6月 2006) | 2 lines

gpu: replaced >>, <<, & and values with understandable macros from libnds (video.h) and cleaned indentation. partially done, i'll finish later

------------------------------------------------------------------------
r72 | yabause | 2006-06-21 16:54:00 +0800 (三, 21  6月 2006) | 2 lines

Rewrote GPU in C.

------------------------------------------------------------------------
r71 | yabause | 2006-06-21 07:08:42 +0800 (三, 21  6月 2006) | 4 lines

Fixed the windows version avec the separation of MMU.
Renamed ConfigKeys.c/.h to .cpp/.hpp to get it compiling
with autotools scripts.

------------------------------------------------------------------------
r70 | yabause | 2006-06-21 06:48:03 +0800 (三, 21  6月 2006) | 3 lines

Separated ARM9 from MMU so GPU doesn't depend on it anymore. Should ease
the rewrite in C.

------------------------------------------------------------------------
r69 | normmatt234 | 2006-06-14 19:47:31 +0800 (三, 14  6月 2006) | 2 lines

Initial Import

------------------------------------------------------------------------
r68 | normmatt234 | 2006-06-14 19:45:44 +0800 (三, 14  6月 2006) | 2 lines

- included all files needed

------------------------------------------------------------------------
r67 | normmatt234 | 2006-06-14 19:44:53 +0800 (三, 14  6月 2006) | 4 lines

main.cpp - added proper X/Y/DEBUG key implementations
resources.rc - added config dialog
resource.h - added combo defenitions

------------------------------------------------------------------------
r66 | normmatt234 | 2006-06-14 19:42:12 +0800 (三, 14  6月 2006) | 2 lines

-fixed compile errors in dev cpp

------------------------------------------------------------------------
r65 | yabause | 2006-06-11 00:18:26 +0800 (日, 11  6月 2006) | 3 lines

Moved some macros from armcpu.h in a separate file.
Moved Disassembler.cpp/.hpp to Disassembler.c/.h

------------------------------------------------------------------------
r64 | yabause | 2006-06-09 06:17:02 +0800 (五, 09  6月 2006) | 2 lines

Added FS_SEPARATOR definition ('/' on linux, '\\' on windows)

------------------------------------------------------------------------
r63 | yabause | 2006-06-09 05:57:00 +0800 (五, 09  6月 2006) | 2 lines

Added cflash support to gtk interface. fs-linux now detects directories.

------------------------------------------------------------------------
r62 | yabause | 2006-06-08 06:52:24 +0800 (四, 08  6月 2006) | 3 lines

Added some code to fs-linux.c, it's now working enough to display files
but doesn't parse subdirs. The code needs some cleaning...

------------------------------------------------------------------------
r61 | yabause | 2006-06-08 06:11:43 +0800 (四, 08  6月 2006) | 2 lines

Moved the \\* in fs-windows.c

------------------------------------------------------------------------
r60 | yabause | 2006-06-08 06:00:48 +0800 (四, 08  6月 2006) | 2 lines

Moved fs.c to fs-windows.c and added some dummy fs-linux.c

------------------------------------------------------------------------
r59 | yabause | 2006-06-07 06:57:24 +0800 (三, 07  6月 2006) | 5 lines

Removed the windows-specific code from cflash and fat files.
Moved the directory access code in fs.c/.h
fs.c is still windows-specific code, I'll have to write a
POSIX version of that file.

------------------------------------------------------------------------
r58 | cyberwarriorx | 2006-06-05 06:32:56 +0800 (一, 05  6月 2006) | 2 lines

-Changed's unsigned long's to u32. Should be more 64-bit compatible

------------------------------------------------------------------------
r57 | ieremiou | 2006-05-26 22:03:43 +0800 (五, 26  5月 2006) | 4 lines

- Fixes for cflash updates
- Added makefile.am linking for cflash
- Removed self-inserting redundant include in yopyop.. I thought that was fixed before.. sigh.

------------------------------------------------------------------------
r56 | normmatt234 | 2006-05-26 15:41:51 +0800 (五, 26  5月 2006) | 3 lines

main.cpp - added GBAMP emulation thanks to mic
DeSmuME.dev - added icon and removed the include for the zlib dll, now it shouldnt require the dll

------------------------------------------------------------------------
r55 | yabause | 2006-05-14 20:08:05 +0800 (日, 14  5月 2006) | 2 lines

FIFO is now in C.

------------------------------------------------------------------------
r54 | yabause | 2006-05-14 18:35:12 +0800 (日, 14  5月 2006) | 2 lines

Removing framebuffer emulation :p

------------------------------------------------------------------------
r53 | yabause | 2006-05-14 17:16:42 +0800 (日, 14  5月 2006) | 4 lines

Added initial framebuffer emulation. You have to define FRAMEBUFFER
to enable it (this can be done with ./configure --enable-framebuffer
if you're using autotools scripts)

------------------------------------------------------------------------
r52 | yabause | 2006-05-14 14:14:48 +0800 (日, 14  5月 2006) | 4 lines

Fixed debug.h so variadic macros are working without arguments and
added an extern "C" so there's no linker error when using autotools
script to compile.

------------------------------------------------------------------------
r51 | yabause | 2006-05-14 06:34:38 +0800 (日, 14  5月 2006) | 3 lines

Removed the NDSSystem parameter as it's a extern one.
Rewrote the LOG macros so they are ANSI-compliant.

------------------------------------------------------------------------
r50 | yabause | 2006-05-14 02:43:53 +0800 (日, 14  5月 2006) | 2 lines

Removing useless files.

------------------------------------------------------------------------
r49 | yabause | 2006-05-13 20:48:19 +0800 (六, 13  5月 2006) | 3 lines

Fixed autotools script so they're searching for zlib and add some #ifdef
in saves.cpp

------------------------------------------------------------------------
r48 | normmatt234 | 2006-05-13 19:18:48 +0800 (六, 13  5月 2006) | 2 lines

Added Savestates

------------------------------------------------------------------------
r47 | aped | 2006-05-13 17:09:59 +0800 (六, 13  5月 2006) | 2 lines

translated more stuff

------------------------------------------------------------------------
r46 | yabause | 2006-05-13 05:53:26 +0800 (六, 13  5月 2006) | 2 lines

bool -> BOOL (true -> TRUE and false -> FALSE too, btw)

------------------------------------------------------------------------
r45 | yabause | 2006-05-05 18:18:16 +0800 (五, 05  5月 2006) | 3 lines

Some mac os x support... at least now it's not segfaulting anymore...
but it gives black screen.

------------------------------------------------------------------------
r44 | yabause | 2006-05-05 16:33:09 +0800 (五, 05  5月 2006) | 2 lines

Added a command line interface.

------------------------------------------------------------------------
r43 | yabause | 2006-05-02 23:10:27 +0800 (二, 02  5月 2006) | 2 lines

Partial rewrite of MMU in C. Gonna finish that later.

------------------------------------------------------------------------
r42 | cyberwarriorx | 2006-04-19 03:43:26 +0800 (三, 19  4月 2006) | 4 lines

-Fixed a few bugs
-Cleaned up code(screenshots now using win32 api structures)
-A few other things I can't remember

------------------------------------------------------------------------
r41 | cyberwarriorx | 2006-04-19 03:01:26 +0800 (三, 19  4月 2006) | 3 lines

-Added English Menu's for screenshots
-Fixed a strange issue where yopyop_private.rc was including itself

------------------------------------------------------------------------
r40 | delfare | 2006-04-19 01:24:02 +0800 (三, 19  4月 2006) | 2 lines

limit fps

------------------------------------------------------------------------
r39 | delfare | 2006-04-19 00:41:34 +0800 (三, 19  4月 2006) | 2 lines

printscreen add

------------------------------------------------------------------------
r38 | cyberwarriorx | 2006-04-17 03:17:11 +0800 (一, 17  4月 2006) | 2 lines

-Added BOOL type and TRUE and FALSE definitions(if they're not defined). When converting C++ -> C, please use this to convert bool variables

------------------------------------------------------------------------
r37 | yabause | 2006-04-15 21:12:13 +0800 (六, 15  4月 2006) | 2 lines

Partial conversion of FIFO class to C.

------------------------------------------------------------------------
r36 | cyberwarriorx | 2006-04-15 04:28:15 +0800 (六, 15  4月 2006) | 5 lines

-Translated some french variables to english
-Added an english menu for windows port
-Fixed a couple of potential issues
-Added new logging to windows port

------------------------------------------------------------------------
r35 | cyberwarriorx | 2006-04-14 08:32:35 +0800 (五, 14  4月 2006) | 2 lines

-Changed code to use Yabause's logging system, fixed a few odd things

------------------------------------------------------------------------
r34 | cyberwarriorx | 2006-04-14 08:24:45 +0800 (五, 14  4月 2006) | 2 lines

-File needs to be redone as it's not as up to date as armcpu.cpp(It's not entirely in C yet either)

------------------------------------------------------------------------
r33 | cyberwarriorx | 2006-04-14 03:35:46 +0800 (五, 14  4月 2006) | 2 lines

-Adding Yabause's logging system(since it's more functionally complete)

------------------------------------------------------------------------
r32 | cyberwarriorx | 2006-04-13 06:59:20 +0800 (四, 13  4月 2006) | 2 lines

-Changed version to 0.3.3 which is what the windows port currently reports it as.

------------------------------------------------------------------------
r31 | cyberwarriorx | 2006-04-13 04:55:35 +0800 (四, 13  4月 2006) | 2 lines

-Changed variable types so they're more portable

------------------------------------------------------------------------
r30 | cyberwarriorx | 2006-04-13 04:41:39 +0800 (四, 13  4月 2006) | 2 lines

-Changed variable types so they're more portable

------------------------------------------------------------------------
r29 | yabause | 2006-04-13 04:03:05 +0800 (四, 13  4月 2006) | 2 lines

Replaced __fastcall by FASTCALL

------------------------------------------------------------------------
r28 | cyberwarriorx | 2006-04-13 04:02:11 +0800 (四, 13  4月 2006) | 2 lines

-Changed variable types so they're more portable

------------------------------------------------------------------------
r27 | thoduv | 2006-04-10 22:24:12 +0800 (一, 10  4月 2006) | 2 lines

Added "config.h"

------------------------------------------------------------------------
r26 | cyberwarriorx | 2006-04-10 10:22:38 +0800 (一, 10  4月 2006) | 2 lines

-Changed variable types so they're more portable

------------------------------------------------------------------------
r25 | cyberwarriorx | 2006-04-10 10:00:55 +0800 (一, 10  4月 2006) | 2 lines

-Changed variable types so they're more portable

------------------------------------------------------------------------
r24 | cyberwarriorx | 2006-04-09 04:20:57 +0800 (日, 09  4月 2006) | 2 lines

-Changed variable types so they're more portable

------------------------------------------------------------------------
r23 | yabause | 2006-04-08 23:20:21 +0800 (六, 08  4月 2006) | 2 lines

Fixed compilation for windows.

------------------------------------------------------------------------
r22 | yabause | 2006-04-08 22:23:26 +0800 (六, 08  4月 2006) | 2 lines

Moved the SDL test in linux only part, as it isn't needed for windows.

------------------------------------------------------------------------
r21 | yabause | 2006-04-08 21:28:26 +0800 (六, 08  4月 2006) | 2 lines

Got some comilation problems with resource.hpp, so renamed it to resource.h

------------------------------------------------------------------------
r20 | yabause | 2006-04-08 21:25:25 +0800 (六, 08  4月 2006) | 3 lines

Added autotool scripts for windows. Fixed some things in the windows
version to have it compiling.

------------------------------------------------------------------------
r19 | yabause | 2006-04-08 04:51:14 +0800 (六, 08  4月 2006) | 2 lines

updating autotools script to match source changes.

------------------------------------------------------------------------
r18 | thoduv | 2006-04-08 03:20:51 +0800 (六, 08  4月 2006) | 2 lines

BIG CHANGE : Core of emu (armcpu) has been translated to C

------------------------------------------------------------------------
r17 | yabause | 2006-04-07 05:26:13 +0800 (五, 07  4月 2006) | 2 lines

forgot to add the conditional subdir in Makefile.am

------------------------------------------------------------------------
r16 | yabause | 2006-04-07 05:22:22 +0800 (五, 07  4月 2006) | 2 lines

gtk should be used only on linux (for time being)

------------------------------------------------------------------------
r15 | yabause | 2006-04-07 04:41:56 +0800 (五, 07  4月 2006) | 2 lines

Adding autotools stuff. Still need to write the windows Makefile.am.

------------------------------------------------------------------------
r14 | thoduv | 2006-04-07 03:57:38 +0800 (五, 07  4月 2006) | 2 lines

Conversion from ARM_CPU (c++) to C ! :)

------------------------------------------------------------------------
r13 | thoduv | 2006-04-07 03:15:36 +0800 (五, 07  4月 2006) | 2 lines

Rename "types.hpp" to "types.h" (seeing I've made the error in all header ;P)

------------------------------------------------------------------------
r12 | thoduv | 2006-04-07 00:46:53 +0800 (五, 07  4月 2006) | 2 lines

Added GTK+ GUI

------------------------------------------------------------------------
r11 | cyberwarriorx | 2006-04-06 09:30:31 +0800 (四, 06  4月 2006) | 2 lines

-Accidently forgot to rename one file

------------------------------------------------------------------------
r10 | cyberwarriorx | 2006-04-06 07:13:44 +0800 (四, 06  4月 2006) | 2 lines

-Initial source add. Windows-specific code

------------------------------------------------------------------------
r9 | cyberwarriorx | 2006-04-06 05:01:57 +0800 (四, 06  4月 2006) | 2 lines

-Initial source add. Changed copyright headers to english, change file name conventions to *.cpp/*.hpp

------------------------------------------------------------------------
r8 | yabause | 2006-04-06 04:32:01 +0800 (四, 06  4月 2006) | 2 lines

Testing syncmail...

------------------------------------------------------------------------
r6 | cyberwarriorx | 2006-04-06 04:14:28 +0800 (四, 06  4月 2006) | 3 lines

This commit was generated by cvs2svn to compensate for changes in r5,
which included commits to RCS files with non-trunk default branches.

------------------------------------------------------------------------
